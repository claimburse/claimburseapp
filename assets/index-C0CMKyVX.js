(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var tf={exports:{}},Ya={},nf={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function zS(){if(iv)return ke;iv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function P(B,Y,ye){this.props=B,this.context=Y,this.refs=C,this.updater=ye||x}P.prototype.isReactComponent={},P.prototype.setState=function(B,Y){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Y,"setState")},P.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=P.prototype;function j(B,Y,ye){this.props=B,this.context=Y,this.refs=C,this.updater=ye||x}var K=j.prototype=new N;K.constructor=j,R(K,P.prototype),K.isPureReactComponent=!0;var re=Array.isArray,te=Object.prototype.hasOwnProperty,ae={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function A(B,Y,ye){var Ce,Ie={},be=null,Be=null;if(Y!=null)for(Ce in Y.ref!==void 0&&(Be=Y.ref),Y.key!==void 0&&(be=""+Y.key),Y)te.call(Y,Ce)&&!V.hasOwnProperty(Ce)&&(Ie[Ce]=Y[Ce]);var Ue=arguments.length-2;if(Ue===1)Ie.children=ye;else if(1<Ue){for(var We=Array(Ue),At=0;At<Ue;At++)We[At]=arguments[At+2];Ie.children=We}if(B&&B.defaultProps)for(Ce in Ue=B.defaultProps,Ue)Ie[Ce]===void 0&&(Ie[Ce]=Ue[Ce]);return{$$typeof:t,type:B,key:be,ref:Be,props:Ie,_owner:ae.current}}function I(B,Y){return{$$typeof:t,type:B.type,key:Y,ref:B.ref,props:B.props,_owner:B._owner}}function b(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function O(B){var Y={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ye){return Y[ye]})}var z=/\/+/g;function D(B,Y){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):Y.toString(36)}function Je(B,Y,ye,Ce,Ie){var be=typeof B;(be==="undefined"||be==="boolean")&&(B=null);var Be=!1;if(B===null)Be=!0;else switch(be){case"string":case"number":Be=!0;break;case"object":switch(B.$$typeof){case t:case e:Be=!0}}if(Be)return Be=B,Ie=Ie(Be),B=Ce===""?"."+D(Be,0):Ce,re(Ie)?(ye="",B!=null&&(ye=B.replace(z,"$&/")+"/"),Je(Ie,Y,ye,"",function(At){return At})):Ie!=null&&(b(Ie)&&(Ie=I(Ie,ye+(!Ie.key||Be&&Be.key===Ie.key?"":(""+Ie.key).replace(z,"$&/")+"/")+B)),Y.push(Ie)),1;if(Be=0,Ce=Ce===""?".":Ce+":",re(B))for(var Ue=0;Ue<B.length;Ue++){be=B[Ue];var We=Ce+D(be,Ue);Be+=Je(be,Y,ye,We,Ie)}else if(We=E(B),typeof We=="function")for(B=We.call(B),Ue=0;!(be=B.next()).done;)be=be.value,We=Ce+D(be,Ue++),Be+=Je(be,Y,ye,We,Ie);else if(be==="object")throw Y=String(B),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Be}function Dt(B,Y,ye){if(B==null)return B;var Ce=[],Ie=0;return Je(B,Ce,"","",function(be){return Y.call(ye,be,Ie++)}),Ce}function Vt(B){if(B._status===-1){var Y=B._result;Y=Y(),Y.then(function(ye){(B._status===0||B._status===-1)&&(B._status=1,B._result=ye)},function(ye){(B._status===0||B._status===-1)&&(B._status=2,B._result=ye)}),B._status===-1&&(B._status=0,B._result=Y)}if(B._status===1)return B._result.default;throw B._result}var Ae={current:null},se={transition:null},ge={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:se,ReactCurrentOwner:ae};function le(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:Dt,forEach:function(B,Y,ye){Dt(B,function(){Y.apply(this,arguments)},ye)},count:function(B){var Y=0;return Dt(B,function(){Y++}),Y},toArray:function(B){return Dt(B,function(Y){return Y})||[]},only:function(B){if(!b(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},ke.Component=P,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=j,ke.StrictMode=r,ke.Suspense=f,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,ke.act=le,ke.cloneElement=function(B,Y,ye){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ce=R({},B.props),Ie=B.key,be=B.ref,Be=B._owner;if(Y!=null){if(Y.ref!==void 0&&(be=Y.ref,Be=ae.current),Y.key!==void 0&&(Ie=""+Y.key),B.type&&B.type.defaultProps)var Ue=B.type.defaultProps;for(We in Y)te.call(Y,We)&&!V.hasOwnProperty(We)&&(Ce[We]=Y[We]===void 0&&Ue!==void 0?Ue[We]:Y[We])}var We=arguments.length-2;if(We===1)Ce.children=ye;else if(1<We){Ue=Array(We);for(var At=0;At<We;At++)Ue[At]=arguments[At+2];Ce.children=Ue}return{$$typeof:t,type:B.type,key:Ie,ref:be,props:Ce,_owner:Be}},ke.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},ke.createElement=A,ke.createFactory=function(B){var Y=A.bind(null,B);return Y.type=B,Y},ke.createRef=function(){return{current:null}},ke.forwardRef=function(B){return{$$typeof:d,render:B}},ke.isValidElement=b,ke.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:Vt}},ke.memo=function(B,Y){return{$$typeof:p,type:B,compare:Y===void 0?null:Y}},ke.startTransition=function(B){var Y=se.transition;se.transition={};try{B()}finally{se.transition=Y}},ke.unstable_act=le,ke.useCallback=function(B,Y){return Ae.current.useCallback(B,Y)},ke.useContext=function(B){return Ae.current.useContext(B)},ke.useDebugValue=function(){},ke.useDeferredValue=function(B){return Ae.current.useDeferredValue(B)},ke.useEffect=function(B,Y){return Ae.current.useEffect(B,Y)},ke.useId=function(){return Ae.current.useId()},ke.useImperativeHandle=function(B,Y,ye){return Ae.current.useImperativeHandle(B,Y,ye)},ke.useInsertionEffect=function(B,Y){return Ae.current.useInsertionEffect(B,Y)},ke.useLayoutEffect=function(B,Y){return Ae.current.useLayoutEffect(B,Y)},ke.useMemo=function(B,Y){return Ae.current.useMemo(B,Y)},ke.useReducer=function(B,Y,ye){return Ae.current.useReducer(B,Y,ye)},ke.useRef=function(B){return Ae.current.useRef(B)},ke.useState=function(B){return Ae.current.useState(B)},ke.useSyncExternalStore=function(B,Y,ye){return Ae.current.useSyncExternalStore(B,Y,ye)},ke.useTransition=function(){return Ae.current.useTransition()},ke.version="18.3.1",ke}var sv;function kp(){return sv||(sv=1,nf.exports=zS()),nf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function $S(){if(ov)return Ya;ov=1;var t=kp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,_={},E=null,x=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(x=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:d,key:E,ref:x,props:_,_owner:o.current}}return Ya.Fragment=n,Ya.jsx=u,Ya.jsxs=u,Ya}var av;function qS(){return av||(av=1,tf.exports=$S()),tf.exports}var F=qS(),U=kp(),sc={},rf={exports:{}},cn={},sf={exports:{}},of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function HS(){return lv||(lv=1,function(t){function e(se,ge){var le=se.length;se.push(ge);e:for(;0<le;){var B=le-1>>>1,Y=se[B];if(0<o(Y,ge))se[B]=ge,se[le]=Y,le=B;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ge=se[0],le=se.pop();if(le!==ge){se[0]=le;e:for(var B=0,Y=se.length,ye=Y>>>1;B<ye;){var Ce=2*(B+1)-1,Ie=se[Ce],be=Ce+1,Be=se[be];if(0>o(Ie,le))be<Y&&0>o(Be,Ie)?(se[B]=Be,se[be]=le,B=be):(se[B]=Ie,se[Ce]=le,B=Ce);else if(be<Y&&0>o(Be,le))se[B]=Be,se[be]=le,B=be;else break e}}return ge}function o(se,ge){var le=se.sortIndex-ge.sortIndex;return le!==0?le:se.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,_=null,E=3,x=!1,R=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(se){for(var ge=n(p);ge!==null;){if(ge.callback===null)r(p);else if(ge.startTime<=se)r(p),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=n(p)}}function re(se){if(C=!1,K(se),!R)if(n(f)!==null)R=!0,Vt(te);else{var ge=n(p);ge!==null&&Ae(re,ge.startTime-se)}}function te(se,ge){R=!1,C&&(C=!1,N(A),A=-1),x=!0;var le=E;try{for(K(ge),_=n(f);_!==null&&(!(_.expirationTime>ge)||se&&!O());){var B=_.callback;if(typeof B=="function"){_.callback=null,E=_.priorityLevel;var Y=B(_.expirationTime<=ge);ge=t.unstable_now(),typeof Y=="function"?_.callback=Y:_===n(f)&&r(f),K(ge)}else r(f);_=n(f)}if(_!==null)var ye=!0;else{var Ce=n(p);Ce!==null&&Ae(re,Ce.startTime-ge),ye=!1}return ye}finally{_=null,E=le,x=!1}}var ae=!1,V=null,A=-1,I=5,b=-1;function O(){return!(t.unstable_now()-b<I)}function z(){if(V!==null){var se=t.unstable_now();b=se;var ge=!0;try{ge=V(!0,se)}finally{ge?D():(ae=!1,V=null)}}else ae=!1}var D;if(typeof j=="function")D=function(){j(z)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Dt=Je.port2;Je.port1.onmessage=z,D=function(){Dt.postMessage(null)}}else D=function(){P(z,0)};function Vt(se){V=se,ae||(ae=!0,D())}function Ae(se,ge){A=P(function(){se(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){R||x||(R=!0,Vt(te))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(se){switch(E){case 1:case 2:case 3:var ge=3;break;default:ge=E}var le=E;E=ge;try{return se()}finally{E=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,ge){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=E;E=se;try{return ge()}finally{E=le}},t.unstable_scheduleCallback=function(se,ge,le){var B=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?B+le:B):le=B,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,se={id:g++,callback:ge,priorityLevel:se,startTime:le,expirationTime:Y,sortIndex:-1},le>B?(se.sortIndex=le,e(p,se),n(f)===null&&se===n(p)&&(C?(N(A),A=-1):C=!0,Ae(re,le-B))):(se.sortIndex=Y,e(f,se),R||x||(R=!0,Vt(te))),se},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(se){var ge=E;return function(){var le=E;E=ge;try{return se.apply(this,arguments)}finally{E=le}}}}(of)),of}var uv;function WS(){return uv||(uv=1,sf.exports=HS()),sf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function KS(){if(cv)return cn;cv=1;var t=kp(),e=WS();function n(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(i){return f.call(_,i)?!0:f.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function x(i,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,s,l,h){if(s===null||typeof s>"u"||x(i,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function C(i,s,l,h,m,v,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=v,this.removeEmptyString=T}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];P[s]=new C(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(N,j);P[s]=new C(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(N,j);P[s]=new C(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(N,j);P[s]=new C(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function K(i,s,l,h){var m=P.hasOwnProperty(s)?P[s]:null;(m!==null?m.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(R(s,l,m,h)&&(l=null),h||m===null?E(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,s,l):i.setAttribute(s,l))))}var re=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),ae=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),O=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),Dt=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),se=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,B;function Y(i){if(B===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||""}return`
`+B+i}var ye=!1;function Ce(i,s){if(!i||ye)return"";ye=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var h=W}Reflect.construct(i,[],s)}else{try{s.call()}catch(W){h=W}i.call(s.prototype)}else{try{throw Error()}catch(W){h=W}i()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),v=h.stack.split(`
`),T=m.length-1,k=v.length-1;1<=T&&0<=k&&m[T]!==v[k];)k--;for(;1<=T&&0<=k;T--,k--)if(m[T]!==v[k]){if(T!==1||k!==1)do if(T--,k--,0>k||m[T]!==v[k]){var L=`
`+m[T].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=T&&0<=k);break}}}finally{ye=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function Ie(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Ce(i.type,!1),i;case 11:return i=Ce(i.type.render,!1),i;case 1:return i=Ce(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case ae:return"Portal";case I:return"Profiler";case A:return"StrictMode";case D:return"Suspense";case Je:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case b:return(i._context.displayName||"Context")+".Provider";case z:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Dt:return s=i.displayName||null,s!==null?s:be(i.type)||"Memo";case Vt:s=i._payload,i=i._init;try{return be(i(s))}catch{}}return null}function Be(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function At(i){var s=We(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,v.call(this,T)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Sr(i){i._valueTracker||(i._valueTracker=At(i))}function Ds(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=We(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function Xr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Bi(i,s){var l=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Vs(i,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Ue(s.value!=null?s.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ra(i,s){s=s.checked,s!=null&&K(i,"checked",s,!1)}function ia(i,s){ra(i,s);var l=Ue(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Ns(i,s.type,l):s.hasOwnProperty("defaultValue")&&Ns(i,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function ql(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Ns(i,s,l){(s!=="number"||Xr(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var xr=Array.isArray;function Ar(i,s,l,h){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Ue(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function sa(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function bs(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(xr(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Ue(l)}}function Ls(i,s){var l=Ue(s.value),h=Ue(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function oa(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function vt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?vt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Rr,aa=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(s,l,h,m)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Rr=Rr||document.createElement("div"),Rr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Rr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Yr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zi=["Webkit","ms","Moz","O"];Object.keys(Ui).forEach(function(i){zi.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Ui[s]=Ui[i]})});function la(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Ui.hasOwnProperty(i)&&Ui[i]?(""+s).trim():s+"px"}function ua(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=la(l,s[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var ca=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ha(i,s){if(s){if(ca[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function da(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $i=null;function Ms(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Os=null,An=null,rr=null;function Fs(i){if(i=Ma(i)){if(typeof Os!="function")throw Error(n(280));var s=i.stateNode;s&&(s=wu(s),Os(i.stateNode,i.type,s))}}function ir(i){An?rr?rr.push(i):rr=[i]:An=i}function fa(){if(An){var i=An,s=rr;if(rr=An=null,Fs(i),s)for(i=0;i<s.length;i++)Fs(s[i])}}function qi(i,s){return i(s)}function pa(){}var Pr=!1;function ma(i,s,l){if(Pr)return i(s,l);Pr=!0;try{return qi(i,s,l)}finally{Pr=!1,(An!==null||rr!==null)&&(pa(),fa())}}function ut(i,s){var l=i.stateNode;if(l===null)return null;var h=wu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var js=!1;if(d)try{var On={};Object.defineProperty(On,"passive",{get:function(){js=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{js=!1}function Hi(i,s,l,h,m,v,T,k,L){var W=Array.prototype.slice.call(arguments,3);try{s.apply(l,W)}catch(ee){this.onError(ee)}}var Wi=!1,Bs=null,Fn=!1,ga=null,Ih={onError:function(i){Wi=!0,Bs=i}};function Us(i,s,l,h,m,v,T,k,L){Wi=!1,Bs=null,Hi.apply(Ih,arguments)}function Hl(i,s,l,h,m,v,T,k,L){if(Us.apply(this,arguments),Wi){if(Wi){var W=Bs;Wi=!1,Bs=null}else throw Error(n(198));Fn||(Fn=!0,ga=W)}}function jn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function Ki(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Bn(i){if(jn(i)!==i)throw Error(n(188))}function Wl(i){var s=i.alternate;if(!s){if(s=jn(i),s===null)throw Error(n(188));return s!==i?null:i}for(var l=i,h=s;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Bn(m),i;if(v===h)return Bn(m),s;v=v.sibling}throw Error(n(188))}if(l.return!==h.return)l=m,h=v;else{for(var T=!1,k=m.child;k;){if(k===l){T=!0,l=m,h=v;break}if(k===h){T=!0,h=m,l=v;break}k=k.sibling}if(!T){for(k=v.child;k;){if(k===l){T=!0,l=v,h=m;break}if(k===h){T=!0,h=v,l=m;break}k=k.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:s}function ya(i){return i=Wl(i),i!==null?zs(i):null}function zs(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=zs(i);if(s!==null)return s;i=i.sibling}return null}var $s=e.unstable_scheduleCallback,va=e.unstable_cancelCallback,Kl=e.unstable_shouldYield,kh=e.unstable_requestPaint,Ke=e.unstable_now,Gl=e.unstable_getCurrentPriorityLevel,Gi=e.unstable_ImmediatePriority,Jr=e.unstable_UserBlockingPriority,Rn=e.unstable_NormalPriority,_a=e.unstable_LowPriority,Ql=e.unstable_IdlePriority,Qi=null,mn=null;function Xl(i){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Qi,i,void 0,(i.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Jl,wa=Math.log,Yl=Math.LN2;function Jl(i){return i>>>=0,i===0?32:31-(wa(i)/Yl|0)|0}var qs=64,Hs=4194304;function Zr(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Xi(i,s){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,v=i.pingedLanes,T=l&268435455;if(T!==0){var k=T&~m;k!==0?h=Zr(k):(v&=T,v!==0&&(h=Zr(v)))}else T=l&~m,T!==0?h=Zr(T):v!==0&&(h=Zr(v));if(h===0)return 0;if(s!==0&&s!==h&&!(s&m)&&(m=h&-h,v=s&-s,m>=v||m===16&&(v&4194240)!==0))return s;if(h&4&&(h|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)l=31-Jt(s),m=1<<l,h|=i[l],s&=~m;return h}function Dh(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cr(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var T=31-Jt(v),k=1<<T,L=m[T];L===-1?(!(k&l)||k&h)&&(m[T]=Dh(k,s)):L<=s&&(i.expiredLanes|=k),v&=~k}}function gn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Yi(){var i=qs;return qs<<=1,!(qs&4194240)&&(qs=64),i}function ei(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ti(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Jt(s),i[s]=l}function He(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Jt(l),v=1<<m;s[m]=0,h[m]=-1,i[m]=-1,l&=~v}}function ni(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-Jt(l),m=1<<h;m&s|i[h]&s&&(i[h]|=s),l&=~m}}var Ve=0;function ri(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Zl,Ws,eu,tu,nu,Ea=!1,sr=[],Nt=null,Un=null,zn=null,ii=new Map,Pn=new Map,or=[],Vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ru(i,s){switch(i){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":ii.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(s.pointerId)}}function nn(i,s,l,h,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},s!==null&&(s=Ma(s),s!==null&&Ws(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function Nh(i,s,l,h,m){switch(s){case"focusin":return Nt=nn(Nt,i,s,l,h,m),!0;case"dragenter":return Un=nn(Un,i,s,l,h,m),!0;case"mouseover":return zn=nn(zn,i,s,l,h,m),!0;case"pointerover":var v=m.pointerId;return ii.set(v,nn(ii.get(v)||null,i,s,l,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Pn.set(v,nn(Pn.get(v)||null,i,s,l,h,m)),!0}return!1}function iu(i){var s=ns(i.target);if(s!==null){var l=jn(s);if(l!==null){if(s=l.tag,s===13){if(s=Ki(l),s!==null){i.blockedOn=s,nu(i.priority,function(){eu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ir(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Ks(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);$i=h,l.target.dispatchEvent(h),$i=null}else return s=Ma(l),s!==null&&Ws(s),i.blockedOn=l,!1;s.shift()}return!0}function Ji(i,s,l){Ir(i)&&l.delete(s)}function su(){Ea=!1,Nt!==null&&Ir(Nt)&&(Nt=null),Un!==null&&Ir(Un)&&(Un=null),zn!==null&&Ir(zn)&&(zn=null),ii.forEach(Ji),Pn.forEach(Ji)}function $n(i,s){i.blockedOn===s&&(i.blockedOn=null,Ea||(Ea=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,su)))}function qn(i){function s(m){return $n(m,i)}if(0<sr.length){$n(sr[0],i);for(var l=1;l<sr.length;l++){var h=sr[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Nt!==null&&$n(Nt,i),Un!==null&&$n(Un,i),zn!==null&&$n(zn,i),ii.forEach(s),Pn.forEach(s),l=0;l<or.length;l++)h=or[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<or.length&&(l=or[0],l.blockedOn===null);)iu(l),l.blockedOn===null&&or.shift()}var kr=re.ReactCurrentBatchConfig,si=!0;function Ze(i,s,l,h){var m=Ve,v=kr.transition;kr.transition=null;try{Ve=1,Ta(i,s,l,h)}finally{Ve=m,kr.transition=v}}function bh(i,s,l,h){var m=Ve,v=kr.transition;kr.transition=null;try{Ve=4,Ta(i,s,l,h)}finally{Ve=m,kr.transition=v}}function Ta(i,s,l,h){if(si){var m=Ks(i,s,l,h);if(m===null)Hh(i,s,h,Zi,l),ru(i,h);else if(Nh(m,i,s,l,h))h.stopPropagation();else if(ru(i,h),s&4&&-1<Vh.indexOf(i)){for(;m!==null;){var v=Ma(m);if(v!==null&&Zl(v),v=Ks(i,s,l,h),v===null&&Hh(i,s,h,Zi,l),v===m)break;m=v}m!==null&&h.stopPropagation()}else Hh(i,s,h,null,l)}}var Zi=null;function Ks(i,s,l,h){if(Zi=null,i=Ms(h),i=ns(i),i!==null)if(s=jn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=Ki(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Zi=i,null}function Sa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gl()){case Gi:return 1;case Jr:return 4;case Rn:case _a:return 16;case Ql:return 536870912;default:return 16}default:return 16}}var yn=null,Gs=null,rn=null;function xa(){if(rn)return rn;var i,s=Gs,l=s.length,h,m="value"in yn?yn.value:yn.textContent,v=m.length;for(i=0;i<l&&s[i]===m[i];i++);var T=l-i;for(h=1;h<=T&&s[l-h]===m[v-h];h++);return rn=m.slice(i,1<h?1-h:void 0)}function Qs(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ar(){return!0}function Aa(){return!1}function bt(i){function s(l,h,m,v,T){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(l=i[k],this[k]=l?l(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ar:Aa,this.isPropagationStopped=Aa,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),s}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=bt(Hn),lr=le({},Hn,{view:0,detail:0}),Lh=bt(lr),Ys,Dr,oi,es=le({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ur,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==oi&&(oi&&i.type==="mousemove"?(Ys=i.screenX-oi.screenX,Dr=i.screenY-oi.screenY):Dr=Ys=0,oi=i),Ys)},movementY:function(i){return"movementY"in i?i.movementY:Dr}}),Js=bt(es),Ra=le({},es,{dataTransfer:0}),ou=bt(Ra),Zs=le({},lr,{relatedTarget:0}),eo=bt(Zs),au=le({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vr=bt(au),lu=le({},Hn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),uu=bt(lu),cu=le({},Hn,{data:0}),Pa=bt(cu),to={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=hu[i])?!!s[i]:!1}function ur(){return du}var c=le({},lr,{key:function(i){if(i.key){var s=to[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Qs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ur,charCode:function(i){return i.type==="keypress"?Qs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=bt(c),w=le({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=bt(w),$=le({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ur}),G=bt($),oe=le({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=bt(oe),wt=le({},es,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=bt(wt),Rt=[9,13,27,32],ft=d&&"CompositionEvent"in window,Cn=null;d&&"documentMode"in document&&(Cn=document.documentMode);var vn=d&&"TextEvent"in window&&!Cn,ts=d&&(!ft||Cn&&8<Cn&&11>=Cn),no=" ",Jm=!1;function Zm(i,s){switch(i){case"keyup":return Rt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ro=!1;function j1(i,s){switch(i){case"compositionend":return eg(s);case"keypress":return s.which!==32?null:(Jm=!0,no);case"textInput":return i=s.data,i===no&&Jm?null:i;default:return null}}function B1(i,s){if(ro)return i==="compositionend"||!ft&&Zm(i,s)?(i=xa(),rn=Gs=yn=null,ro=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ts&&s.locale!=="ko"?null:s.data;default:return null}}var U1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!U1[i.type]:s==="textarea"}function ng(i,s,l,h){ir(h),s=yu(s,"onChange"),0<s.length&&(l=new Xs("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Ca=null,Ia=null;function z1(i){wg(i,0)}function fu(i){var s=lo(i);if(Ds(s))return i}function $1(i,s){if(i==="change")return s}var rg=!1;if(d){var Mh;if(d){var Oh="oninput"in document;if(!Oh){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),Oh=typeof ig.oninput=="function"}Mh=Oh}else Mh=!1;rg=Mh&&(!document.documentMode||9<document.documentMode)}function sg(){Ca&&(Ca.detachEvent("onpropertychange",og),Ia=Ca=null)}function og(i){if(i.propertyName==="value"&&fu(Ia)){var s=[];ng(s,Ia,i,Ms(i)),ma(z1,s)}}function q1(i,s,l){i==="focusin"?(sg(),Ca=s,Ia=l,Ca.attachEvent("onpropertychange",og)):i==="focusout"&&sg()}function H1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fu(Ia)}function W1(i,s){if(i==="click")return fu(s)}function K1(i,s){if(i==="input"||i==="change")return fu(s)}function G1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Wn=typeof Object.is=="function"?Object.is:G1;function ka(i,s){if(Wn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(s,m)||!Wn(i[m],s[m]))return!1}return!0}function ag(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function lg(i,s){var l=ag(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ag(l)}}function ug(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?ug(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function cg(){for(var i=window,s=Xr();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Xr(i.document)}return s}function Fh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Q1(i){var s=cg(),l=i.focusedElem,h=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&ug(l.ownerDocument.documentElement,l)){if(h!==null&&Fh(l)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!i.extend&&v>h&&(m=h,h=v,v=m),m=lg(l,v);var T=lg(l,h);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),i.removeAllRanges(),v>h?(i.addRange(s),i.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var X1=d&&"documentMode"in document&&11>=document.documentMode,io=null,jh=null,Da=null,Bh=!1;function hg(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bh||io==null||io!==Xr(h)||(h=io,"selectionStart"in h&&Fh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Da&&ka(Da,h)||(Da=h,h=yu(jh,"onSelect"),0<h.length&&(s=new Xs("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=io)))}function pu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var so={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},Uh={},dg={};d&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function mu(i){if(Uh[i])return Uh[i];if(!so[i])return i;var s=so[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in dg)return Uh[i]=s[l];return i}var fg=mu("animationend"),pg=mu("animationiteration"),mg=mu("animationstart"),gg=mu("transitionend"),yg=new Map,vg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(i,s){yg.set(i,s),a(s,[i])}for(var zh=0;zh<vg.length;zh++){var $h=vg[zh],Y1=$h.toLowerCase(),J1=$h[0].toUpperCase()+$h.slice(1);ai(Y1,"on"+J1)}ai(fg,"onAnimationEnd"),ai(pg,"onAnimationIteration"),ai(mg,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(gg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function _g(i,s,l){var h=i.type||"unknown-event";i.currentTarget=l,Hl(h,s,void 0,i),i.currentTarget=null}function wg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var v=void 0;if(s)for(var T=h.length-1;0<=T;T--){var k=h[T],L=k.instance,W=k.currentTarget;if(k=k.listener,L!==v&&m.isPropagationStopped())break e;_g(m,k,W),v=L}else for(T=0;T<h.length;T++){if(k=h[T],L=k.instance,W=k.currentTarget,k=k.listener,L!==v&&m.isPropagationStopped())break e;_g(m,k,W),v=L}}}if(Fn)throw i=ga,Fn=!1,ga=null,i}function Qe(i,s){var l=s[Yh];l===void 0&&(l=s[Yh]=new Set);var h=i+"__bubble";l.has(h)||(Eg(s,i,2,!1),l.add(h))}function qh(i,s,l){var h=0;s&&(h|=4),Eg(l,i,h,s)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Na(i){if(!i[gu]){i[gu]=!0,r.forEach(function(l){l!=="selectionchange"&&(Z1.has(l)||qh(l,!1,i),qh(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[gu]||(s[gu]=!0,qh("selectionchange",!1,s))}}function Eg(i,s,l,h){switch(Sa(s)){case 1:var m=Ze;break;case 4:m=bh;break;default:m=Ta}l=m.bind(null,s,l,i),m=void 0,!js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function Hh(i,s,l,h,m){var v=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var k=h.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(T===4)for(T=h.return;T!==null;){var L=T.tag;if((L===3||L===4)&&(L=T.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;T=T.return}for(;k!==null;){if(T=ns(k),T===null)return;if(L=T.tag,L===5||L===6){h=v=T;continue e}k=k.parentNode}}h=h.return}ma(function(){var W=v,ee=Ms(l),ne=[];e:{var Z=yg.get(i);if(Z!==void 0){var ue=Xs,de=i;switch(i){case"keypress":if(Qs(l)===0)break e;case"keydown":case"keyup":ue=y;break;case"focusin":de="focus",ue=eo;break;case"focusout":de="blur",ue=eo;break;case"beforeblur":case"afterblur":ue=eo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=G;break;case fg:case pg:case mg:ue=Vr;break;case gg:ue=$e;break;case"scroll":ue=Lh;break;case"wheel":ue=Le;break;case"copy":case"cut":case"paste":ue=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=S}var pe=(s&4)!==0,ct=!pe&&i==="scroll",q=pe?Z!==null?Z+"Capture":null:Z;pe=[];for(var M=W,H;M!==null;){H=M;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,q!==null&&(ie=ut(M,q),ie!=null&&pe.push(ba(M,ie,H)))),ct)break;M=M.return}0<pe.length&&(Z=new ue(Z,de,null,l,ee),ne.push({event:Z,listeners:pe}))}}if(!(s&7)){e:{if(Z=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",Z&&l!==$i&&(de=l.relatedTarget||l.fromElement)&&(ns(de)||de[Nr]))break e;if((ue||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(de=l.relatedTarget||l.toElement,ue=W,de=de?ns(de):null,de!==null&&(ct=jn(de),de!==ct||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=W),ue!==de)){if(pe=Js,ie="onMouseLeave",q="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(pe=S,ie="onPointerLeave",q="onPointerEnter",M="pointer"),ct=ue==null?Z:lo(ue),H=de==null?Z:lo(de),Z=new pe(ie,M+"leave",ue,l,ee),Z.target=ct,Z.relatedTarget=H,ie=null,ns(ee)===W&&(pe=new pe(q,M+"enter",de,l,ee),pe.target=H,pe.relatedTarget=ct,ie=pe),ct=ie,ue&&de)t:{for(pe=ue,q=de,M=0,H=pe;H;H=oo(H))M++;for(H=0,ie=q;ie;ie=oo(ie))H++;for(;0<M-H;)pe=oo(pe),M--;for(;0<H-M;)q=oo(q),H--;for(;M--;){if(pe===q||q!==null&&pe===q.alternate)break t;pe=oo(pe),q=oo(q)}pe=null}else pe=null;ue!==null&&Tg(ne,Z,ue,pe,!1),de!==null&&ct!==null&&Tg(ne,ct,de,pe,!0)}}e:{if(Z=W?lo(W):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var me=$1;else if(tg(Z))if(rg)me=K1;else{me=H1;var _e=q1}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(me=W1);if(me&&(me=me(i,W))){ng(ne,me,l,ee);break e}_e&&_e(i,Z,W),i==="focusout"&&(_e=Z._wrapperState)&&_e.controlled&&Z.type==="number"&&Ns(Z,"number",Z.value)}switch(_e=W?lo(W):window,i){case"focusin":(tg(_e)||_e.contentEditable==="true")&&(io=_e,jh=W,Da=null);break;case"focusout":Da=jh=io=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,hg(ne,l,ee);break;case"selectionchange":if(X1)break;case"keydown":case"keyup":hg(ne,l,ee)}var we;if(ft)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ro?Zm(i,l)&&(Te="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(ts&&l.locale!=="ko"&&(ro||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ro&&(we=xa()):(yn=ee,Gs="value"in yn?yn.value:yn.textContent,ro=!0)),_e=yu(W,Te),0<_e.length&&(Te=new Pa(Te,i,null,l,ee),ne.push({event:Te,listeners:_e}),we?Te.data=we:(we=eg(l),we!==null&&(Te.data=we)))),(we=vn?j1(i,l):B1(i,l))&&(W=yu(W,"onBeforeInput"),0<W.length&&(ee=new Pa("onBeforeInput","beforeinput",null,l,ee),ne.push({event:ee,listeners:W}),ee.data=we))}wg(ne,s)})}function ba(i,s,l){return{instance:i,listener:s,currentTarget:l}}function yu(i,s){for(var l=s+"Capture",h=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=ut(i,l),v!=null&&h.unshift(ba(i,v,m)),v=ut(i,s),v!=null&&h.push(ba(i,v,m))),i=i.return}return h}function oo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Tg(i,s,l,h,m){for(var v=s._reactName,T=[];l!==null&&l!==h;){var k=l,L=k.alternate,W=k.stateNode;if(L!==null&&L===h)break;k.tag===5&&W!==null&&(k=W,m?(L=ut(l,v),L!=null&&T.unshift(ba(l,L,k))):m||(L=ut(l,v),L!=null&&T.push(ba(l,L,k)))),l=l.return}T.length!==0&&i.push({event:s,listeners:T})}var eS=/\r\n?/g,tS=/\u0000|\uFFFD/g;function Sg(i){return(typeof i=="string"?i:""+i).replace(eS,`
`).replace(tS,"")}function vu(i,s,l){if(s=Sg(s),Sg(i)!==s&&l)throw Error(n(425))}function _u(){}var Wh=null,Kh=null;function Gh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qh=typeof setTimeout=="function"?setTimeout:void 0,nS=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(i){return xg.resolve(null).then(i).catch(iS)}:Qh;function iS(i){setTimeout(function(){throw i})}function Xh(i,s){var l=s,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),qn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);qn(s)}function li(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Ag(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var ao=Math.random().toString(36).slice(2),cr="__reactFiber$"+ao,La="__reactProps$"+ao,Nr="__reactContainer$"+ao,Yh="__reactEvents$"+ao,sS="__reactListeners$"+ao,oS="__reactHandles$"+ao;function ns(i){var s=i[cr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Nr]||l[cr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Ag(i);i!==null;){if(l=i[cr])return l;i=Ag(i)}return s}i=l,l=i.parentNode}return null}function Ma(i){return i=i[cr]||i[Nr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function lo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function wu(i){return i[La]||null}var Jh=[],uo=-1;function ui(i){return{current:i}}function Xe(i){0>uo||(i.current=Jh[uo],Jh[uo]=null,uo--)}function Ge(i,s){uo++,Jh[uo]=i.current,i.current=s}var ci={},Ut=ui(ci),sn=ui(!1),rs=ci;function co(i,s){var l=i.type.contextTypes;if(!l)return ci;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=s[v];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=m),m}function on(i){return i=i.childContextTypes,i!=null}function Eu(){Xe(sn),Xe(Ut)}function Rg(i,s,l){if(Ut.current!==ci)throw Error(n(168));Ge(Ut,s),Ge(sn,l)}function Pg(i,s,l){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in s))throw Error(n(108,Be(i)||"Unknown",m));return le({},l,h)}function Tu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ci,rs=Ut.current,Ge(Ut,i),Ge(sn,sn.current),!0}function Cg(i,s,l){var h=i.stateNode;if(!h)throw Error(n(169));l?(i=Pg(i,s,rs),h.__reactInternalMemoizedMergedChildContext=i,Xe(sn),Xe(Ut),Ge(Ut,i)):Xe(sn),Ge(sn,l)}var br=null,Su=!1,Zh=!1;function Ig(i){br===null?br=[i]:br.push(i)}function aS(i){Su=!0,Ig(i)}function hi(){if(!Zh&&br!==null){Zh=!0;var i=0,s=Ve;try{var l=br;for(Ve=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}br=null,Su=!1}catch(m){throw br!==null&&(br=br.slice(i+1)),$s(Gi,hi),m}finally{Ve=s,Zh=!1}}return null}var ho=[],fo=0,xu=null,Au=0,In=[],kn=0,is=null,Lr=1,Mr="";function ss(i,s){ho[fo++]=Au,ho[fo++]=xu,xu=i,Au=s}function kg(i,s,l){In[kn++]=Lr,In[kn++]=Mr,In[kn++]=is,is=i;var h=Lr;i=Mr;var m=32-Jt(h)-1;h&=~(1<<m),l+=1;var v=32-Jt(s)+m;if(30<v){var T=m-m%5;v=(h&(1<<T)-1).toString(32),h>>=T,m-=T,Lr=1<<32-Jt(s)+m|l<<m|h,Mr=v+i}else Lr=1<<v|l<<m|h,Mr=i}function ed(i){i.return!==null&&(ss(i,1),kg(i,1,0))}function td(i){for(;i===xu;)xu=ho[--fo],ho[fo]=null,Au=ho[--fo],ho[fo]=null;for(;i===is;)is=In[--kn],In[kn]=null,Mr=In[--kn],In[kn]=null,Lr=In[--kn],In[kn]=null}var _n=null,wn=null,et=!1,Kn=null;function Dg(i,s){var l=bn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Vg(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,_n=i,wn=li(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,_n=i,wn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=is!==null?{id:Lr,overflow:Mr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=bn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,_n=i,wn=null,!0):!1;default:return!1}}function nd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function rd(i){if(et){var s=wn;if(s){var l=s;if(!Vg(i,s)){if(nd(i))throw Error(n(418));s=li(l.nextSibling);var h=_n;s&&Vg(i,s)?Dg(h,l):(i.flags=i.flags&-4097|2,et=!1,_n=i)}}else{if(nd(i))throw Error(n(418));i.flags=i.flags&-4097|2,et=!1,_n=i}}}function Ng(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;_n=i}function Ru(i){if(i!==_n)return!1;if(!et)return Ng(i),et=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Gh(i.type,i.memoizedProps)),s&&(s=wn)){if(nd(i))throw bg(),Error(n(418));for(;s;)Dg(i,s),s=li(s.nextSibling)}if(Ng(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){wn=li(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}wn=null}}else wn=_n?li(i.stateNode.nextSibling):null;return!0}function bg(){for(var i=wn;i;)i=li(i.nextSibling)}function po(){wn=_n=null,et=!1}function id(i){Kn===null?Kn=[i]:Kn.push(i)}var lS=re.ReactCurrentBatchConfig;function Oa(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,i));var m=h,v=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(T){var k=m.refs;T===null?delete k[v]:k[v]=T},s._stringRef=v,s)}if(typeof i!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,i))}return i}function Pu(i,s){throw i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Lg(i){var s=i._init;return s(i._payload)}function Mg(i){function s(q,M){if(i){var H=q.deletions;H===null?(q.deletions=[M],q.flags|=16):H.push(M)}}function l(q,M){if(!i)return null;for(;M!==null;)s(q,M),M=M.sibling;return null}function h(q,M){for(q=new Map;M!==null;)M.key!==null?q.set(M.key,M):q.set(M.index,M),M=M.sibling;return q}function m(q,M){return q=_i(q,M),q.index=0,q.sibling=null,q}function v(q,M,H){return q.index=H,i?(H=q.alternate,H!==null?(H=H.index,H<M?(q.flags|=2,M):H):(q.flags|=2,M)):(q.flags|=1048576,M)}function T(q){return i&&q.alternate===null&&(q.flags|=2),q}function k(q,M,H,ie){return M===null||M.tag!==6?(M=Qd(H,q.mode,ie),M.return=q,M):(M=m(M,H),M.return=q,M)}function L(q,M,H,ie){var me=H.type;return me===V?ee(q,M,H.props.children,ie,H.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Vt&&Lg(me)===M.type)?(ie=m(M,H.props),ie.ref=Oa(q,M,H),ie.return=q,ie):(ie=Yu(H.type,H.key,H.props,null,q.mode,ie),ie.ref=Oa(q,M,H),ie.return=q,ie)}function W(q,M,H,ie){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Xd(H,q.mode,ie),M.return=q,M):(M=m(M,H.children||[]),M.return=q,M)}function ee(q,M,H,ie,me){return M===null||M.tag!==7?(M=fs(H,q.mode,ie,me),M.return=q,M):(M=m(M,H),M.return=q,M)}function ne(q,M,H){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Qd(""+M,q.mode,H),M.return=q,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case te:return H=Yu(M.type,M.key,M.props,null,q.mode,H),H.ref=Oa(q,null,M),H.return=q,H;case ae:return M=Xd(M,q.mode,H),M.return=q,M;case Vt:var ie=M._init;return ne(q,ie(M._payload),H)}if(xr(M)||ge(M))return M=fs(M,q.mode,H,null),M.return=q,M;Pu(q,M)}return null}function Z(q,M,H,ie){var me=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return me!==null?null:k(q,M,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case te:return H.key===me?L(q,M,H,ie):null;case ae:return H.key===me?W(q,M,H,ie):null;case Vt:return me=H._init,Z(q,M,me(H._payload),ie)}if(xr(H)||ge(H))return me!==null?null:ee(q,M,H,ie,null);Pu(q,H)}return null}function ue(q,M,H,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return q=q.get(H)||null,k(M,q,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case te:return q=q.get(ie.key===null?H:ie.key)||null,L(M,q,ie,me);case ae:return q=q.get(ie.key===null?H:ie.key)||null,W(M,q,ie,me);case Vt:var _e=ie._init;return ue(q,M,H,_e(ie._payload),me)}if(xr(ie)||ge(ie))return q=q.get(H)||null,ee(M,q,ie,me,null);Pu(M,ie)}return null}function de(q,M,H,ie){for(var me=null,_e=null,we=M,Te=M=0,It=null;we!==null&&Te<H.length;Te++){we.index>Te?(It=we,we=null):It=we.sibling;var je=Z(q,we,H[Te],ie);if(je===null){we===null&&(we=It);break}i&&we&&je.alternate===null&&s(q,we),M=v(je,M,Te),_e===null?me=je:_e.sibling=je,_e=je,we=It}if(Te===H.length)return l(q,we),et&&ss(q,Te),me;if(we===null){for(;Te<H.length;Te++)we=ne(q,H[Te],ie),we!==null&&(M=v(we,M,Te),_e===null?me=we:_e.sibling=we,_e=we);return et&&ss(q,Te),me}for(we=h(q,we);Te<H.length;Te++)It=ue(we,q,Te,H[Te],ie),It!==null&&(i&&It.alternate!==null&&we.delete(It.key===null?Te:It.key),M=v(It,M,Te),_e===null?me=It:_e.sibling=It,_e=It);return i&&we.forEach(function(wi){return s(q,wi)}),et&&ss(q,Te),me}function pe(q,M,H,ie){var me=ge(H);if(typeof me!="function")throw Error(n(150));if(H=me.call(H),H==null)throw Error(n(151));for(var _e=me=null,we=M,Te=M=0,It=null,je=H.next();we!==null&&!je.done;Te++,je=H.next()){we.index>Te?(It=we,we=null):It=we.sibling;var wi=Z(q,we,je.value,ie);if(wi===null){we===null&&(we=It);break}i&&we&&wi.alternate===null&&s(q,we),M=v(wi,M,Te),_e===null?me=wi:_e.sibling=wi,_e=wi,we=It}if(je.done)return l(q,we),et&&ss(q,Te),me;if(we===null){for(;!je.done;Te++,je=H.next())je=ne(q,je.value,ie),je!==null&&(M=v(je,M,Te),_e===null?me=je:_e.sibling=je,_e=je);return et&&ss(q,Te),me}for(we=h(q,we);!je.done;Te++,je=H.next())je=ue(we,q,Te,je.value,ie),je!==null&&(i&&je.alternate!==null&&we.delete(je.key===null?Te:je.key),M=v(je,M,Te),_e===null?me=je:_e.sibling=je,_e=je);return i&&we.forEach(function(US){return s(q,US)}),et&&ss(q,Te),me}function ct(q,M,H,ie){if(typeof H=="object"&&H!==null&&H.type===V&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case te:e:{for(var me=H.key,_e=M;_e!==null;){if(_e.key===me){if(me=H.type,me===V){if(_e.tag===7){l(q,_e.sibling),M=m(_e,H.props.children),M.return=q,q=M;break e}}else if(_e.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Vt&&Lg(me)===_e.type){l(q,_e.sibling),M=m(_e,H.props),M.ref=Oa(q,_e,H),M.return=q,q=M;break e}l(q,_e);break}else s(q,_e);_e=_e.sibling}H.type===V?(M=fs(H.props.children,q.mode,ie,H.key),M.return=q,q=M):(ie=Yu(H.type,H.key,H.props,null,q.mode,ie),ie.ref=Oa(q,M,H),ie.return=q,q=ie)}return T(q);case ae:e:{for(_e=H.key;M!==null;){if(M.key===_e)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){l(q,M.sibling),M=m(M,H.children||[]),M.return=q,q=M;break e}else{l(q,M);break}else s(q,M);M=M.sibling}M=Xd(H,q.mode,ie),M.return=q,q=M}return T(q);case Vt:return _e=H._init,ct(q,M,_e(H._payload),ie)}if(xr(H))return de(q,M,H,ie);if(ge(H))return pe(q,M,H,ie);Pu(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,M!==null&&M.tag===6?(l(q,M.sibling),M=m(M,H),M.return=q,q=M):(l(q,M),M=Qd(H,q.mode,ie),M.return=q,q=M),T(q)):l(q,M)}return ct}var mo=Mg(!0),Og=Mg(!1),Cu=ui(null),Iu=null,go=null,sd=null;function od(){sd=go=Iu=null}function ad(i){var s=Cu.current;Xe(Cu),i._currentValue=s}function ld(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function yo(i,s){Iu=i,sd=go=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(an=!0),i.firstContext=null)}function Dn(i){var s=i._currentValue;if(sd!==i)if(i={context:i,memoizedValue:s,next:null},go===null){if(Iu===null)throw Error(n(308));go=i,Iu.dependencies={lanes:0,firstContext:i}}else go=go.next=i;return s}var os=null;function ud(i){os===null?os=[i]:os.push(i)}function Fg(i,s,l,h){var m=s.interleaved;return m===null?(l.next=l,ud(s)):(l.next=m.next,m.next=l),s.interleaved=l,Or(i,h)}function Or(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var di=!1;function cd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Fr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function fi(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,Fe&2){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,Or(i,l)}return m=h.interleaved,m===null?(s.next=s,ud(h)):(s.next=m.next,m.next=s),h.interleaved=s,Or(i,l)}function ku(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ni(i,l)}}function Bg(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?m=v=s:v=v.next=s}else m=v=s;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function Du(i,s,l,h){var m=i.updateQueue;di=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var L=k,W=L.next;L.next=null,T===null?v=W:T.next=W,T=L;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,k=ee.lastBaseUpdate,k!==T&&(k===null?ee.firstBaseUpdate=W:k.next=W,ee.lastBaseUpdate=L))}if(v!==null){var ne=m.baseState;T=0,ee=W=L=null,k=v;do{var Z=k.lane,ue=k.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var de=i,pe=k;switch(Z=s,ue=l,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){ne=de.call(ue,ne,Z);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,Z=typeof de=="function"?de.call(ue,ne,Z):de,Z==null)break e;ne=le({},ne,Z);break e;case 2:di=!0}}k.callback!==null&&k.lane!==0&&(i.flags|=64,Z=m.effects,Z===null?m.effects=[k]:Z.push(k))}else ue={eventTime:ue,lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ee===null?(W=ee=ue,L=ne):ee=ee.next=ue,T|=Z;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(ee===null&&(L=ne),m.baseState=L,m.firstBaseUpdate=W,m.lastBaseUpdate=ee,s=m.shared.interleaved,s!==null){m=s;do T|=m.lane,m=m.next;while(m!==s)}else v===null&&(m.shared.lanes=0);us|=T,i.lanes=T,i.memoizedState=ne}}function Ug(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(n(191,m));m.call(h)}}}var Fa={},hr=ui(Fa),ja=ui(Fa),Ba=ui(Fa);function as(i){if(i===Fa)throw Error(n(174));return i}function hd(i,s){switch(Ge(Ba,s),Ge(ja,i),Ge(hr,Fa),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:_t(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=_t(s,i)}Xe(hr),Ge(hr,s)}function vo(){Xe(hr),Xe(ja),Xe(Ba)}function zg(i){as(Ba.current);var s=as(hr.current),l=_t(s,i.type);s!==l&&(Ge(ja,i),Ge(hr,l))}function dd(i){ja.current===i&&(Xe(hr),Xe(ja))}var nt=ui(0);function Vu(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fd=[];function pd(){for(var i=0;i<fd.length;i++)fd[i]._workInProgressVersionPrimary=null;fd.length=0}var Nu=re.ReactCurrentDispatcher,md=re.ReactCurrentBatchConfig,ls=0,rt=null,Et=null,Pt=null,bu=!1,Ua=!1,za=0,uS=0;function zt(){throw Error(n(321))}function gd(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Wn(i[l],s[l]))return!1;return!0}function yd(i,s,l,h,m,v){if(ls=v,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Nu.current=i===null||i.memoizedState===null?fS:pS,i=l(h,m),Ua){v=0;do{if(Ua=!1,za=0,25<=v)throw Error(n(301));v+=1,Pt=Et=null,s.updateQueue=null,Nu.current=mS,i=l(h,m)}while(Ua)}if(Nu.current=Ou,s=Et!==null&&Et.next!==null,ls=0,Pt=Et=rt=null,bu=!1,s)throw Error(n(300));return i}function vd(){var i=za!==0;return za=0,i}function dr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?rt.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function Vn(){if(Et===null){var i=rt.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var s=Pt===null?rt.memoizedState:Pt.next;if(s!==null)Pt=s,Et=i;else{if(i===null)throw Error(n(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Pt===null?rt.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function $a(i,s){return typeof s=="function"?s(i):s}function _d(i){var s=Vn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var h=Et,m=h.baseQueue,v=l.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}h.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,h=h.baseState;var k=T=null,L=null,W=v;do{var ee=W.lane;if((ls&ee)===ee)L!==null&&(L=L.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:i(h,W.action);else{var ne={lane:ee,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};L===null?(k=L=ne,T=h):L=L.next=ne,rt.lanes|=ee,us|=ee}W=W.next}while(W!==null&&W!==v);L===null?T=h:L.next=k,Wn(h,s.memoizedState)||(an=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=L,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do v=m.lane,rt.lanes|=v,us|=v,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function wd(i){var s=Vn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,v=s.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do v=i(v,T.action),T=T.next;while(T!==m);Wn(v,s.memoizedState)||(an=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,h]}function $g(){}function qg(i,s){var l=rt,h=Vn(),m=s(),v=!Wn(h.memoizedState,m);if(v&&(h.memoizedState=m,an=!0),h=h.queue,Ed(Kg.bind(null,l,h,i),[i]),h.getSnapshot!==s||v||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,qa(9,Wg.bind(null,l,h,m,s),void 0,null),Ct===null)throw Error(n(349));ls&30||Hg(l,s,m)}return m}function Hg(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Wg(i,s,l,h){s.value=l,s.getSnapshot=h,Gg(s)&&Qg(i)}function Kg(i,s,l){return l(function(){Gg(s)&&Qg(i)})}function Gg(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Wn(i,l)}catch{return!0}}function Qg(i){var s=Or(i,1);s!==null&&Yn(s,i,1,-1)}function Xg(i){var s=dr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:i},s.queue=i,i=i.dispatch=dS.bind(null,rt,i),[s.memoizedState,i]}function qa(i,s,l,h){return i={tag:i,create:s,destroy:l,deps:h,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i)),i}function Yg(){return Vn().memoizedState}function Lu(i,s,l,h){var m=dr();rt.flags|=i,m.memoizedState=qa(1|s,l,void 0,h===void 0?null:h)}function Mu(i,s,l,h){var m=Vn();h=h===void 0?null:h;var v=void 0;if(Et!==null){var T=Et.memoizedState;if(v=T.destroy,h!==null&&gd(h,T.deps)){m.memoizedState=qa(s,l,v,h);return}}rt.flags|=i,m.memoizedState=qa(1|s,l,v,h)}function Jg(i,s){return Lu(8390656,8,i,s)}function Ed(i,s){return Mu(2048,8,i,s)}function Zg(i,s){return Mu(4,2,i,s)}function ey(i,s){return Mu(4,4,i,s)}function ty(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function ny(i,s,l){return l=l!=null?l.concat([i]):null,Mu(4,4,ty.bind(null,s,i),l)}function Td(){}function ry(i,s){var l=Vn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&gd(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function iy(i,s){var l=Vn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&gd(s,h[1])?h[0]:(i=i(),l.memoizedState=[i,s],i)}function sy(i,s,l){return ls&21?(Wn(l,s)||(l=Yi(),rt.lanes|=l,us|=l,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,an=!0),i.memoizedState=l)}function cS(i,s){var l=Ve;Ve=l!==0&&4>l?l:4,i(!0);var h=md.transition;md.transition={};try{i(!1),s()}finally{Ve=l,md.transition=h}}function oy(){return Vn().memoizedState}function hS(i,s,l){var h=yi(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},ay(i))ly(s,l);else if(l=Fg(i,s,l,h),l!==null){var m=tn();Yn(l,i,h,m),uy(l,s,h)}}function dS(i,s,l){var h=yi(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(ay(i))ly(s,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var T=s.lastRenderedState,k=v(T,l);if(m.hasEagerState=!0,m.eagerState=k,Wn(k,T)){var L=s.interleaved;L===null?(m.next=m,ud(s)):(m.next=L.next,L.next=m),s.interleaved=m;return}}catch{}finally{}l=Fg(i,s,m,h),l!==null&&(m=tn(),Yn(l,i,h,m),uy(l,s,h))}}function ay(i){var s=i.alternate;return i===rt||s!==null&&s===rt}function ly(i,s){Ua=bu=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function uy(i,s,l){if(l&4194240){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ni(i,l)}}var Ou={readContext:Dn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},fS={readContext:Dn,useCallback:function(i,s){return dr().memoizedState=[i,s===void 0?null:s],i},useContext:Dn,useEffect:Jg,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,Lu(4194308,4,ty.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Lu(4194308,4,i,s)},useInsertionEffect:function(i,s){return Lu(4,2,i,s)},useMemo:function(i,s){var l=dr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var h=dr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=hS.bind(null,rt,i),[h.memoizedState,i]},useRef:function(i){var s=dr();return i={current:i},s.memoizedState=i},useState:Xg,useDebugValue:Td,useDeferredValue:function(i){return dr().memoizedState=i},useTransition:function(){var i=Xg(!1),s=i[0];return i=cS.bind(null,i[1]),dr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var h=rt,m=dr();if(et){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Ct===null)throw Error(n(349));ls&30||Hg(h,s,l)}m.memoizedState=l;var v={value:l,getSnapshot:s};return m.queue=v,Jg(Kg.bind(null,h,v,i),[i]),h.flags|=2048,qa(9,Wg.bind(null,h,v,l,s),void 0,null),l},useId:function(){var i=dr(),s=Ct.identifierPrefix;if(et){var l=Mr,h=Lr;l=(h&~(1<<32-Jt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=za++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=uS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},pS={readContext:Dn,useCallback:ry,useContext:Dn,useEffect:Ed,useImperativeHandle:ny,useInsertionEffect:Zg,useLayoutEffect:ey,useMemo:iy,useReducer:_d,useRef:Yg,useState:function(){return _d($a)},useDebugValue:Td,useDeferredValue:function(i){var s=Vn();return sy(s,Et.memoizedState,i)},useTransition:function(){var i=_d($a)[0],s=Vn().memoizedState;return[i,s]},useMutableSource:$g,useSyncExternalStore:qg,useId:oy,unstable_isNewReconciler:!1},mS={readContext:Dn,useCallback:ry,useContext:Dn,useEffect:Ed,useImperativeHandle:ny,useInsertionEffect:Zg,useLayoutEffect:ey,useMemo:iy,useReducer:wd,useRef:Yg,useState:function(){return wd($a)},useDebugValue:Td,useDeferredValue:function(i){var s=Vn();return Et===null?s.memoizedState=i:sy(s,Et.memoizedState,i)},useTransition:function(){var i=wd($a)[0],s=Vn().memoizedState;return[i,s]},useMutableSource:$g,useSyncExternalStore:qg,useId:oy,unstable_isNewReconciler:!1};function Gn(i,s){if(i&&i.defaultProps){s=le({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Sd(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:le({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Fu={isMounted:function(i){return(i=i._reactInternals)?jn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var h=tn(),m=yi(i),v=Fr(h,m);v.payload=s,l!=null&&(v.callback=l),s=fi(i,v,m),s!==null&&(Yn(s,i,m,h),ku(s,i,m))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=tn(),m=yi(i),v=Fr(h,m);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=fi(i,v,m),s!==null&&(Yn(s,i,m,h),ku(s,i,m))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=tn(),h=yi(i),m=Fr(l,h);m.tag=2,s!=null&&(m.callback=s),s=fi(i,m,h),s!==null&&(Yn(s,i,h,l),ku(s,i,h))}};function cy(i,s,l,h,m,v,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,T):s.prototype&&s.prototype.isPureReactComponent?!ka(l,h)||!ka(m,v):!0}function hy(i,s,l){var h=!1,m=ci,v=s.contextType;return typeof v=="object"&&v!==null?v=Dn(v):(m=on(s)?rs:Ut.current,h=s.contextTypes,v=(h=h!=null)?co(i,m):ci),s=new s(l,v),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Fu,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),s}function dy(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&Fu.enqueueReplaceState(s,s.state,null)}function xd(i,s,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},cd(i);var v=s.contextType;typeof v=="object"&&v!==null?m.context=Dn(v):(v=on(s)?rs:Ut.current,m.context=co(i,v)),m.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Sd(i,s,v,l),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&Fu.enqueueReplaceState(m,m.state,null),Du(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function _o(i,s){try{var l="",h=s;do l+=Ie(h),h=h.return;while(h);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:s,stack:m,digest:null}}function Ad(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Rd(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var gS=typeof WeakMap=="function"?WeakMap:Map;function fy(i,s,l){l=Fr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Hu||(Hu=!0,Ud=h),Rd(i,s)},l}function py(i,s,l){l=Fr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=s.value;l.payload=function(){return h(m)},l.callback=function(){Rd(i,s)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Rd(i,s),typeof h!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function my(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new gS;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(l)||(m.add(l),i=kS.bind(null,i,s,l),s.then(i,i))}function gy(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function yy(i,s,l,h,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Fr(-1,1),s.tag=2,fi(l,s,1))),l.lanes|=1),i)}var yS=re.ReactCurrentOwner,an=!1;function en(i,s,l,h){s.child=i===null?Og(s,null,l,h):mo(s,i.child,l,h)}function vy(i,s,l,h,m){l=l.render;var v=s.ref;return yo(s,m),h=yd(i,s,l,h,v,m),l=vd(),i!==null&&!an?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,jr(i,s,m)):(et&&l&&ed(s),s.flags|=1,en(i,s,h,m),s.child)}function _y(i,s,l,h,m){if(i===null){var v=l.type;return typeof v=="function"&&!Gd(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,wy(i,s,v,h,m)):(i=Yu(l.type,null,h,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!(i.lanes&m)){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:ka,l(T,h)&&i.ref===s.ref)return jr(i,s,m)}return s.flags|=1,i=_i(v,h),i.ref=s.ref,i.return=s,s.child=i}function wy(i,s,l,h,m){if(i!==null){var v=i.memoizedProps;if(ka(v,h)&&i.ref===s.ref)if(an=!1,s.pendingProps=h=v,(i.lanes&m)!==0)i.flags&131072&&(an=!0);else return s.lanes=i.lanes,jr(i,s,m)}return Pd(i,s,l,h,m)}function Ey(i,s,l){var h=s.pendingProps,m=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Eo,En),En|=l;else{if(!(l&1073741824))return i=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ge(Eo,En),En|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,Ge(Eo,En),En|=h}else v!==null?(h=v.baseLanes|l,s.memoizedState=null):h=l,Ge(Eo,En),En|=h;return en(i,s,m,l),s.child}function Ty(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Pd(i,s,l,h,m){var v=on(l)?rs:Ut.current;return v=co(s,v),yo(s,m),l=yd(i,s,l,h,v,m),h=vd(),i!==null&&!an?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,jr(i,s,m)):(et&&h&&ed(s),s.flags|=1,en(i,s,l,m),s.child)}function Sy(i,s,l,h,m){if(on(l)){var v=!0;Tu(s)}else v=!1;if(yo(s,m),s.stateNode===null)Bu(i,s),hy(s,l,h),xd(s,l,h,m),h=!0;else if(i===null){var T=s.stateNode,k=s.memoizedProps;T.props=k;var L=T.context,W=l.contextType;typeof W=="object"&&W!==null?W=Dn(W):(W=on(l)?rs:Ut.current,W=co(s,W));var ee=l.getDerivedStateFromProps,ne=typeof ee=="function"||typeof T.getSnapshotBeforeUpdate=="function";ne||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==h||L!==W)&&dy(s,T,h,W),di=!1;var Z=s.memoizedState;T.state=Z,Du(s,h,T,m),L=s.memoizedState,k!==h||Z!==L||sn.current||di?(typeof ee=="function"&&(Sd(s,l,ee,h),L=s.memoizedState),(k=di||cy(s,l,k,h,Z,L,W))?(ne||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=L),T.props=h,T.state=L,T.context=W,h=k):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,jg(i,s),k=s.memoizedProps,W=s.type===s.elementType?k:Gn(s.type,k),T.props=W,ne=s.pendingProps,Z=T.context,L=l.contextType,typeof L=="object"&&L!==null?L=Dn(L):(L=on(l)?rs:Ut.current,L=co(s,L));var ue=l.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==ne||Z!==L)&&dy(s,T,h,L),di=!1,Z=s.memoizedState,T.state=Z,Du(s,h,T,m);var de=s.memoizedState;k!==ne||Z!==de||sn.current||di?(typeof ue=="function"&&(Sd(s,l,ue,h),de=s.memoizedState),(W=di||cy(s,l,W,h,Z,de,L)||!1)?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,de,L),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,de,L)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=de),T.props=h,T.state=de,T.context=L,h=W):(typeof T.componentDidUpdate!="function"||k===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),h=!1)}return Cd(i,s,l,h,v,m)}function Cd(i,s,l,h,m,v){Ty(i,s);var T=(s.flags&128)!==0;if(!h&&!T)return m&&Cg(s,l,!1),jr(i,s,v);h=s.stateNode,yS.current=s;var k=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&T?(s.child=mo(s,i.child,null,v),s.child=mo(s,null,k,v)):en(i,s,k,v),s.memoizedState=h.state,m&&Cg(s,l,!0),s.child}function xy(i){var s=i.stateNode;s.pendingContext?Rg(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Rg(i,s.context,!1),hd(i,s.containerInfo)}function Ay(i,s,l,h,m){return po(),id(m),s.flags|=256,en(i,s,l,h),s.child}var Id={dehydrated:null,treeContext:null,retryLane:0};function kd(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ry(i,s,l){var h=s.pendingProps,m=nt.current,v=!1,T=(s.flags&128)!==0,k;if((k=T)||(k=i!==null&&i.memoizedState===null?!1:(m&2)!==0),k?(v=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ge(nt,m&1),i===null)return rd(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(T=h.children,i=h.fallback,v?(h=s.mode,v=s.child,T={mode:"hidden",children:T},!(h&1)&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Ju(T,h,0,null),i=fs(i,h,l,null),v.return=s,i.return=s,v.sibling=i,s.child=v,s.child.memoizedState=kd(l),s.memoizedState=Id,i):Dd(s,T));if(m=i.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return vS(i,s,T,h,k,m,l);if(v){v=h.fallback,T=s.mode,m=i.child,k=m.sibling;var L={mode:"hidden",children:h.children};return!(T&1)&&s.child!==m?(h=s.child,h.childLanes=0,h.pendingProps=L,s.deletions=null):(h=_i(m,L),h.subtreeFlags=m.subtreeFlags&14680064),k!==null?v=_i(k,v):(v=fs(v,T,l,null),v.flags|=2),v.return=s,h.return=s,h.sibling=v,s.child=h,h=v,v=s.child,T=i.child.memoizedState,T=T===null?kd(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=i.childLanes&~l,s.memoizedState=Id,h}return v=i.child,i=v.sibling,h=_i(v,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=h,s.memoizedState=null,h}function Dd(i,s){return s=Ju({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function ju(i,s,l,h){return h!==null&&id(h),mo(s,i.child,null,l),i=Dd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function vS(i,s,l,h,m,v,T){if(l)return s.flags&256?(s.flags&=-257,h=Ad(Error(n(422))),ju(i,s,T,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(v=h.fallback,m=s.mode,h=Ju({mode:"visible",children:h.children},m,0,null),v=fs(v,m,T,null),v.flags|=2,h.return=s,v.return=s,h.sibling=v,s.child=h,s.mode&1&&mo(s,i.child,null,T),s.child.memoizedState=kd(T),s.memoizedState=Id,v);if(!(s.mode&1))return ju(i,s,T,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var k=h.dgst;return h=k,v=Error(n(419)),h=Ad(v,h,void 0),ju(i,s,T,h)}if(k=(T&i.childLanes)!==0,an||k){if(h=Ct,h!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(h.suspendedLanes|T)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Or(i,m),Yn(h,i,m,-1))}return Kd(),h=Ad(Error(n(421))),ju(i,s,T,h)}return m.data==="$?"?(s.flags|=128,s.child=i.child,s=DS.bind(null,i),m._reactRetry=s,null):(i=v.treeContext,wn=li(m.nextSibling),_n=s,et=!0,Kn=null,i!==null&&(In[kn++]=Lr,In[kn++]=Mr,In[kn++]=is,Lr=i.id,Mr=i.overflow,is=s),s=Dd(s,h.children),s.flags|=4096,s)}function Py(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),ld(i.return,s,l)}function Vd(i,s,l,h,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=m)}function Cy(i,s,l){var h=s.pendingProps,m=h.revealOrder,v=h.tail;if(en(i,s,h.children,l),h=nt.current,h&2)h=h&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Py(i,l,s);else if(i.tag===19)Py(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ge(nt,h),!(s.mode&1))s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&Vu(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Vd(s,!1,m,l,v);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Vu(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Vd(s,!0,l,null,v);break;case"together":Vd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Bu(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function jr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),us|=s.lanes,!(l&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,l=_i(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=_i(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function _S(i,s,l){switch(s.tag){case 3:xy(s),po();break;case 5:zg(s);break;case 1:on(s.type)&&Tu(s);break;case 4:hd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,m=s.memoizedProps.value;Ge(Cu,h._currentValue),h._currentValue=m;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ge(nt,nt.current&1),s.flags|=128,null):l&s.child.childLanes?Ry(i,s,l):(Ge(nt,nt.current&1),i=jr(i,s,l),i!==null?i.sibling:null);Ge(nt,nt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,i.flags&128){if(h)return Cy(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ge(nt,nt.current),h)break;return null;case 22:case 23:return s.lanes=0,Ey(i,s,l)}return jr(i,s,l)}var Iy,Nd,ky,Dy;Iy=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Nd=function(){},ky=function(i,s,l,h){var m=i.memoizedProps;if(m!==h){i=s.stateNode,as(hr.current);var v=null;switch(l){case"input":m=Bi(i,m),h=Bi(i,h),v=[];break;case"select":m=le({},m,{value:void 0}),h=le({},h,{value:void 0}),v=[];break;case"textarea":m=sa(i,m),h=sa(i,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=_u)}ha(l,h);var T;l=null;for(W in m)if(!h.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var k=m[W];for(T in k)k.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?v||(v=[]):(v=v||[]).push(W,null));for(W in h){var L=h[W];if(k=m!=null?m[W]:void 0,h.hasOwnProperty(W)&&L!==k&&(L!=null||k!=null))if(W==="style")if(k){for(T in k)!k.hasOwnProperty(T)||L&&L.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in L)L.hasOwnProperty(T)&&k[T]!==L[T]&&(l||(l={}),l[T]=L[T])}else l||(v||(v=[]),v.push(W,l)),l=L;else W==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,k=k?k.__html:void 0,L!=null&&k!==L&&(v=v||[]).push(W,L)):W==="children"?typeof L!="string"&&typeof L!="number"||(v=v||[]).push(W,""+L):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(L!=null&&W==="onScroll"&&Qe("scroll",i),v||k===L||(v=[])):(v=v||[]).push(W,L))}l&&(v=v||[]).push("style",l);var W=v;(s.updateQueue=W)&&(s.flags|=4)}},Dy=function(i,s,l,h){l!==h&&(s.flags|=4)};function Ha(i,s){if(!et)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function $t(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function wS(i,s,l){var h=s.pendingProps;switch(td(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return on(s.type)&&Eu(),$t(s),null;case 3:return h=s.stateNode,vo(),Xe(sn),Xe(Ut),pd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Ru(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Kn!==null&&(qd(Kn),Kn=null))),Nd(i,s),$t(s),null;case 5:dd(s);var m=as(Ba.current);if(l=s.type,i!==null&&s.stateNode!=null)ky(i,s,l,h,m),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return $t(s),null}if(i=as(hr.current),Ru(s)){h=s.stateNode,l=s.type;var v=s.memoizedProps;switch(h[cr]=s,h[La]=v,i=(s.mode&1)!==0,l){case"dialog":Qe("cancel",h),Qe("close",h);break;case"iframe":case"object":case"embed":Qe("load",h);break;case"video":case"audio":for(m=0;m<Va.length;m++)Qe(Va[m],h);break;case"source":Qe("error",h);break;case"img":case"image":case"link":Qe("error",h),Qe("load",h);break;case"details":Qe("toggle",h);break;case"input":Vs(h,v),Qe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Qe("invalid",h);break;case"textarea":bs(h,v),Qe("invalid",h)}ha(l,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var k=v[T];T==="children"?typeof k=="string"?h.textContent!==k&&(v.suppressHydrationWarning!==!0&&vu(h.textContent,k,i),m=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(v.suppressHydrationWarning!==!0&&vu(h.textContent,k,i),m=["children",""+k]):o.hasOwnProperty(T)&&k!=null&&T==="onScroll"&&Qe("scroll",h)}switch(l){case"input":Sr(h),ql(h,v,!0);break;case"textarea":Sr(h),oa(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=_u)}h=m,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=vt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[cr]=s,i[La]=h,Iy(i,s,!1,!1),s.stateNode=i;e:{switch(T=da(l,h),l){case"dialog":Qe("cancel",i),Qe("close",i),m=h;break;case"iframe":case"object":case"embed":Qe("load",i),m=h;break;case"video":case"audio":for(m=0;m<Va.length;m++)Qe(Va[m],i);m=h;break;case"source":Qe("error",i),m=h;break;case"img":case"image":case"link":Qe("error",i),Qe("load",i),m=h;break;case"details":Qe("toggle",i),m=h;break;case"input":Vs(i,h),m=Bi(i,h),Qe("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=le({},h,{value:void 0}),Qe("invalid",i);break;case"textarea":bs(i,h),m=sa(i,h),Qe("invalid",i);break;default:m=h}ha(l,m),k=m;for(v in k)if(k.hasOwnProperty(v)){var L=k[v];v==="style"?ua(i,L):v==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&aa(i,L)):v==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&Yr(i,L):typeof L=="number"&&Yr(i,""+L):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?L!=null&&v==="onScroll"&&Qe("scroll",i):L!=null&&K(i,v,L,T))}switch(l){case"input":Sr(i),ql(i,h,!1);break;case"textarea":Sr(i),oa(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Ue(h.value));break;case"select":i.multiple=!!h.multiple,v=h.value,v!=null?Ar(i,!!h.multiple,v,!1):h.defaultValue!=null&&Ar(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=_u)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(i&&s.stateNode!=null)Dy(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(l=as(Ba.current),as(hr.current),Ru(s)){if(h=s.stateNode,l=s.memoizedProps,h[cr]=s,(v=h.nodeValue!==l)&&(i=_n,i!==null))switch(i.tag){case 3:vu(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&vu(h.nodeValue,l,(i.mode&1)!==0)}v&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[cr]=s,s.stateNode=h}return $t(s),null;case 13:if(Xe(nt),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(et&&wn!==null&&s.mode&1&&!(s.flags&128))bg(),po(),s.flags|=98560,v=!1;else if(v=Ru(s),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[cr]=s}else po(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;$t(s),v=!1}else Kn!==null&&(qd(Kn),Kn=null),v=!0;if(!v)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(i===null||nt.current&1?Tt===0&&(Tt=3):Kd())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return vo(),Nd(i,s),i===null&&Na(s.stateNode.containerInfo),$t(s),null;case 10:return ad(s.type._context),$t(s),null;case 17:return on(s.type)&&Eu(),$t(s),null;case 19:if(Xe(nt),v=s.memoizedState,v===null)return $t(s),null;if(h=(s.flags&128)!==0,T=v.rendering,T===null)if(h)Ha(v,!1);else{if(Tt!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(T=Vu(i),T!==null){for(s.flags|=128,Ha(v,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)v=l,i=h,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,i=T.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ge(nt,nt.current&1|2),s.child}i=i.sibling}v.tail!==null&&Ke()>To&&(s.flags|=128,h=!0,Ha(v,!1),s.lanes=4194304)}else{if(!h)if(i=Vu(T),i!==null){if(s.flags|=128,h=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ha(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!et)return $t(s),null}else 2*Ke()-v.renderingStartTime>To&&l!==1073741824&&(s.flags|=128,h=!0,Ha(v,!1),s.lanes=4194304);v.isBackwards?(T.sibling=s.child,s.child=T):(l=v.last,l!==null?l.sibling=T:s.child=T,v.last=T)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Ke(),s.sibling=null,l=nt.current,Ge(nt,h?l&1|2:l&1),s):($t(s),null);case 22:case 23:return Wd(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?En&1073741824&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function ES(i,s){switch(td(s),s.tag){case 1:return on(s.type)&&Eu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return vo(),Xe(sn),Xe(Ut),pd(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return dd(s),null;case 13:if(Xe(nt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));po()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Xe(nt),null;case 4:return vo(),null;case 10:return ad(s.type._context),null;case 22:case 23:return Wd(),null;case 24:return null;default:return null}}var Uu=!1,qt=!1,TS=typeof WeakSet=="function"?WeakSet:Set,he=null;function wo(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ot(i,s,h)}else l.current=null}function bd(i,s,l){try{l()}catch(h){ot(i,s,h)}}var Vy=!1;function SS(i,s){if(Wh=si,i=cg(),Fh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,k=-1,L=-1,W=0,ee=0,ne=i,Z=null;t:for(;;){for(var ue;ne!==l||m!==0&&ne.nodeType!==3||(k=T+m),ne!==v||h!==0&&ne.nodeType!==3||(L=T+h),ne.nodeType===3&&(T+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)Z=ne,ne=ue;for(;;){if(ne===i)break t;if(Z===l&&++W===m&&(k=T),Z===v&&++ee===h&&(L=T),(ue=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ue}l=k===-1||L===-1?null:{start:k,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kh={focusedElem:i,selectionRange:l},si=!1,he=s;he!==null;)if(s=he,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,he=i;else for(;he!==null;){s=he;try{var de=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,ct=de.memoizedState,q=s.stateNode,M=q.getSnapshotBeforeUpdate(s.elementType===s.type?pe:Gn(s.type,pe),ct);q.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){ot(s,s.return,ie)}if(i=s.sibling,i!==null){i.return=s.return,he=i;break}he=s.return}return de=Vy,Vy=!1,de}function Wa(i,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&bd(s,l,v)}m=m.next}while(m!==h)}}function zu(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Ld(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Ny(i){var s=i.alternate;s!==null&&(i.alternate=null,Ny(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[cr],delete s[La],delete s[Yh],delete s[sS],delete s[oS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function by(i){return i.tag===5||i.tag===3||i.tag===4}function Ly(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||by(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Md(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=_u));else if(h!==4&&(i=i.child,i!==null))for(Md(i,s,l),i=i.sibling;i!==null;)Md(i,s,l),i=i.sibling}function Od(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Od(i,s,l),i=i.sibling;i!==null;)Od(i,s,l),i=i.sibling}var Lt=null,Qn=!1;function pi(i,s,l){for(l=l.child;l!==null;)My(i,s,l),l=l.sibling}function My(i,s,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Qi,l)}catch{}switch(l.tag){case 5:qt||wo(l,s);case 6:var h=Lt,m=Qn;Lt=null,pi(i,s,l),Lt=h,Qn=m,Lt!==null&&(Qn?(i=Lt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Lt.removeChild(l.stateNode));break;case 18:Lt!==null&&(Qn?(i=Lt,l=l.stateNode,i.nodeType===8?Xh(i.parentNode,l):i.nodeType===1&&Xh(i,l),qn(i)):Xh(Lt,l.stateNode));break;case 4:h=Lt,m=Qn,Lt=l.stateNode.containerInfo,Qn=!0,pi(i,s,l),Lt=h,Qn=m;break;case 0:case 11:case 14:case 15:if(!qt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&(v&2||v&4)&&bd(l,s,T),m=m.next}while(m!==h)}pi(i,s,l);break;case 1:if(!qt&&(wo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(k){ot(l,s,k)}pi(i,s,l);break;case 21:pi(i,s,l);break;case 22:l.mode&1?(qt=(h=qt)||l.memoizedState!==null,pi(i,s,l),qt=h):pi(i,s,l);break;default:pi(i,s,l)}}function Oy(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new TS),s.forEach(function(h){var m=VS.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Xn(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var v=i,T=s,k=T;e:for(;k!==null;){switch(k.tag){case 5:Lt=k.stateNode,Qn=!1;break e;case 3:Lt=k.stateNode.containerInfo,Qn=!0;break e;case 4:Lt=k.stateNode.containerInfo,Qn=!0;break e}k=k.return}if(Lt===null)throw Error(n(160));My(v,T,m),Lt=null,Qn=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(W){ot(m,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Fy(s,i),s=s.sibling}function Fy(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Xn(s,i),fr(i),h&4){try{Wa(3,i,i.return),zu(3,i)}catch(pe){ot(i,i.return,pe)}try{Wa(5,i,i.return)}catch(pe){ot(i,i.return,pe)}}break;case 1:Xn(s,i),fr(i),h&512&&l!==null&&wo(l,l.return);break;case 5:if(Xn(s,i),fr(i),h&512&&l!==null&&wo(l,l.return),i.flags&32){var m=i.stateNode;try{Yr(m,"")}catch(pe){ot(i,i.return,pe)}}if(h&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,T=l!==null?l.memoizedProps:v,k=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{k==="input"&&v.type==="radio"&&v.name!=null&&ra(m,v),da(k,T);var W=da(k,v);for(T=0;T<L.length;T+=2){var ee=L[T],ne=L[T+1];ee==="style"?ua(m,ne):ee==="dangerouslySetInnerHTML"?aa(m,ne):ee==="children"?Yr(m,ne):K(m,ee,ne,W)}switch(k){case"input":ia(m,v);break;case"textarea":Ls(m,v);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?Ar(m,!!v.multiple,ue,!1):Z!==!!v.multiple&&(v.defaultValue!=null?Ar(m,!!v.multiple,v.defaultValue,!0):Ar(m,!!v.multiple,v.multiple?[]:"",!1))}m[La]=v}catch(pe){ot(i,i.return,pe)}}break;case 6:if(Xn(s,i),fr(i),h&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(pe){ot(i,i.return,pe)}}break;case 3:if(Xn(s,i),fr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{qn(s.containerInfo)}catch(pe){ot(i,i.return,pe)}break;case 4:Xn(s,i),fr(i);break;case 13:Xn(s,i),fr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Bd=Ke())),h&4&&Oy(i);break;case 22:if(ee=l!==null&&l.memoizedState!==null,i.mode&1?(qt=(W=qt)||ee,Xn(s,i),qt=W):Xn(s,i),fr(i),h&8192){if(W=i.memoizedState!==null,(i.stateNode.isHidden=W)&&!ee&&i.mode&1)for(he=i,ee=i.child;ee!==null;){for(ne=he=ee;he!==null;){switch(Z=he,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:Wa(4,Z,Z.return);break;case 1:wo(Z,Z.return);var de=Z.stateNode;if(typeof de.componentWillUnmount=="function"){h=Z,l=Z.return;try{s=h,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(pe){ot(h,l,pe)}}break;case 5:wo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Uy(ne);continue}}ue!==null?(ue.return=Z,he=ue):Uy(ne)}ee=ee.sibling}e:for(ee=null,ne=i;;){if(ne.tag===5){if(ee===null){ee=ne;try{m=ne.stateNode,W?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(k=ne.stateNode,L=ne.memoizedProps.style,T=L!=null&&L.hasOwnProperty("display")?L.display:null,k.style.display=la("display",T))}catch(pe){ot(i,i.return,pe)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=W?"":ne.memoizedProps}catch(pe){ot(i,i.return,pe)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===i)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===i)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===i)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Xn(s,i),fr(i),h&4&&Oy(i);break;case 21:break;default:Xn(s,i),fr(i)}}function fr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(by(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Yr(m,""),h.flags&=-33);var v=Ly(i);Od(i,v,m);break;case 3:case 4:var T=h.stateNode.containerInfo,k=Ly(i);Md(i,k,T);break;default:throw Error(n(161))}}catch(L){ot(i,i.return,L)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function xS(i,s,l){he=i,jy(i)}function jy(i,s,l){for(var h=(i.mode&1)!==0;he!==null;){var m=he,v=m.child;if(m.tag===22&&h){var T=m.memoizedState!==null||Uu;if(!T){var k=m.alternate,L=k!==null&&k.memoizedState!==null||qt;k=Uu;var W=qt;if(Uu=T,(qt=L)&&!W)for(he=m;he!==null;)T=he,L=T.child,T.tag===22&&T.memoizedState!==null?zy(m):L!==null?(L.return=T,he=L):zy(m);for(;v!==null;)he=v,jy(v),v=v.sibling;he=m,Uu=k,qt=W}By(i)}else m.subtreeFlags&8772&&v!==null?(v.return=m,he=v):By(i)}}function By(i){for(;he!==null;){var s=he;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:qt||zu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!qt)if(l===null)h.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:Gn(s.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&Ug(s,v,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ug(s,T,l)}break;case 5:var k=s.stateNode;if(l===null&&s.flags&4){l=k;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var ee=W.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&qn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qt||s.flags&512&&Ld(s)}catch(Z){ot(s,s.return,Z)}}if(s===i){he=null;break}if(l=s.sibling,l!==null){l.return=s.return,he=l;break}he=s.return}}function Uy(i){for(;he!==null;){var s=he;if(s===i){he=null;break}var l=s.sibling;if(l!==null){l.return=s.return,he=l;break}he=s.return}}function zy(i){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{zu(4,s)}catch(L){ot(s,l,L)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var m=s.return;try{h.componentDidMount()}catch(L){ot(s,m,L)}}var v=s.return;try{Ld(s)}catch(L){ot(s,v,L)}break;case 5:var T=s.return;try{Ld(s)}catch(L){ot(s,T,L)}}}catch(L){ot(s,s.return,L)}if(s===i){he=null;break}var k=s.sibling;if(k!==null){k.return=s.return,he=k;break}he=s.return}}var AS=Math.ceil,$u=re.ReactCurrentDispatcher,Fd=re.ReactCurrentOwner,Nn=re.ReactCurrentBatchConfig,Fe=0,Ct=null,pt=null,Mt=0,En=0,Eo=ui(0),Tt=0,Ka=null,us=0,qu=0,jd=0,Ga=null,ln=null,Bd=0,To=1/0,Br=null,Hu=!1,Ud=null,mi=null,Wu=!1,gi=null,Ku=0,Qa=0,zd=null,Gu=-1,Qu=0;function tn(){return Fe&6?Ke():Gu!==-1?Gu:Gu=Ke()}function yi(i){return i.mode&1?Fe&2&&Mt!==0?Mt&-Mt:lS.transition!==null?(Qu===0&&(Qu=Yi()),Qu):(i=Ve,i!==0||(i=window.event,i=i===void 0?16:Sa(i.type)),i):1}function Yn(i,s,l,h){if(50<Qa)throw Qa=0,zd=null,Error(n(185));ti(i,l,h),(!(Fe&2)||i!==Ct)&&(i===Ct&&(!(Fe&2)&&(qu|=l),Tt===4&&vi(i,Mt)),un(i,h),l===1&&Fe===0&&!(s.mode&1)&&(To=Ke()+500,Su&&hi()))}function un(i,s){var l=i.callbackNode;Cr(i,s);var h=Xi(i,i===Ct?Mt:0);if(h===0)l!==null&&va(l),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(l!=null&&va(l),s===1)i.tag===0?aS(qy.bind(null,i)):Ig(qy.bind(null,i)),rS(function(){!(Fe&6)&&hi()}),l=null;else{switch(ri(h)){case 1:l=Gi;break;case 4:l=Jr;break;case 16:l=Rn;break;case 536870912:l=Ql;break;default:l=Rn}l=Jy(l,$y.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function $y(i,s){if(Gu=-1,Qu=0,Fe&6)throw Error(n(327));var l=i.callbackNode;if(So()&&i.callbackNode!==l)return null;var h=Xi(i,i===Ct?Mt:0);if(h===0)return null;if(h&30||h&i.expiredLanes||s)s=Xu(i,h);else{s=h;var m=Fe;Fe|=2;var v=Wy();(Ct!==i||Mt!==s)&&(Br=null,To=Ke()+500,hs(i,s));do try{CS();break}catch(k){Hy(i,k)}while(!0);od(),$u.current=v,Fe=m,pt!==null?s=0:(Ct=null,Mt=0,s=Tt)}if(s!==0){if(s===2&&(m=gn(i),m!==0&&(h=m,s=$d(i,m))),s===1)throw l=Ka,hs(i,0),vi(i,h),un(i,Ke()),l;if(s===6)vi(i,h);else{if(m=i.current.alternate,!(h&30)&&!RS(m)&&(s=Xu(i,h),s===2&&(v=gn(i),v!==0&&(h=v,s=$d(i,v))),s===1))throw l=Ka,hs(i,0),vi(i,h),un(i,Ke()),l;switch(i.finishedWork=m,i.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:ds(i,ln,Br);break;case 3:if(vi(i,h),(h&130023424)===h&&(s=Bd+500-Ke(),10<s)){if(Xi(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){tn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Qh(ds.bind(null,i,ln,Br),s);break}ds(i,ln,Br);break;case 4:if(vi(i,h),(h&4194240)===h)break;for(s=i.eventTimes,m=-1;0<h;){var T=31-Jt(h);v=1<<T,T=s[T],T>m&&(m=T),h&=~v}if(h=m,h=Ke()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*AS(h/1960))-h,10<h){i.timeoutHandle=Qh(ds.bind(null,i,ln,Br),h);break}ds(i,ln,Br);break;case 5:ds(i,ln,Br);break;default:throw Error(n(329))}}}return un(i,Ke()),i.callbackNode===l?$y.bind(null,i):null}function $d(i,s){var l=Ga;return i.current.memoizedState.isDehydrated&&(hs(i,s).flags|=256),i=Xu(i,s),i!==2&&(s=ln,ln=l,s!==null&&qd(s)),i}function qd(i){ln===null?ln=i:ln.push.apply(ln,i)}function RS(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],v=m.getSnapshot;m=m.value;try{if(!Wn(v(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vi(i,s){for(s&=~jd,s&=~qu,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Jt(s),h=1<<l;i[l]=-1,s&=~h}}function qy(i){if(Fe&6)throw Error(n(327));So();var s=Xi(i,0);if(!(s&1))return un(i,Ke()),null;var l=Xu(i,s);if(i.tag!==0&&l===2){var h=gn(i);h!==0&&(s=h,l=$d(i,h))}if(l===1)throw l=Ka,hs(i,0),vi(i,s),un(i,Ke()),l;if(l===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,ds(i,ln,Br),un(i,Ke()),null}function Hd(i,s){var l=Fe;Fe|=1;try{return i(s)}finally{Fe=l,Fe===0&&(To=Ke()+500,Su&&hi())}}function cs(i){gi!==null&&gi.tag===0&&!(Fe&6)&&So();var s=Fe;Fe|=1;var l=Nn.transition,h=Ve;try{if(Nn.transition=null,Ve=1,i)return i()}finally{Ve=h,Nn.transition=l,Fe=s,!(Fe&6)&&hi()}}function Wd(){En=Eo.current,Xe(Eo)}function hs(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,nS(l)),pt!==null)for(l=pt.return;l!==null;){var h=l;switch(td(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Eu();break;case 3:vo(),Xe(sn),Xe(Ut),pd();break;case 5:dd(h);break;case 4:vo();break;case 13:Xe(nt);break;case 19:Xe(nt);break;case 10:ad(h.type._context);break;case 22:case 23:Wd()}l=l.return}if(Ct=i,pt=i=_i(i.current,null),Mt=En=s,Tt=0,Ka=null,jd=qu=us=0,ln=Ga=null,os!==null){for(s=0;s<os.length;s++)if(l=os[s],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,v=l.pending;if(v!==null){var T=v.next;v.next=m,h.next=T}l.pending=h}os=null}return i}function Hy(i,s){do{var l=pt;try{if(od(),Nu.current=Ou,bu){for(var h=rt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}bu=!1}if(ls=0,Pt=Et=rt=null,Ua=!1,za=0,Fd.current=null,l===null||l.return===null){Tt=1,Ka=s,pt=null;break}e:{var v=i,T=l.return,k=l,L=s;if(s=Mt,k.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var W=L,ee=k,ne=ee.tag;if(!(ee.mode&1)&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=gy(T);if(ue!==null){ue.flags&=-257,yy(ue,T,k,v,s),ue.mode&1&&my(v,W,s),s=ue,L=W;var de=s.updateQueue;if(de===null){var pe=new Set;pe.add(L),s.updateQueue=pe}else de.add(L);break e}else{if(!(s&1)){my(v,W,s),Kd();break e}L=Error(n(426))}}else if(et&&k.mode&1){var ct=gy(T);if(ct!==null){!(ct.flags&65536)&&(ct.flags|=256),yy(ct,T,k,v,s),id(_o(L,k));break e}}v=L=_o(L,k),Tt!==4&&(Tt=2),Ga===null?Ga=[v]:Ga.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var q=fy(v,L,s);Bg(v,q);break e;case 1:k=L;var M=v.type,H=v.stateNode;if(!(v.flags&128)&&(typeof M.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(mi===null||!mi.has(H)))){v.flags|=65536,s&=-s,v.lanes|=s;var ie=py(v,k,s);Bg(v,ie);break e}}v=v.return}while(v!==null)}Gy(l)}catch(me){s=me,pt===l&&l!==null&&(pt=l=l.return);continue}break}while(!0)}function Wy(){var i=$u.current;return $u.current=Ou,i===null?Ou:i}function Kd(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Ct===null||!(us&268435455)&&!(qu&268435455)||vi(Ct,Mt)}function Xu(i,s){var l=Fe;Fe|=2;var h=Wy();(Ct!==i||Mt!==s)&&(Br=null,hs(i,s));do try{PS();break}catch(m){Hy(i,m)}while(!0);if(od(),Fe=l,$u.current=h,pt!==null)throw Error(n(261));return Ct=null,Mt=0,Tt}function PS(){for(;pt!==null;)Ky(pt)}function CS(){for(;pt!==null&&!Kl();)Ky(pt)}function Ky(i){var s=Yy(i.alternate,i,En);i.memoizedProps=i.pendingProps,s===null?Gy(i):pt=s,Fd.current=null}function Gy(i){var s=i;do{var l=s.alternate;if(i=s.return,s.flags&32768){if(l=ES(l,s),l!==null){l.flags&=32767,pt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Tt=6,pt=null;return}}else if(l=wS(l,s,En),l!==null){pt=l;return}if(s=s.sibling,s!==null){pt=s;return}pt=s=i}while(s!==null);Tt===0&&(Tt=5)}function ds(i,s,l){var h=Ve,m=Nn.transition;try{Nn.transition=null,Ve=1,IS(i,s,l,h)}finally{Nn.transition=m,Ve=h}return null}function IS(i,s,l,h){do So();while(gi!==null);if(Fe&6)throw Error(n(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(He(i,v),i===Ct&&(pt=Ct=null,Mt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Wu||(Wu=!0,Jy(Rn,function(){return So(),null})),v=(l.flags&15990)!==0,l.subtreeFlags&15990||v){v=Nn.transition,Nn.transition=null;var T=Ve;Ve=1;var k=Fe;Fe|=4,Fd.current=null,SS(i,l),Fy(l,i),Q1(Kh),si=!!Wh,Kh=Wh=null,i.current=l,xS(l),kh(),Fe=k,Ve=T,Nn.transition=v}else i.current=l;if(Wu&&(Wu=!1,gi=i,Ku=m),v=i.pendingLanes,v===0&&(mi=null),Xl(l.stateNode),un(i,Ke()),s!==null)for(h=i.onRecoverableError,l=0;l<s.length;l++)m=s[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(Hu)throw Hu=!1,i=Ud,Ud=null,i;return Ku&1&&i.tag!==0&&So(),v=i.pendingLanes,v&1?i===zd?Qa++:(Qa=0,zd=i):Qa=0,hi(),null}function So(){if(gi!==null){var i=ri(Ku),s=Nn.transition,l=Ve;try{if(Nn.transition=null,Ve=16>i?16:i,gi===null)var h=!1;else{if(i=gi,gi=null,Ku=0,Fe&6)throw Error(n(331));var m=Fe;for(Fe|=4,he=i.current;he!==null;){var v=he,T=v.child;if(he.flags&16){var k=v.deletions;if(k!==null){for(var L=0;L<k.length;L++){var W=k[L];for(he=W;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:Wa(8,ee,v)}var ne=ee.child;if(ne!==null)ne.return=ee,he=ne;else for(;he!==null;){ee=he;var Z=ee.sibling,ue=ee.return;if(Ny(ee),ee===W){he=null;break}if(Z!==null){Z.return=ue,he=Z;break}he=ue}}}var de=v.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var ct=pe.sibling;pe.sibling=null,pe=ct}while(pe!==null)}}he=v}}if(v.subtreeFlags&2064&&T!==null)T.return=v,he=T;else e:for(;he!==null;){if(v=he,v.flags&2048)switch(v.tag){case 0:case 11:case 15:Wa(9,v,v.return)}var q=v.sibling;if(q!==null){q.return=v.return,he=q;break e}he=v.return}}var M=i.current;for(he=M;he!==null;){T=he;var H=T.child;if(T.subtreeFlags&2064&&H!==null)H.return=T,he=H;else e:for(T=M;he!==null;){if(k=he,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:zu(9,k)}}catch(me){ot(k,k.return,me)}if(k===T){he=null;break e}var ie=k.sibling;if(ie!==null){ie.return=k.return,he=ie;break e}he=k.return}}if(Fe=m,hi(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Qi,i)}catch{}h=!0}return h}finally{Ve=l,Nn.transition=s}}return!1}function Qy(i,s,l){s=_o(l,s),s=fy(i,s,1),i=fi(i,s,1),s=tn(),i!==null&&(ti(i,1,s),un(i,s))}function ot(i,s,l){if(i.tag===3)Qy(i,i,l);else for(;s!==null;){if(s.tag===3){Qy(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(mi===null||!mi.has(h))){i=_o(l,i),i=py(s,i,1),s=fi(s,i,1),i=tn(),s!==null&&(ti(s,1,i),un(s,i));break}}s=s.return}}function kS(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),s=tn(),i.pingedLanes|=i.suspendedLanes&l,Ct===i&&(Mt&l)===l&&(Tt===4||Tt===3&&(Mt&130023424)===Mt&&500>Ke()-Bd?hs(i,0):jd|=l),un(i,s)}function Xy(i,s){s===0&&(i.mode&1?(s=Hs,Hs<<=1,!(Hs&130023424)&&(Hs=4194304)):s=1);var l=tn();i=Or(i,s),i!==null&&(ti(i,s,l),un(i,l))}function DS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Xy(i,l)}function VS(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),Xy(i,l)}var Yy;Yy=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||sn.current)an=!0;else{if(!(i.lanes&l)&&!(s.flags&128))return an=!1,_S(i,s,l);an=!!(i.flags&131072)}else an=!1,et&&s.flags&1048576&&kg(s,Au,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Bu(i,s),i=s.pendingProps;var m=co(s,Ut.current);yo(s,l),m=yd(null,s,h,i,m,l);var v=vd();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,on(h)?(v=!0,Tu(s)):v=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,cd(s),m.updater=Fu,s.stateNode=m,m._reactInternals=s,xd(s,h,i,l),s=Cd(null,s,h,!0,v,l)):(s.tag=0,et&&v&&ed(s),en(null,s,m,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Bu(i,s),i=s.pendingProps,m=h._init,h=m(h._payload),s.type=h,m=s.tag=bS(h),i=Gn(h,i),m){case 0:s=Pd(null,s,h,i,l);break e;case 1:s=Sy(null,s,h,i,l);break e;case 11:s=vy(null,s,h,i,l);break e;case 14:s=_y(null,s,h,Gn(h.type,i),l);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:Gn(h,m),Pd(i,s,h,m,l);case 1:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:Gn(h,m),Sy(i,s,h,m,l);case 3:e:{if(xy(s),i===null)throw Error(n(387));h=s.pendingProps,v=s.memoizedState,m=v.element,jg(i,s),Du(s,h,null,l);var T=s.memoizedState;if(h=T.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){m=_o(Error(n(423)),s),s=Ay(i,s,h,l,m);break e}else if(h!==m){m=_o(Error(n(424)),s),s=Ay(i,s,h,l,m);break e}else for(wn=li(s.stateNode.containerInfo.firstChild),_n=s,et=!0,Kn=null,l=Og(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(po(),h===m){s=jr(i,s,l);break e}en(i,s,h,l)}s=s.child}return s;case 5:return zg(s),i===null&&rd(s),h=s.type,m=s.pendingProps,v=i!==null?i.memoizedProps:null,T=m.children,Gh(h,m)?T=null:v!==null&&Gh(h,v)&&(s.flags|=32),Ty(i,s),en(i,s,T,l),s.child;case 6:return i===null&&rd(s),null;case 13:return Ry(i,s,l);case 4:return hd(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=mo(s,null,h,l):en(i,s,h,l),s.child;case 11:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:Gn(h,m),vy(i,s,h,m,l);case 7:return en(i,s,s.pendingProps,l),s.child;case 8:return en(i,s,s.pendingProps.children,l),s.child;case 12:return en(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,m=s.pendingProps,v=s.memoizedProps,T=m.value,Ge(Cu,h._currentValue),h._currentValue=T,v!==null)if(Wn(v.value,T)){if(v.children===m.children&&!sn.current){s=jr(i,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var k=v.dependencies;if(k!==null){T=v.child;for(var L=k.firstContext;L!==null;){if(L.context===h){if(v.tag===1){L=Fr(-1,l&-l),L.tag=2;var W=v.updateQueue;if(W!==null){W=W.shared;var ee=W.pending;ee===null?L.next=L:(L.next=ee.next,ee.next=L),W.pending=L}}v.lanes|=l,L=v.alternate,L!==null&&(L.lanes|=l),ld(v.return,l,s),k.lanes|=l;break}L=L.next}}else if(v.tag===10)T=v.type===s.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=l,k=T.alternate,k!==null&&(k.lanes|=l),ld(T,l,s),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===s){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}en(i,s,m.children,l),s=s.child}return s;case 9:return m=s.type,h=s.pendingProps.children,yo(s,l),m=Dn(m),h=h(m),s.flags|=1,en(i,s,h,l),s.child;case 14:return h=s.type,m=Gn(h,s.pendingProps),m=Gn(h.type,m),_y(i,s,h,m,l);case 15:return wy(i,s,s.type,s.pendingProps,l);case 17:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:Gn(h,m),Bu(i,s),s.tag=1,on(h)?(i=!0,Tu(s)):i=!1,yo(s,l),hy(s,h,m),xd(s,h,m,l),Cd(null,s,h,!0,i,l);case 19:return Cy(i,s,l);case 22:return Ey(i,s,l)}throw Error(n(156,s.tag))};function Jy(i,s){return $s(i,s)}function NS(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(i,s,l,h){return new NS(i,s,l,h)}function Gd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function bS(i){if(typeof i=="function")return Gd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===Dt)return 14}return 2}function _i(i,s){var l=i.alternate;return l===null?(l=bn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Yu(i,s,l,h,m,v){var T=2;if(h=i,typeof i=="function")Gd(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case V:return fs(l.children,m,v,s);case A:T=8,m|=8;break;case I:return i=bn(12,l,s,m|2),i.elementType=I,i.lanes=v,i;case D:return i=bn(13,l,s,m),i.elementType=D,i.lanes=v,i;case Je:return i=bn(19,l,s,m),i.elementType=Je,i.lanes=v,i;case Ae:return Ju(l,m,v,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case b:T=10;break e;case O:T=9;break e;case z:T=11;break e;case Dt:T=14;break e;case Vt:T=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return s=bn(T,l,s,m),s.elementType=i,s.type=h,s.lanes=v,s}function fs(i,s,l,h){return i=bn(7,i,h,s),i.lanes=l,i}function Ju(i,s,l,h){return i=bn(22,i,h,s),i.elementType=Ae,i.lanes=l,i.stateNode={isHidden:!1},i}function Qd(i,s,l){return i=bn(6,i,null,s),i.lanes=l,i}function Xd(i,s,l){return s=bn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function LS(i,s,l,h,m){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ei(0),this.expirationTimes=ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Yd(i,s,l,h,m,v,T,k,L){return i=new LS(i,s,l,k,L),s===1?(s=1,v===!0&&(s|=8)):s=0,v=bn(3,null,null,s),i.current=v,v.stateNode=i,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},cd(v),i}function MS(i,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:i,containerInfo:s,implementation:l}}function Zy(i){if(!i)return ci;i=i._reactInternals;e:{if(jn(i)!==i||i.tag!==1)throw Error(n(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(on(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(i.tag===1){var l=i.type;if(on(l))return Pg(i,l,s)}return s}function ev(i,s,l,h,m,v,T,k,L){return i=Yd(l,h,!0,i,m,v,T,k,L),i.context=Zy(null),l=i.current,h=tn(),m=yi(l),v=Fr(h,m),v.callback=s??null,fi(l,v,m),i.current.lanes=m,ti(i,m,h),un(i,h),i}function Zu(i,s,l,h){var m=s.current,v=tn(),T=yi(m);return l=Zy(l),s.context===null?s.context=l:s.pendingContext=l,s=Fr(v,T),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=fi(m,s,T),i!==null&&(Yn(i,m,T,v),ku(i,m,T)),T}function ec(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function tv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Jd(i,s){tv(i,s),(i=i.alternate)&&tv(i,s)}function OS(){return null}var nv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Zd(i){this._internalRoot=i}tc.prototype.render=Zd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));Zu(i,s,null,null)},tc.prototype.unmount=Zd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;cs(function(){Zu(null,i,null,null)}),s[Nr]=null}};function tc(i){this._internalRoot=i}tc.prototype.unstable_scheduleHydration=function(i){if(i){var s=tu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<or.length&&s!==0&&s<or[l].priority;l++);or.splice(l,0,i),l===0&&iu(i)}};function ef(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function nc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function rv(){}function FS(i,s,l,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var W=ec(T);v.call(W)}}var T=ev(s,h,i,0,null,!1,!1,"",rv);return i._reactRootContainer=T,i[Nr]=T.current,Na(i.nodeType===8?i.parentNode:i),cs(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var k=h;h=function(){var W=ec(L);k.call(W)}}var L=Yd(i,0,!1,null,null,!1,!1,"",rv);return i._reactRootContainer=L,i[Nr]=L.current,Na(i.nodeType===8?i.parentNode:i),cs(function(){Zu(s,L,l,h)}),L}function rc(i,s,l,h,m){var v=l._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var k=m;m=function(){var L=ec(T);k.call(L)}}Zu(s,T,i,m)}else T=FS(l,s,i,m,h);return ec(T)}Zl=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=Zr(s.pendingLanes);l!==0&&(ni(s,l|1),un(s,Ke()),!(Fe&6)&&(To=Ke()+500,hi()))}break;case 13:cs(function(){var h=Or(i,1);if(h!==null){var m=tn();Yn(h,i,1,m)}}),Jd(i,1)}},Ws=function(i){if(i.tag===13){var s=Or(i,134217728);if(s!==null){var l=tn();Yn(s,i,134217728,l)}Jd(i,134217728)}},eu=function(i){if(i.tag===13){var s=yi(i),l=Or(i,s);if(l!==null){var h=tn();Yn(l,i,s,h)}Jd(i,s)}},tu=function(){return Ve},nu=function(i,s){var l=Ve;try{return Ve=i,s()}finally{Ve=l}},Os=function(i,s,l){switch(s){case"input":if(ia(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var m=wu(h);if(!m)throw Error(n(90));Ds(h),ia(h,m)}}}break;case"textarea":Ls(i,l);break;case"select":s=l.value,s!=null&&Ar(i,!!l.multiple,s,!1)}},qi=Hd,pa=cs;var jS={usingClientEntryPoint:!1,Events:[Ma,lo,wu,ir,fa,Hd]},Xa={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BS={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ya(i),i===null?null:i.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||OS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{Qi=ic.inject(BS),mn=ic}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jS,cn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ef(s))throw Error(n(200));return MS(i,s,null,l)},cn.createRoot=function(i,s){if(!ef(i))throw Error(n(299));var l=!1,h="",m=nv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Yd(i,1,!1,null,null,l,!1,h,m),i[Nr]=s.current,Na(i.nodeType===8?i.parentNode:i),new Zd(s)},cn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=ya(s),i=i===null?null:i.stateNode,i},cn.flushSync=function(i){return cs(i)},cn.hydrate=function(i,s,l){if(!nc(s))throw Error(n(200));return rc(null,i,s,!0,l)},cn.hydrateRoot=function(i,s,l){if(!ef(i))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,m=!1,v="",T=nv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=ev(s,null,i,1,l??null,m,!1,v,T),i[Nr]=s.current,Na(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new tc(s)},cn.render=function(i,s,l){if(!nc(s))throw Error(n(200));return rc(null,i,s,!1,l)},cn.unmountComponentAtNode=function(i){if(!nc(i))throw Error(n(40));return i._reactRootContainer?(cs(function(){rc(null,null,i,!1,function(){i._reactRootContainer=null,i[Nr]=null})}),!0):!1},cn.unstable_batchedUpdates=Hd,cn.unstable_renderSubtreeIntoContainer=function(i,s,l,h){if(!nc(l))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return rc(i,s,l,!1,h)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var hv;function GS(){if(hv)return rf.exports;hv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rf.exports=KS(),rf.exports}var dv;function QS(){if(dv)return sc;dv=1;var t=GS();return sc.createRoot=t.createRoot,sc.hydrateRoot=t.hydrateRoot,sc}var XS=QS(),Ja={},fv;function YS(){if(fv)return Ja;fv=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.parse=u,Ja.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,x){const R=new a,C=E.length;if(C<2)return R;const P=(x==null?void 0:x.decode)||g;let N=0;do{const j=E.indexOf("=",N);if(j===-1)break;const K=E.indexOf(";",N),re=K===-1?C:K;if(j>re){N=E.lastIndexOf(";",j-1)+1;continue}const te=d(E,N,j),ae=f(E,j,te),V=E.slice(te,ae);if(R[V]===void 0){let A=d(E,j+1,re),I=f(E,re,A);const b=P(E.slice(A,I));R[V]=b}N=re+1}while(N<C);return R}function d(E,x,R){do{const C=E.charCodeAt(x);if(C!==32&&C!==9)return x}while(++x<R);return R}function f(E,x,R){for(;x>R;){const C=E.charCodeAt(--x);if(C!==32&&C!==9)return x+1}return R}function p(E,x,R){const C=(R==null?void 0:R.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const P=C(x);if(!e.test(P))throw new TypeError(`argument val is invalid: ${x}`);let N=E+"="+P;if(!R)return N;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);N+="; Max-Age="+R.maxAge}if(R.domain){if(!n.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);N+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);N+="; Path="+R.path}if(R.expires){if(!_(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);N+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(N+="; HttpOnly"),R.secure&&(N+="; Secure"),R.partitioned&&(N+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return N}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return o.call(E)==="[object Date]"}return Ja}YS();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pv="popstate";function JS(t={}){function e(r,o){let{pathname:a,search:u,hash:d}=r.location;return Mf("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:ml(o)}return ex(e,n,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZS(){return Math.random().toString(36).substring(2,10)}function mv(t,e){return{usr:t.state,key:t.key,idx:e}}function Mf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ho(e):e,state:n,key:e&&e.key||r||ZS()}}function ml({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ex(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,d="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function _(){d="POP";let P=g(),N=P==null?null:P-p;p=P,f&&f({action:d,location:C.location,delta:N})}function E(P,N){d="PUSH";let j=Mf(C.location,P,N);p=g()+1;let K=mv(j,p),re=C.createHref(j);try{u.pushState(K,"",re)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(re)}a&&f&&f({action:d,location:C.location,delta:1})}function x(P,N){d="REPLACE";let j=Mf(C.location,P,N);p=g();let K=mv(j,p),re=C.createHref(j);u.replaceState(K,"",re),a&&f&&f({action:d,location:C.location,delta:0})}function R(P){let N=o.location.origin!=="null"?o.location.origin:o.location.href,j=typeof P=="string"?P:ml(P);return j=j.replace(/ $/,"%20"),tt(N,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,N)}let C={get action(){return d},get location(){return t(o,u)},listen(P){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(pv,_),f=P,()=>{o.removeEventListener(pv,_),f=null}},createHref(P){return e(o,P)},createURL:R,encodeLocation(P){let N=R(P);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:E,replace:x,go(P){return u.go(P)}};return C}function W_(t,e,n="/"){return tx(t,e,n,!1)}function tx(t,e,n,r){let o=typeof e=="string"?Ho(e):e,a=Ci(o.pathname||"/",n);if(a==null)return null;let u=K_(t);nx(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=fx(a);d=hx(u[f],p,r)}return d}function K_(t,e=[],n=[],r=""){let o=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(tt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=zr([r,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(tt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),K_(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:ux(p,a.index),routesMeta:g})};return t.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let f of G_(a.path))o(a,u,f)}),e}function G_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=G_(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function nx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var rx=/^:[\w-]+$/,ix=3,sx=2,ox=1,ax=10,lx=-2,gv=t=>t==="*";function ux(t,e){let n=t.split("/"),r=n.length;return n.some(gv)&&(r+=lx),e&&(r+=sx),n.filter(o=>!gv(o)).reduce((o,a)=>o+(rx.test(a)?ix:a===""?ox:ax),r)}function cx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function hx(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=kc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=kc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(o,_.params),u.push({params:o,pathname:zr([a,_.pathname]),pathnameBase:yx(zr([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=zr([a,_.pathnameBase]))}return u}function kc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dx(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},E)=>{if(g==="*"){let R=d[E]||"";u=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const x=d[E];return _&&!x?p[g]=void 0:p[g]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function dx(t,e=!1,n=!0){Zn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function fx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ci(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function px(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Ho(t):t;return{pathname:n?n.startsWith("/")?n:mx(n,e):e,search:vx(r),hash:_x(o)}}function mx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function af(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dp(t){let e=gx(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Vp(t,e,n,r=!1){let o;typeof t=="string"?o=Ho(t):(o={...t},tt(!o.pathname||!o.pathname.includes("?"),af("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),af("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),af("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=n;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;o.pathname=E.join("/")}d=_>=0?e[_]:"/"}let f=px(o,d),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var zr=t=>t.join("/").replace(/\/\/+/g,"/"),yx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_x=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Q_=["POST","PUT","PATCH","DELETE"];new Set(Q_);var Ex=["GET",...Q_];new Set(Ex);var Wo=U.createContext(null);Wo.displayName="DataRouter";var eh=U.createContext(null);eh.displayName="DataRouterState";var X_=U.createContext({isTransitioning:!1});X_.displayName="ViewTransition";var Tx=U.createContext(new Map);Tx.displayName="Fetchers";var Sx=U.createContext(null);Sx.displayName="Await";var tr=U.createContext(null);tr.displayName="Navigation";var kl=U.createContext(null);kl.displayName="Location";var Tr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var Np=U.createContext(null);Np.displayName="RouteError";function xx(t,{relative:e}={}){tt(Ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=U.useContext(tr),{hash:o,pathname:a,search:u}=Dl(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:zr([n,a])),r.createHref({pathname:d,search:u,hash:o})}function Ko(){return U.useContext(kl)!=null}function Mi(){return tt(Ko(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(kl).location}var Y_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J_(t){U.useContext(tr).static||U.useLayoutEffect(t)}function Z_(){let{isDataRoute:t}=U.useContext(Tr);return t?Ox():Ax()}function Ax(){tt(Ko(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext(Wo),{basename:e,navigator:n}=U.useContext(tr),{matches:r}=U.useContext(Tr),{pathname:o}=Mi(),a=JSON.stringify(Dp(r)),u=U.useRef(!1);return J_(()=>{u.current=!0}),U.useCallback((f,p={})=>{if(Zn(u.current,Y_),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=Vp(f,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:zr([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,o,t])}U.createContext(null);function Dl(t,{relative:e}={}){let{matches:n}=U.useContext(Tr),{pathname:r}=Mi(),o=JSON.stringify(Dp(n));return U.useMemo(()=>Vp(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function Rx(t,e){return ew(t,e)}function ew(t,e,n,r){var N;tt(Ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(tr),{matches:a}=U.useContext(Tr),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let j=g&&g.path||"";tw(f,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=Mi(),E;if(e){let j=typeof e=="string"?Ho(e):e;tt(p==="/"||((N=j.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),E=j}else E=_;let x=E.pathname||"/",R=x;if(p!=="/"){let j=p.replace(/^\//,"").split("/");R="/"+x.replace(/^\//,"").split("/").slice(j.length).join("/")}let C=W_(t,{pathname:R});Zn(g||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Zn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=Dx(C&&C.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:zr([p,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:zr([p,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,n,r);return e&&P?U.createElement(kl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},P):P}function Px(){let t=Mx(),e=wx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,u)}var Cx=U.createElement(Px,null),Ix=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?U.createElement(Tr.Provider,{value:this.props.routeContext},U.createElement(Np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kx({routeContext:t,match:e,children:n}){let r=U.useContext(Wo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Tr.Provider,{value:t},n)}function Dx(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);tt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:_}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let _,E=!1,x=null,R=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||Cx,u&&(d<0&&g===0?(tw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):d===g&&(E=!0,R=p.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,g+1)),P=()=>{let N;return _?N=x:E?N=R:p.route.Component?N=U.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=f,U.createElement(kx,{match:p,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?U.createElement(Ix,{location:n.location,revalidation:n.revalidation,component:x,error:_,children:P(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):P()},null)}function bp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vx(t){let e=U.useContext(Wo);return tt(e,bp(t)),e}function Nx(t){let e=U.useContext(eh);return tt(e,bp(t)),e}function bx(t){let e=U.useContext(Tr);return tt(e,bp(t)),e}function Lp(t){let e=bx(t),n=e.matches[e.matches.length-1];return tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Lx(){return Lp("useRouteId")}function Mx(){var r;let t=U.useContext(Np),e=Nx("useRouteError"),n=Lp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Ox(){let{router:t}=Vx("useNavigate"),e=Lp("useNavigate"),n=U.useRef(!1);return J_(()=>{n.current=!0}),U.useCallback(async(o,a={})=>{Zn(n.current,Y_),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var yv={};function tw(t,e,n){!e&&!yv[t]&&(yv[t]=!0,Zn(!1,n))}U.memo(Fx);function Fx({routes:t,future:e,state:n}){return ew(t,void 0,n,e)}function lf({to:t,replace:e,state:n,relative:r}){tt(Ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(tr);Zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=U.useContext(Tr),{pathname:u}=Mi(),d=Z_(),f=Vp(t,Dp(a),u,r==="path"),p=JSON.stringify(f);return U.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:r})},[d,p,r,e,n]),null}function mc(t){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jx({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){tt(!Ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=Ho(n));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:E="default"}=n,x=U.useMemo(()=>{let R=Ci(f,u);return R==null?null:{location:{pathname:R,search:p,hash:g,state:_,key:E},navigationType:r}},[u,f,p,g,_,E,r]);return Zn(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:U.createElement(tr.Provider,{value:d},U.createElement(kl.Provider,{children:e,value:x}))}function Bx({children:t,location:e}){return Rx(Of(t),e)}function Of(t,e=[]){let n=[];return U.Children.forEach(t,(r,o)=>{if(!U.isValidElement(r))return;let a=[...e,o];if(r.type===U.Fragment){n.push.apply(n,Of(r.props.children,a));return}tt(r.type===mc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Of(r.props.children,a)),n.push(u)}),n}var gc="get",yc="application/x-www-form-urlencoded";function th(t){return t!=null&&typeof t.tagName=="string"}function Ux(t){return th(t)&&t.tagName.toLowerCase()==="button"}function zx(t){return th(t)&&t.tagName.toLowerCase()==="form"}function $x(t){return th(t)&&t.tagName.toLowerCase()==="input"}function qx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Hx(t,e){return t.button===0&&(!e||e==="_self")&&!qx(t)}var oc=null;function Wx(){if(oc===null)try{new FormData(document.createElement("form"),0),oc=!1}catch{oc=!0}return oc}var Kx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uf(t){return t!=null&&!Kx.has(t)?(Zn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yc}"`),null):t}function Gx(t,e){let n,r,o,a,u;if(zx(t)){let d=t.getAttribute("action");r=d?Ci(d,e):null,n=t.getAttribute("method")||gc,o=uf(t.getAttribute("enctype"))||yc,a=new FormData(t)}else if(Ux(t)||$x(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?Ci(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||gc,o=uf(t.getAttribute("formenctype"))||uf(d.getAttribute("enctype"))||yc,a=new FormData(d,t),!Wx()){let{name:p,type:g,value:_}=t;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(th(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gc,r=null,o=yc,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:u}}function Mp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Qx(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xx(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Yx(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await Qx(a,n);return u.links?u.links():[]}return[]}));return tA(r.flat(1).filter(Xx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vv(t,e,n,r,o,a){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{var _;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Jx(t,e){return Zx(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function Zx(t){return[...new Set(t)]}function eA(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function tA(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify(eA(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function nA(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function rA(){let t=U.useContext(Wo);return Mp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function iA(){let t=U.useContext(eh);return Mp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Op=U.createContext(void 0);Op.displayName="FrameworkContext";function nw(){let t=U.useContext(Op);return Mp(t,"You must render this element inside a <HydratedRouter> element"),t}function sA(t,e){let n=U.useContext(Op),[r,o]=U.useState(!1),[a,u]=U.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,E=U.useRef(null);U.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let C=N=>{N.forEach(j=>{u(j.isIntersecting)})},P=new IntersectionObserver(C,{threshold:.5});return E.current&&P.observe(E.current),()=>{P.disconnect()}}},[t]),U.useEffect(()=>{if(r){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[r]);let x=()=>{o(!0)},R=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:Za(d,x),onBlur:Za(f,R),onMouseEnter:Za(p,x),onMouseLeave:Za(g,R),onTouchStart:Za(_,x)}]:[!1,E,{}]}function Za(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function oA({page:t,...e}){let{router:n}=rA(),r=U.useMemo(()=>W_(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?U.createElement(lA,{page:t,matches:r,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function aA(t){let{manifest:e,routeModules:n}=nw(),[r,o]=U.useState([]);return U.useEffect(()=>{let a=!1;return Yx(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),r}function lA({page:t,matches:e,...n}){let r=Mi(),{manifest:o,routeModules:a}=nw(),{loaderData:u,matches:d}=iA(),f=U.useMemo(()=>vv(t,e,d,o,r,"data"),[t,e,d,o,r]),p=U.useMemo(()=>vv(t,e,d,o,r,"assets"),[t,e,d,o,r]),g=U.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,R=!1;if(e.forEach(P=>{var j;let N=o.routes[P.route.id];!N||!N.hasLoader||(!f.some(K=>K.route.id===P.route.id)&&P.route.id in u&&((j=a[P.route.id])!=null&&j.shouldRevalidate)||N.hasClientLoader?R=!0:x.add(P.route.id))}),x.size===0)return[];let C=nA(t);return R&&x.size>0&&C.searchParams.set("_routes",e.filter(P=>x.has(P.route.id)).map(P=>P.route.id).join(",")),[C.pathname+C.search]},[u,r,o,f,e,t,a]),_=U.useMemo(()=>Jx(p,o),[p,o]),E=aA(p);return U.createElement(U.Fragment,null,g.map(x=>U.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),_.map(x=>U.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),E.map(({key:x,link:R})=>U.createElement("link",{key:x,...R})))}function uA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rw&&(window.__reactRouterVersion="7.0.2")}catch{}function cA({basename:t,children:e,window:n}){let r=U.useRef();r.current==null&&(r.current=JS({window:n,v5Compat:!0}));let o=r.current,[a,u]=U.useState({action:o.action,location:o.location}),d=U.useCallback(f=>{U.startTransition(()=>u(f))},[u]);return U.useLayoutEffect(()=>o.listen(d),[o,d]),U.createElement(jx,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sw=U.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:_,...E},x){let{basename:R}=U.useContext(tr),C=typeof p=="string"&&iw.test(p),P,N=!1;if(typeof p=="string"&&C&&(P=p,rw))try{let I=new URL(window.location.href),b=p.startsWith("//")?new URL(I.protocol+p):new URL(p),O=Ci(b.pathname,R);b.origin===I.origin&&O!=null?p=O+b.search+b.hash:N=!0}catch{Zn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=xx(p,{relative:o}),[K,re,te]=sA(r,E),ae=pA(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:o,viewTransition:_});function V(I){e&&e(I),I.defaultPrevented||ae(I)}let A=U.createElement("a",{...E,...te,href:P||j,onClick:N||a?e:V,ref:uA(x,re),target:f,"data-discover":!C&&n==="render"?"true":void 0});return K&&!C?U.createElement(U.Fragment,null,A,U.createElement(oA,{page:j})):A});sw.displayName="Link";var hA=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:d,children:f,...p},g){let _=Dl(u,{relative:p.relative}),E=Mi(),x=U.useContext(eh),{navigator:R,basename:C}=U.useContext(tr),P=x!=null&&_A(_)&&d===!0,N=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,j=E.pathname,K=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(j=j.toLowerCase(),K=K?K.toLowerCase():null,N=N.toLowerCase()),K&&C&&(K=Ci(K,C)||K);const re=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let te=j===N||!o&&j.startsWith(N)&&j.charAt(re)==="/",ae=K!=null&&(K===N||!o&&K.startsWith(N)&&K.charAt(N.length)==="/"),V={isActive:te,isPending:ae,isTransitioning:P},A=te?e:void 0,I;typeof r=="function"?I=r(V):I=[r,te?"active":null,ae?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let b=typeof a=="function"?a(V):a;return U.createElement(sw,{...p,"aria-current":A,className:I,ref:g,style:b,to:u,viewTransition:d},typeof f=="function"?f(V):f)});hA.displayName="NavLink";var dA=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:u=gc,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,...E},x)=>{let R=yA(),C=vA(d,{relative:p}),P=u.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&iw.test(d),j=K=>{if(f&&f(K),K.defaultPrevented)return;K.preventDefault();let re=K.nativeEvent.submitter,te=(re==null?void 0:re.getAttribute("formmethod"))||u;R(re||K.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:o,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return U.createElement("form",{ref:x,method:P,action:C,onSubmit:r?f:j,...E,"data-discover":!N&&t==="render"?"true":void 0})});dA.displayName="Form";function fA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ow(t){let e=U.useContext(Wo);return tt(e,fA(t)),e}function pA(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let d=Z_(),f=Mi(),p=Dl(t,{relative:a});return U.useCallback(g=>{if(Hx(g,e)){g.preventDefault();let _=n!==void 0?n:ml(f)===ml(p);d(t,{replace:_,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,d,p,n,r,e,t,o,a,u])}var mA=0,gA=()=>`__${String(++mA)}__`;function yA(){let{router:t}=ow("useSubmit"),{basename:e}=U.useContext(tr),n=Lx();return U.useCallback(async(r,o={})=>{let{action:a,method:u,encType:d,formData:f,body:p}=Gx(r,e);if(o.navigate===!1){let g=o.fetcherKey||gA();await t.fetch(g,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function vA(t,{relative:e}={}){let{basename:n}=U.useContext(tr),r=U.useContext(Tr);tt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Dl(t||".",{relative:e})},u=Mi();if(t==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(_=>_).forEach(_=>d.append("index",_));let g=d.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:zr([n,a.pathname])),ml(a)}function _A(t,e={}){let n=U.useContext(X_);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ow("useViewTransitionState"),o=Dl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Ci(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Ci(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kc(o.pathname,u)!=null||kc(o.pathname,a)!=null}new TextEncoder;function wA(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}function nh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ff=t=>Array.isArray(t);function aw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function gl(t){return typeof t=="string"||Array.isArray(t)}function _v(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Fp(t,e,n,r){if(typeof e=="function"){const[o,a]=_v(r);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=_v(r);e=e(n!==void 0?n:t.custom,o,a)}return e}function rh(t,e,n){const r=t.getProps();return Fp(r,e,n!==void 0?n:r.custom,t)}const jp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bp=["initial",...jp],Vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cs=new Set(Vl),$r=t=>t*1e3,qr=t=>t/1e3,EA={type:"spring",stiffness:500,damping:25,restSpeed:10},TA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),SA={type:"keyframes",duration:.8},xA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AA=(t,{keyframes:e})=>e.length>2?SA:Cs.has(t)?t.startsWith("scale")?TA(e[1]):EA:xA;function Up(t,e){return t?t[e]||t.default||t:void 0}const RA={skipAnimations:!1,useManualTiming:!1},PA=t=>t!==null;function ih(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(PA),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const Yt=t=>t;let jf=Yt;function CA(t){let e=new Set,n=new Set,r=!1,o=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(p){a.has(p)&&(f.schedule(p),t()),p(u)}const f={schedule:(p,g=!1,_=!1)=>{const x=_&&r?e:n;return g&&a.add(p),x.has(p)||x.add(p),p},cancel:p=>{n.delete(p),a.delete(p)},process:p=>{if(u=p,r){o=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(d),r=!1,o&&(o=!1,f.process(p))}};return f}const ac=["read","resolveKeyframes","update","preRender","render","postRender"],IA=40;function lw(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=ac.reduce((N,j)=>(N[j]=CA(a),N),{}),{read:d,resolveKeyframes:f,update:p,preRender:g,render:_,postRender:E}=u,x=()=>{const N=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(N-o.timestamp,IA),1),o.timestamp=N,o.isProcessing=!0,d.process(o),f.process(o),p.process(o),g.process(o),_.process(o),E.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(x))},R=()=>{n=!0,r=!0,o.isProcessing||t(x)};return{schedule:ac.reduce((N,j)=>{const K=u[j];return N[j]=(re,te=!1,ae=!1)=>(n||R(),K.schedule(re,te,ae)),N},{}),cancel:N=>{for(let j=0;j<ac.length;j++)u[ac[j]].cancel(N)},state:o,steps:u}}const{schedule:qe,cancel:Ii,state:Ot,steps:cf}=lw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yt,!0),uw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,kA=1e-7,DA=12;function VA(t,e,n,r,o){let a,u,d=0;do u=e+(n-e)/2,a=uw(u,r,o)-t,a>0?n=u:e=u;while(Math.abs(a)>kA&&++d<DA);return u}function Nl(t,e,n,r){if(t===e&&n===r)return Yt;const o=a=>VA(a,0,1,t,n);return a=>a===0||a===1?a:uw(o(a),e,r)}const cw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hw=t=>e=>1-t(1-e),dw=Nl(.33,1.53,.69,.99),zp=hw(dw),fw=cw(zp),pw=t=>(t*=2)<1?.5*zp(t):.5*(2-Math.pow(2,-10*(t-1))),$p=t=>1-Math.sin(Math.acos(t)),mw=hw($p),gw=cw($p),yw=t=>/^0[^.\s]+$/u.test(t);function NA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||yw(t):!0}const vw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),_w=t=>e=>typeof e=="string"&&e.startsWith(t),ww=_w("--"),bA=_w("var(--"),qp=t=>bA(t)?LA.test(t.split("/*")[0].trim()):!1,LA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,MA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OA(t){const e=MA.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function Ew(t,e,n=1){const[r,o]=OA(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return vw(u)?parseFloat(u):u}return qp(o)?Ew(o,e,n+1):o}const Hr=(t,e,n)=>n>e?e:n<t?t:n,Go={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yl={...Go,transform:t=>Hr(0,1,t)},lc={...Go,default:1},bl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ei=bl("deg"),mr=bl("%"),Ee=bl("px"),FA=bl("vh"),jA=bl("vw"),wv={...mr,parse:t=>mr.parse(t)/100,transform:t=>mr.transform(t*100)},BA=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Ev=t=>t===Go||t===Ee,Tv=(t,e)=>parseFloat(t.split(", ")[e]),Sv=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return Tv(o[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?Tv(a[1],t):0}},UA=new Set(["x","y","z"]),zA=Vl.filter(t=>!UA.has(t));function $A(t){const e=[];return zA.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Lo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Sv(4,13),y:Sv(5,14)};Lo.translateX=Lo.x;Lo.translateY=Lo.y;const Tw=t=>e=>e.test(t),qA={test:t=>t==="auto",parse:t=>t},Sw=[Go,Ee,mr,Ei,jA,FA,qA],xv=t=>Sw.find(Tw(t)),Es=new Set;let Bf=!1,Uf=!1;function xw(){if(Uf){const t=Array.from(Es).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=$A(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([a,u])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Uf=!1,Bf=!1,Es.forEach(t=>t.complete()),Es.clear()}function Aw(){Es.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Uf=!0)})}function HA(){Aw(),xw()}class Hp{constructor(e,n,r,o,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Es.add(this),Bf||(Bf=!0,qe.read(Aw),qe.resolveKeyframes(xw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=o==null?void 0:o.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const f=r.readValue(n,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),o&&u===void 0&&o.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Es.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Es.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ll=t=>Math.round(t*1e5)/1e5,Wp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WA(t){return t==null}const KA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kp=(t,e)=>n=>!!(typeof n=="string"&&KA.test(n)&&n.startsWith(t)||e&&!WA(n)&&Object.prototype.hasOwnProperty.call(n,e)),Rw=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,a,u,d]=r.match(Wp);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},GA=t=>Hr(0,255,t),hf={...Go,transform:t=>Math.round(GA(t))},vs={test:Kp("rgb","red"),parse:Rw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+hf.transform(t)+", "+hf.transform(e)+", "+hf.transform(n)+", "+ll(yl.transform(r))+")"};function QA(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const zf={test:Kp("#"),parse:QA,transform:vs.transform},Co={test:Kp("hsl","hue"),parse:Rw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+mr.transform(ll(e))+", "+mr.transform(ll(n))+", "+ll(yl.transform(r))+")"},Wt={test:t=>vs.test(t)||zf.test(t)||Co.test(t),parse:t=>vs.test(t)?vs.parse(t):Co.test(t)?Co.parse(t):zf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vs.transform(t):Co.transform(t)},XA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YA(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Wp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(XA))===null||n===void 0?void 0:n.length)||0)>0}const Pw="number",Cw="color",JA="var",ZA="var(",Av="${}",eR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(eR,f=>(Wt.test(f)?(r.color.push(a),o.push(Cw),n.push(Wt.parse(f))):f.startsWith(ZA)?(r.var.push(a),o.push(JA),n.push(f)):(r.number.push(a),o.push(Pw),n.push(parseFloat(f))),++a,Av)).split(Av);return{values:n,split:d,indexes:r,types:o}}function Iw(t){return vl(t).values}function kw(t){const{split:e,types:n}=vl(t),r=e.length;return o=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],o[u]!==void 0){const d=n[u];d===Pw?a+=ll(o[u]):d===Cw?a+=Wt.transform(o[u]):a+=o[u]}return a}}const tR=t=>typeof t=="number"?0:t;function nR(t){const e=Iw(t);return kw(t)(e.map(tR))}const ki={test:YA,parse:Iw,createTransformer:kw,getAnimatableNone:nR},rR=new Set(["brightness","contrast","saturate","opacity"]);function iR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Wp)||[];if(!r)return t;const o=n.replace(r,"");let a=rR.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+o+")"}const sR=/\b([a-z-]*)\(.*?\)/gu,$f={...ki,getAnimatableNone:t=>{const e=t.match(sR);return e?e.map(iR).join(" "):t}},oR={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee},aR={rotate:Ei,rotateX:Ei,rotateY:Ei,rotateZ:Ei,scale:lc,scaleX:lc,scaleY:lc,scaleZ:lc,skew:Ei,skewX:Ei,skewY:Ei,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:yl,originX:wv,originY:wv,originZ:Ee},Rv={...Go,transform:Math.round},Gp={...oR,...aR,zIndex:Rv,size:Ee,fillOpacity:yl,strokeOpacity:yl,numOctaves:Rv},lR={...Gp,color:Wt,backgroundColor:Wt,outlineColor:Wt,fill:Wt,stroke:Wt,borderColor:Wt,borderTopColor:Wt,borderRightColor:Wt,borderBottomColor:Wt,borderLeftColor:Wt,filter:$f,WebkitFilter:$f},Qp=t=>lR[t];function Dw(t,e){let n=Qp(t);return n!==$f&&(n=ki),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const uR=new Set(["auto","none","0"]);function cR(t,e,n){let r=0,o;for(;r<t.length&&!o;){const a=t[r];typeof a=="string"&&!uR.has(a)&&vl(a).values.length&&(o=t[r]),r++}if(o&&n)for(const a of e)t[a]=Dw(n,o)}class Vw extends Hp{constructor(e,n,r,o,a){super(e,n,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),qp(p))){const g=Ew(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!BA.has(r)||e.length!==2)return;const[o,a]=e,u=xv(o),d=xv(a);if(u!==d)if(Ev(u)&&Ev(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)NA(e[o])&&r.push(o);r.length&&cR(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const u=o.length-1,d=o[u];o[u]=Lo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function Xp(t){return typeof t=="function"}let vc;function hR(){vc=void 0}const gr={now:()=>(vc===void 0&&gr.set(Ot.isProcessing||RA.useManualTiming?Ot.timestamp:performance.now()),vc),set:t=>{vc=t,queueMicrotask(hR)}},Pv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ki.test(t)||t==="0")&&!t.startsWith("url("));function dR(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function fR(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=Pv(o,e),d=Pv(a,e);return!u||!d?!1:dR(t)||(n==="spring"||Xp(n))&&r}const pR=40;class Nw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=gr.now(),this.options={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:a,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&HA(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=gr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:a,delay:u,onComplete:d,onUpdate:f,isGenerator:p}=this.options;if(!p&&!fR(e,r,o,a))if(u)this.options.duration=0;else{f==null||f(ih(e,this.options,n)),d==null||d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Mo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},bw=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)r+=t(Mo(0,o-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function Lw(t,e){return e?t*(1e3/e):0}const mR=5;function Mw(t,e,n){const r=Math.max(e-mR,0);return Lw(n-t(r),e-r)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},df=.001;function gR({duration:t=at.duration,bounce:e=at.bounce,velocity:n=at.velocity,mass:r=at.mass}){let o,a,u=1-e;u=Hr(at.minDamping,at.maxDamping,u),t=Hr(at.minDuration,at.maxDuration,qr(t)),u<1?(o=p=>{const g=p*u,_=g*t,E=g-n,x=qf(p,u),R=Math.exp(-_);return df-E/x*R},a=p=>{const _=p*u*t,E=_*n+n,x=Math.pow(u,2)*Math.pow(p,2)*t,R=Math.exp(-_),C=qf(Math.pow(p,2),u);return(-o(p)+df>0?-1:1)*((E-x)*R)/C}):(o=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-df+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const d=5/t,f=vR(o,a,d);if(t=$r(t),isNaN(f))return{stiffness:at.stiffness,damping:at.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const yR=12;function vR(t,e,n){let r=n;for(let o=1;o<yR;o++)r=r-t(r)/e(r);return r}function qf(t,e){return t*Math.sqrt(1-e*e)}const Hf=2e4;function Ow(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Hf;)e+=n,r=t.next(e);return e>=Hf?1/0:e}const _R=["duration","bounce"],wR=["stiffness","damping","mass"];function Cv(t,e){return e.some(n=>t[n]!==void 0)}function ER(t){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...t};if(!Cv(t,wR)&&Cv(t,_R))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,a=2*Hr(.05,1,1-t.bounce)*Math.sqrt(o);e={...e,mass:at.mass,stiffness:o,damping:a}}else{const n=gR(t);e={...e,...n,mass:at.mass},e.isResolvedFromDuration=!0}return e}function Fw(t=at.visualDuration,e=at.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:E,isResolvedFromDuration:x}=ER({...n,velocity:-qr(n.velocity||0)}),R=E||0,C=p/(2*Math.sqrt(f*g)),P=u-a,N=qr(Math.sqrt(f/g)),j=Math.abs(P)<5;r||(r=j?at.restSpeed.granular:at.restSpeed.default),o||(o=j?at.restDelta.granular:at.restDelta.default);let K;if(C<1){const te=qf(N,C);K=ae=>{const V=Math.exp(-C*N*ae);return u-V*((R+C*N*P)/te*Math.sin(te*ae)+P*Math.cos(te*ae))}}else if(C===1)K=te=>u-Math.exp(-N*te)*(P+(R+N*P)*te);else{const te=N*Math.sqrt(C*C-1);K=ae=>{const V=Math.exp(-C*N*ae),A=Math.min(te*ae,300);return u-V*((R+C*N*P)*Math.sinh(A)+te*P*Math.cosh(A))/te}}const re={calculatedDuration:x&&_||null,next:te=>{const ae=K(te);if(x)d.done=te>=_;else{let V=0;C<1&&(V=te===0?$r(R):Mw(K,te,ae));const A=Math.abs(V)<=r,I=Math.abs(u-ae)<=o;d.done=A&&I}return d.value=d.done?u:ae,d},toString:()=>{const te=Math.min(Ow(re),Hf),ae=bw(V=>re.next(te*V).value,te,30);return te+"ms "+ae}};return re}function Iv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:g}){const _=t[0],E={done:!1,value:_},x=A=>d!==void 0&&A<d||f!==void 0&&A>f,R=A=>d===void 0?f:f===void 0||Math.abs(d-A)<Math.abs(f-A)?d:f;let C=n*e;const P=_+C,N=u===void 0?P:u(P);N!==P&&(C=N-_);const j=A=>-C*Math.exp(-A/r),K=A=>N+j(A),re=A=>{const I=j(A),b=K(A);E.done=Math.abs(I)<=p,E.value=E.done?N:b};let te,ae;const V=A=>{x(E.value)&&(te=A,ae=Fw({keyframes:[E.value,R(E.value)],velocity:Mw(K,A,E.value),damping:o,stiffness:a,restDelta:p,restSpeed:g}))};return V(0),{calculatedDuration:null,next:A=>{let I=!1;return!ae&&te===void 0&&(I=!0,re(A),V(A)),te!==void 0&&A>=te?ae.next(A-te):(!I&&re(A),E)}}}const TR=Nl(.42,0,1,1),SR=Nl(0,0,.58,1),jw=Nl(.42,0,.58,1),xR=t=>Array.isArray(t)&&typeof t[0]!="number",Yp=t=>Array.isArray(t)&&typeof t[0]=="number",kv={linear:Yt,easeIn:TR,easeInOut:jw,easeOut:SR,circIn:$p,circInOut:gw,circOut:mw,backIn:zp,backInOut:fw,backOut:dw,anticipate:pw},Dv=t=>{if(Yp(t)){jf(t.length===4);const[e,n,r,o]=t;return Nl(e,n,r,o)}else if(typeof t=="string")return jf(kv[t]!==void 0),kv[t];return t},AR=(t,e)=>n=>e(t(n)),Si=(...t)=>t.reduce(AR),it=(t,e,n)=>t+(e-t)*n;function ff(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function RR({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;o=ff(f,d,t+1/3),a=ff(f,d,t),u=ff(f,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function Dc(t,e){return n=>n>0?e:t}const pf=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},PR=[zf,vs,Co],CR=t=>PR.find(e=>e.test(t));function Vv(t){const e=CR(t);if(!e)return!1;let n=e.parse(t);return e===Co&&(n=RR(n)),n}const Nv=(t,e)=>{const n=Vv(t),r=Vv(e);if(!n||!r)return Dc(t,e);const o={...n};return a=>(o.red=pf(n.red,r.red,a),o.green=pf(n.green,r.green,a),o.blue=pf(n.blue,r.blue,a),o.alpha=it(n.alpha,r.alpha,a),vs.transform(o))},Wf=new Set(["none","hidden"]);function IR(t,e){return Wf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function kR(t,e){return n=>it(t,e,n)}function Jp(t){return typeof t=="number"?kR:typeof t=="string"?qp(t)?Dc:Wt.test(t)?Nv:NR:Array.isArray(t)?Bw:typeof t=="object"?Wt.test(t)?Nv:DR:Dc}function Bw(t,e){const n=[...t],r=n.length,o=t.map((a,u)=>Jp(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)n[u]=o[u](a);return n}}function DR(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=Jp(t[o])(t[o],e[o]));return o=>{for(const a in r)n[a]=r[a](o);return n}}function VR(t,e){var n;const r=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],d=t.indexes[u][o[u]],f=(n=t.values[d])!==null&&n!==void 0?n:0;r[a]=f,o[u]++}return r}const NR=(t,e)=>{const n=ki.createTransformer(e),r=vl(t),o=vl(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Wf.has(t)&&!o.values.length||Wf.has(e)&&!r.values.length?IR(t,e):Si(Bw(VR(r,o),o.values),n):Dc(t,e)};function Uw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?it(t,e,n):Jp(t)(t,e)}function bR(t,e,n){const r=[],o=n||Uw,a=t.length-1;for(let u=0;u<a;u++){let d=o(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Yt:e;d=Si(f,d)}r.push(d)}return r}function LR(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const a=t.length;if(jf(a===e.length),a===1)return()=>e[0];if(a===2&&t[0]===t[1])return()=>e[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=bR(e,r,o),d=u.length,f=p=>{let g=0;if(d>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const _=Mo(t[g],t[g+1],p);return u[g](_)};return n?p=>f(Hr(t[0],t[a-1],p)):f}function MR(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Mo(0,e,r);t.push(it(n,1,o))}}function OR(t){const e=[0];return MR(e,t.length-1),e}function FR(t,e){return t.map(n=>n*e)}function jR(t,e){return t.map(()=>e||jw).splice(0,t.length-1)}function Vc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=xR(r)?r.map(Dv):Dv(r),a={done:!1,value:e[0]},u=FR(n&&n.length===e.length?n:OR(e),t),d=LR(u,e,{ease:Array.isArray(o)?o:jR(e,o)});return{calculatedDuration:t,next:f=>(a.value=d(f),a.done=f>=t,a)}}const BR=t=>{const e=({timestamp:n})=>t(n);return{start:()=>qe.update(e,!0),stop:()=>Ii(e),now:()=>Ot.isProcessing?Ot.timestamp:gr.now()}},UR={decay:Iv,inertia:Iv,tween:Vc,keyframes:Vc,spring:Fw},zR=t=>t/100;class Zp extends Nw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:o,keyframes:a}=this.options,u=(o==null?void 0:o.KeyframeResolver)||Hp,d=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new u(a,d,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=this.options,d=Xp(n)?n:UR[n]||Vc;let f,p;d!==Vc&&typeof e[0]!="number"&&(f=Si(zR,Uw(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});a==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=Ow(g));const{calculatedDuration:_}=g,E=_+o,x=E*(r+1)-o;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:E,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:o,generator:a,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:x,repeatType:R,repeatDelay:C,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-E*(this.speed>=0?1:-1),j=this.speed>=0?N<0:N>g;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let K=this.currentTime,re=a;if(x){const A=Math.min(this.currentTime,g)/_;let I=Math.floor(A),b=A%1;!b&&A>=1&&(b=1),b===1&&I--,I=Math.min(I,x+1),!!(I%2)&&(R==="reverse"?(b=1-b,C&&(b-=C/_)):R==="mirror"&&(re=u)),K=Hr(0,1,b)*_}const te=j?{done:!1,value:f[0]}:re.next(K);d&&(te.value=d(te.value));let{done:ae}=te;!j&&p!==null&&(ae=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return V&&o!==void 0&&(te.value=ih(f,this.options,o)),P&&P(te.value),V&&this.finish(),te}get duration(){const{resolved:e}=this;return e?qr(e.calculatedDuration):0}get time(){return qr(this.currentTime)}set time(e){e=$r(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=qr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=BR,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const $R=new Set(["opacity","clipPath","filter","transform"]);function em(t){let e;return()=>(e===void 0&&(e=t()),e)}const qR={linearEasing:void 0};function HR(t,e){const n=em(t);return()=>{var r;return(r=qR[e])!==null&&r!==void 0?r:n()}}const Nc=HR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function zw(t){return!!(typeof t=="function"&&Nc()||!t||typeof t=="string"&&(t in Kf||Nc())||Yp(t)||Array.isArray(t)&&t.every(zw))}const nl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Kf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nl([0,.65,.55,1]),circOut:nl([.55,0,1,.45]),backIn:nl([.31,.01,.66,-.59]),backOut:nl([.33,1.53,.69,.99])};function $w(t,e){if(t)return typeof t=="function"&&Nc()?bw(t,e):Yp(t)?nl(t):Array.isArray(t)?t.map(n=>$w(n,e)||Kf.easeOut):Kf[t]}function WR(t,e,n,{delay:r=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const g=$w(d,o);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}function bv(t,e){t.timeline=e,t.onfinish=null}const KR=em(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bc=10,GR=2e4;function QR(t){return Xp(t.type)||t.type==="spring"||!zw(t.ease)}function XR(t,e){const n=new Zp({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const o=[];let a=0;for(;!r.done&&a<GR;)r=n.sample(a),o.push(r.value),a+=bc;return{times:void 0,keyframes:o,duration:a-bc,ease:"linear"}}const qw={anticipate:pw,backInOut:fw,circInOut:gw};function YR(t){return t in qw}class Lv extends Nw{constructor(e){super(e);const{name:n,motionValue:r,element:o,keyframes:a}=this.options;this.resolver=new Vw(a,(u,d)=>this.onKeyframesResolved(u,d),n,r,o),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:o=300,times:a,ease:u,type:d,motionValue:f,name:p,startTime:g}=this.options;if(!(!((r=f.owner)===null||r===void 0)&&r.current))return!1;if(typeof u=="string"&&Nc()&&YR(u)&&(u=qw[u]),QR(this.options)){const{onComplete:E,onUpdate:x,motionValue:R,element:C,...P}=this.options,N=XR(e,P);e=N.keyframes,e.length===1&&(e[1]=e[0]),o=N.duration,a=N.times,u=N.ease,d="keyframes"}const _=WR(f.owner.current,p,e,{...this.options,duration:o,times:a,ease:u});return _.startTime=g??this.calcStartTime(),this.pendingTimeline?(bv(_,this.pendingTimeline),this.pendingTimeline=void 0):_.onfinish=()=>{const{onComplete:E}=this.options;f.set(ih(e,this.options,n)),E&&E(),this.cancel(),this.resolveFinishedPromise()},{animation:_,duration:o,times:a,type:d,ease:u,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return qr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return qr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=$r(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Yt;const{animation:r}=n;bv(r,e)}return Yt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:o,type:a,ease:u,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:E,...x}=this.options,R=new Zp({...x,keyframes:r,duration:o,type:a,ease:u,times:d,isGenerator:!0}),C=$r(this.time);p.setWithVelocity(R.sample(C-bc).value,R.sample(C).value,bc)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:o,repeatType:a,damping:u,type:d}=e;return KR()&&r&&$R.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!o&&a!=="mirror"&&u!==0&&d!=="inertia"}}const JR=em(()=>window.ScrollTimeline!==void 0);class ZR{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(o=>JR()&&o.attachTimeline?o.attachTimeline(e):n(o));return()=>{r.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function eP({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const tm=(t,e,n,r={},o,a)=>u=>{const d=Up(r,t)||{},f=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-$r(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:o};eP(d)||(g={...g,...AA(t,g)}),g.duration&&(g.duration=$r(g.duration)),g.repeatDelay&&(g.repeatDelay=$r(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const E=ih(g.keyframes,d);if(E!==void 0)return qe.update(()=>{g.onUpdate(E),g.onComplete()}),new ZR([])}return!a&&Lv.supports(g)?new Lv(g):new Zp(g)},tP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),nP=t=>Ff(t)?t[t.length-1]||0:t;function nm(t,e){t.indexOf(e)===-1&&t.push(e)}function rm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class im{constructor(){this.subscriptions=[]}add(e){return nm(this.subscriptions,e),()=>rm(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mv=30,rP=t=>!isNaN(parseFloat(t));class iP{constructor(e,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const a=gr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=gr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=rP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new im);const r=this.events[e].add(n);return e==="change"?()=>{r(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=gr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Mv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Mv);return Lw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(t,e){return new iP(t,e)}function sP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_l(n))}function oP(t,e){const n=rh(t,e);let{transitionEnd:r={},transition:o={},...a}=n||{};a={...a,...r};for(const u in a){const d=nP(a[u]);sP(t,u,d)}}const sm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aP="framerAppearId",Hw="data-"+sm(aP);function Ww(t){return t.props[Hw]}const Xt=t=>!!(t&&t.getVelocity);function lP(t){return!!(Xt(t)&&t.add)}function Gf(t,e){const n=t.getValue("willChange");if(lP(n))return n.add(e)}function uP({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Kw(t,e,{delay:n=0,transitionOverride:r,type:o}={}){var a;let{transition:u=t.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(u=r);const p=[],g=o&&t.animationState&&t.animationState.getState()[o];for(const _ in f){const E=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),x=f[_];if(x===void 0||g&&uP(g,_))continue;const R={delay:n,...Up(u||{},_)};let C=!1;if(window.MotionHandoffAnimation){const N=Ww(t);if(N){const j=window.MotionHandoffAnimation(N,_,qe);j!==null&&(R.startTime=j,C=!0)}}Gf(t,_),E.start(tm(_,E,x,t.shouldReduceMotion&&Cs.has(_)?{type:!1}:R,t,C));const P=E.animation;P&&p.push(P)}return d&&Promise.all(p).then(()=>{qe.update(()=>{d&&oP(t,d)})}),p}function Qf(t,e,n={}){var r;const o=rh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(a=n.transitionOverride);const u=o?()=>Promise.all(Kw(t,o,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=a;return cP(t,e,g+p,_,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(n.delay)])}function cP(t,e,n=0,r=0,o=1,a){const u=[],d=(t.variantChildren.size-1)*r,f=o===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(t.variantChildren).sort(hP).forEach((p,g)=>{p.notify("AnimationStart",e),u.push(Qf(p,e,{...a,delay:n+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function hP(t,e){return t.sortNodePosition(e)}function dP(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>Qf(t,a,n));r=Promise.all(o)}else if(typeof e=="string")r=Qf(t,e,n);else{const o=typeof e=="function"?rh(t,e,n.custom):e;r=Promise.all(Kw(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const fP=Bp.length;function Gw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Gw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fP;n++){const r=Bp[n],o=t.props[r];(gl(o)||o===!1)&&(e[r]=o)}return e}const pP=[...jp].reverse(),mP=jp.length;function gP(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dP(t,n,r)))}function yP(t){let e=gP(t),n=Ov(),r=!0;const o=f=>(p,g)=>{var _;const E=rh(t,g,f==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(E){const{transition:x,transitionEnd:R,...C}=E;p={...p,...C,...R}}return p};function a(f){e=f(t)}function u(f){const{props:p}=t,g=Gw(t.parent)||{},_=[],E=new Set;let x={},R=1/0;for(let P=0;P<mP;P++){const N=pP[P],j=n[N],K=p[N]!==void 0?p[N]:g[N],re=gl(K),te=N===f?j.isActive:null;te===!1&&(R=P);let ae=K===g[N]&&K!==p[N]&&re;if(ae&&r&&t.manuallyAnimateOnMount&&(ae=!1),j.protectedKeys={...x},!j.isActive&&te===null||!K&&!j.prevProp||nh(K)||typeof K=="boolean")continue;const V=vP(j.prevProp,K);let A=V||N===f&&j.isActive&&!ae&&re||P>R&&re,I=!1;const b=Array.isArray(K)?K:[K];let O=b.reduce(o(N),{});te===!1&&(O={});const{prevResolvedValues:z={}}=j,D={...z,...O},Je=Ae=>{A=!0,E.has(Ae)&&(I=!0,E.delete(Ae)),j.needsAnimating[Ae]=!0;const se=t.getValue(Ae);se&&(se.liveStyle=!1)};for(const Ae in D){const se=O[Ae],ge=z[Ae];if(x.hasOwnProperty(Ae))continue;let le=!1;Ff(se)&&Ff(ge)?le=!aw(se,ge):le=se!==ge,le?se!=null?Je(Ae):E.add(Ae):se!==void 0&&E.has(Ae)?Je(Ae):j.protectedKeys[Ae]=!0}j.prevProp=K,j.prevResolvedValues=O,j.isActive&&(x={...x,...O}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(ae&&V)||I)&&_.push(...b.map(Ae=>({animation:Ae,options:{type:N}})))}if(E.size){const P={};E.forEach(N=>{const j=t.getBaseTarget(N),K=t.getValue(N);K&&(K.liveStyle=!0),P[N]=j??null}),_.push({animation:P})}let C=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(_):Promise.resolve()}function d(f,p){var g;if(n[f].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(E=>{var x;return(x=E.animationState)===null||x===void 0?void 0:x.setActive(f,p)}),n[f].isActive=p;const _=u(f);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Ov(),r=!0}}}function vP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!aw(e,t):!1}function ps(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ov(){return{animate:ps(!0),whileInView:ps(),whileHover:ps(),whileTap:ps(),whileDrag:ps(),whileFocus:ps(),exit:ps()}}class Oi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _P extends Oi{constructor(e){super(e),e.animationState||(e.animationState=yP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let wP=0;class EP extends Oi{constructor(){super(...arguments),this.id=wP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const TP={animation:{Feature:_P},exit:{Feature:EP}};function SP(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const a=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const Jn={x:!1,y:!1};function Qw(){return Jn.x||Jn.y}function Fv(t){return e=>{e.pointerType==="touch"||Qw()||t(e)}}function xP(t,e,n={}){const r=new AbortController,o={passive:!0,...n,signal:r.signal},a=Fv(u=>{const{target:d}=u,f=e(u);if(!f||!d)return;const p=Fv(g=>{f(g),d.removeEventListener("pointerleave",p)});d.addEventListener("pointerleave",p,o)});return SP(t).forEach(u=>{u.addEventListener("pointerenter",a,o)}),()=>r.abort()}function AP(t){return t==="x"||t==="y"?Jn[t]?null:(Jn[t]=!0,()=>{Jn[t]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}const Xw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ll(t){return{point:{x:t.pageX,y:t.pageY}}}const RP=t=>e=>Xw(e)&&t(e,Ll(e));function Ur(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function xi(t,e,n,r){return Ur(t,e,RP(n),r)}const jv=(t,e)=>Math.abs(t-e);function PP(t,e){const n=jv(t.x,e.x),r=jv(t.y,e.y);return Math.sqrt(n**2+r**2)}class Yw{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=gf(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,x=PP(_.offset,{x:0,y:0})>=3;if(!E&&!x)return;const{point:R}=_,{timestamp:C}=Ot;this.history.push({...R,timestamp:C});const{onStart:P,onMove:N}=this.handlers;E||(P&&P(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=mf(E,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:x,onSessionEnd:R,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=gf(_.type==="pointercancel"?this.lastMoveEventInfo:mf(E,this.transformPagePoint),this.history);this.startEvent&&x&&x(_,P),R&&R(_,P)},!Xw(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const u=Ll(e),d=mf(u,this.transformPagePoint),{point:f}=d,{timestamp:p}=Ot;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,gf(d,this.history)),this.removeListeners=Si(xi(this.contextWindow,"pointermove",this.handlePointerMove),xi(this.contextWindow,"pointerup",this.handlePointerUp),xi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ii(this.updatePoint)}}function mf(t,e){return e?{point:e(t.point)}:t}function Bv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gf({point:t},e){return{point:t,delta:Bv(t,Jw(e)),offset:Bv(t,CP(e)),velocity:IP(e,.1)}}function CP(t){return t[0]}function Jw(t){return t[t.length-1]}function IP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=Jw(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>$r(e)));)n--;if(!r)return{x:0,y:0};const a=qr(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Io(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const Zw=1e-4,kP=1-Zw,DP=1+Zw,eE=.01,VP=0-eE,NP=0+eE;function xn(t){return t.max-t.min}function bP(t,e,n){return Math.abs(t-e)<=n}function Uv(t,e,n,r=.5){t.origin=r,t.originPoint=it(e.min,e.max,t.origin),t.scale=xn(n)/xn(e),t.translate=it(n.min,n.max,t.origin)-t.originPoint,(t.scale>=kP&&t.scale<=DP||isNaN(t.scale))&&(t.scale=1),(t.translate>=VP&&t.translate<=NP||isNaN(t.translate))&&(t.translate=0)}function ul(t,e,n,r){Uv(t.x,e.x,n.x,r?r.originX:void 0),Uv(t.y,e.y,n.y,r?r.originY:void 0)}function zv(t,e,n){t.min=n.min+e.min,t.max=t.min+xn(e)}function LP(t,e,n){zv(t.x,e.x,n.x),zv(t.y,e.y,n.y)}function $v(t,e,n){t.min=e.min-n.min,t.max=t.min+xn(e)}function cl(t,e,n){$v(t.x,e.x,n.x),$v(t.y,e.y,n.y)}function MP(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?it(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?it(n,t,r.max):Math.min(t,n)),t}function qv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function OP(t,{top:e,left:n,bottom:r,right:o}){return{x:qv(t.x,n,o),y:qv(t.y,e,r)}}function Hv(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function FP(t,e){return{x:Hv(t.x,e.x),y:Hv(t.y,e.y)}}function jP(t,e){let n=.5;const r=xn(t),o=xn(e);return o>r?n=Mo(e.min,e.max-r,t.min):r>o&&(n=Mo(t.min,t.max-o,e.min)),Hr(0,1,n)}function BP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Xf=.35;function UP(t=Xf){return t===!1?t=0:t===!0&&(t=Xf),{x:Wv(t,"left","right"),y:Wv(t,"top","bottom")}}function Wv(t,e,n){return{min:Kv(t,e),max:Kv(t,n)}}function Kv(t,e){return typeof t=="number"?t:t[e]||0}const Gv=()=>({translate:0,scale:1,origin:0,originPoint:0}),ko=()=>({x:Gv(),y:Gv()}),Qv=()=>({min:0,max:0}),ht=()=>({x:Qv(),y:Qv()});function Mn(t){return[t("x"),t("y")]}function tE({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function zP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $P(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yf(t){return t===void 0||t===1}function Yf({scale:t,scaleX:e,scaleY:n}){return!yf(t)||!yf(e)||!yf(n)}function ms(t){return Yf(t)||nE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function nE(t){return Xv(t.x)||Xv(t.y)}function Xv(t){return t&&t!=="0%"}function Lc(t,e,n){const r=t-n,o=e*r;return n+o}function Yv(t,e,n,r,o){return o!==void 0&&(t=Lc(t,o,r)),Lc(t,n,r)+e}function Jf(t,e=0,n=1,r,o){t.min=Yv(t.min,e,n,r,o),t.max=Yv(t.max,e,n,r,o)}function rE(t,{x:e,y:n}){Jf(t.x,e.translate,e.scale,e.originPoint),Jf(t.y,n.translate,n.scale,n.originPoint)}const Jv=.999999999999,Zv=1.0000000000001;function qP(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=n[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Vo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,rE(t,u)),r&&ms(a.latestValues)&&Vo(t,a.latestValues))}e.x<Zv&&e.x>Jv&&(e.x=1),e.y<Zv&&e.y>Jv&&(e.y=1)}function Do(t,e){t.min=t.min+e,t.max=t.max+e}function e0(t,e,n,r,o=.5){const a=it(t.min,t.max,o);Jf(t,e,n,a,r)}function Vo(t,e){e0(t.x,e.x,e.scaleX,e.scale,e.originX),e0(t.y,e.y,e.scaleY,e.scale,e.originY)}function iE(t,e){return tE($P(t.getBoundingClientRect(),e))}function HP(t,e,n){const r=iE(t,n),{scroll:o}=e;return o&&(Do(r.x,o.offset.x),Do(r.y,o.offset.y)),r}const sE=({current:t})=>t?t.ownerDocument.defaultView:null,WP=new WeakMap;class KP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ll(g).point)},a=(g,_)=>{const{drag:E,dragPropagation:x,onDragStart:R}=this.getProps();if(E&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AP(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mn(P=>{let N=this.getAxisMotionValue(P).get()||0;if(mr.test(N)){const{projection:j}=this.visualElement;if(j&&j.layout){const K=j.layout.layoutBox[P];K&&(N=xn(K)*(parseFloat(N)/100))}}this.originPoint[P]=N}),R&&qe.postRender(()=>R(g,_)),Gf(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},u=(g,_)=>{const{dragPropagation:E,dragDirectionLock:x,onDirectionLock:R,onDrag:C}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:P}=_;if(x&&this.currentDirection===null){this.currentDirection=GP(P),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",_.point,P),this.updateAxis("y",_.point,P),this.visualElement.render(),C&&C(g,_)},d=(g,_)=>this.stop(g,_),f=()=>Mn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Yw(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:sE(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&qe.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!uc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=MP(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Io(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=OP(o.layoutBox,n):this.constraints=!1,this.elastic=UP(r),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Mn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=BP(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Io(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=HP(r,o.root,this.visualElement.getTransformPagePoint());let u=FP(o.layout.layoutBox,a);if(n){const d=n(zP(u));this.hasMutatedConstraints=!!d,d&&(u=tE(d))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=Mn(g=>{if(!uc(g,n,this.currentDirection))return;let _=f&&f[g]||{};u&&(_={min:0,max:0});const E=o?200:1e6,x=o?40:1e7,R={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,R)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Gf(this.visualElement,e),r.start(tm(e,r,0,n,this.visualElement,!1))}stopAnimation(){Mn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Mn(n=>{const{drag:r}=this.getProps();if(!uc(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[n];a.set(e[n]-it(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Io(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Mn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=jP({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mn(u=>{if(!uc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(it(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;WP.set(this.visualElement,this);const e=this.visualElement.current,n=xi(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Io(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),qe.read(r);const u=Ur(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Mn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Xf,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function uc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function GP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QP extends Oi{constructor(e){super(e),this.removeGroupControls=Yt,this.removeListeners=Yt,this.controls=new KP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const t0=t=>(e,n)=>{t&&qe.postRender(()=>t(e,n))};class XP extends Oi{constructor(){super(...arguments),this.removePointerDownListener=Yt}onPointerDown(e){this.session=new Yw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:t0(e),onStart:t0(n),onMove:r,onEnd:(a,u)=>{delete this.session,o&&qe.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=xi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const om=U.createContext(null);function YP(){const t=U.useContext(om);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=U.useId();U.useEffect(()=>r(o),[]);const a=U.useCallback(()=>n&&n(o),[o,n]);return!e&&n?[!1,a]:[!0]}const oE=U.createContext({}),aE=U.createContext({}),_c={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function n0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const el={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=n0(t,e.target.x),r=n0(t,e.target.y);return`${n}% ${r}%`}},JP={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=ki.parse(t);if(o.length>5)return r;const a=ki.createTransformer(t),u=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const p=it(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}},Mc={};function ZP(t){Object.assign(Mc,t)}const{schedule:am,cancel:xL}=lw(queueMicrotask,!1);class eC extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;ZP(tC),a&&(n.group&&n.group.add(a),r&&r.register&&o&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),_c.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,o||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||qe.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),am.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lE(t){const[e,n]=YP(),r=U.useContext(oE);return F.jsx(eC,{...t,layoutGroup:r,switchLayoutGroup:U.useContext(aE),isPresent:e,safeToRemove:n})}const tC={borderRadius:{...el,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:el,borderTopRightRadius:el,borderBottomLeftRadius:el,borderBottomRightRadius:el,boxShadow:JP},uE=["TopLeft","TopRight","BottomLeft","BottomRight"],nC=uE.length,r0=t=>typeof t=="string"?parseFloat(t):t,i0=t=>typeof t=="number"||Ee.test(t);function rC(t,e,n,r,o,a){o?(t.opacity=it(0,n.opacity!==void 0?n.opacity:1,iC(r)),t.opacityExit=it(e.opacity!==void 0?e.opacity:1,0,sC(r))):a&&(t.opacity=it(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let u=0;u<nC;u++){const d=`border${uE[u]}Radius`;let f=s0(e,d),p=s0(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||i0(f)===i0(p)?(t[d]=Math.max(it(r0(f),r0(p),r),0),(mr.test(p)||mr.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=it(e.rotate||0,n.rotate||0,r))}function s0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const iC=cE(0,.5,mw),sC=cE(.5,.95,Yt);function cE(t,e,n){return r=>r<t?0:r>e?1:n(Mo(t,e,r))}function o0(t,e){t.min=e.min,t.max=e.max}function Ln(t,e){o0(t.x,e.x),o0(t.y,e.y)}function a0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function l0(t,e,n,r,o){return t-=e,t=Lc(t,1/n,r),o!==void 0&&(t=Lc(t,1/o,r)),t}function oC(t,e=0,n=1,r=.5,o,a=t,u=t){if(mr.test(e)&&(e=parseFloat(e),e=it(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=it(a.min,a.max,r);t===a&&(d-=e),t.min=l0(t.min,e,n,d,o),t.max=l0(t.max,e,n,d,o)}function u0(t,e,[n,r,o],a,u){oC(t,e[n],e[r],e[o],e.scale,a,u)}const aC=["x","scaleX","originX"],lC=["y","scaleY","originY"];function c0(t,e,n,r){u0(t.x,e,aC,n?n.x:void 0,r?r.x:void 0),u0(t.y,e,lC,n?n.y:void 0,r?r.y:void 0)}function h0(t){return t.translate===0&&t.scale===1}function hE(t){return h0(t.x)&&h0(t.y)}function d0(t,e){return t.min===e.min&&t.max===e.max}function uC(t,e){return d0(t.x,e.x)&&d0(t.y,e.y)}function f0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function dE(t,e){return f0(t.x,e.x)&&f0(t.y,e.y)}function p0(t){return xn(t.x)/xn(t.y)}function m0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class cC{constructor(){this.members=[]}add(e){nm(this.members,e),e.scheduleRender()}remove(e){if(rm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hC(t,e,n){let r="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||a||u)&&(r=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:E,skewX:x,skewY:R}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),x&&(r+=`skewX(${x}deg) `),R&&(r+=`skewY(${R}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const dC=(t,e)=>t.depth-e.depth;class fC{constructor(){this.children=[],this.isDirty=!1}add(e){nm(this.children,e),this.isDirty=!0}remove(e){rm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dC),this.isDirty=!1,this.children.forEach(e)}}function wc(t){const e=Xt(t)?t.get():t;return tP(e)?e.toValue():e}function pC(t,e){const n=gr.now(),r=({timestamp:o})=>{const a=o-n;a>=e&&(Ii(r),t(a-e))};return qe.read(r,!0),()=>Ii(r)}function mC(t){return t instanceof SVGElement&&t.tagName!=="svg"}function gC(t,e,n){const r=Xt(t)?t:_l(t);return r.start(tm("",r,e,n)),r.animation}const gs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},rl=typeof window<"u"&&window.MotionDebug!==void 0,vf=["","X","Y","Z"],yC={visibility:"hidden"},g0=1e3;let vC=0;function _f(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function fE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ww(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",qe,!(o||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&fE(r)}function pE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},d=e==null?void 0:e()){this.id=vC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,rl&&(gs.totalNodes=gs.resolvedTargetDeltas=gs.recalculatedProjection=0),this.nodes.forEach(EC),this.nodes.forEach(RC),this.nodes.forEach(PC),this.nodes.forEach(TC),rl&&window.MotionDebug.record(gs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new fC)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new im),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mC(u),this.instance=u;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||f)&&(this.isLayoutDirty=!0),t){let _;const E=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=pC(E,250),_c.hasAnimatedSinceResize&&(_c.hasAnimatedSinceResize=!1,this.nodes.forEach(v0))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeTargetChanged:x,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||VC,{onLayoutAnimationStart:P,onLayoutAnimationComplete:N}=g.getProps(),j=!this.targetLayout||!dE(this.targetLayout,R)||x,K=!E&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||K||E&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,K);const re={...Up(C,"layout"),onPlay:P,onComplete:N};(g.shouldReduceMotion||this.options.layoutRoot)&&(re.delay=0,re.type=!1),this.startAnimation(re)}else E||v0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ii(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CC),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(y0);return}this.isUpdating||this.nodes.forEach(xC),this.isUpdating=!1,this.nodes.forEach(AC),this.nodes.forEach(_C),this.nodes.forEach(wC),this.clearAllSnapshots();const d=gr.now();Ot.delta=Hr(0,1e3/60,d-Ot.timestamp),Ot.timestamp=d,Ot.isProcessing=!0,cf.update.process(Ot),cf.preRender.process(Ot),cf.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,am.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SC),this.sharedNodes.forEach(IC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!hE(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&(d||ms(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),NC(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return ht();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(bC))){const{scroll:g}=this.root;g&&(Do(f.x,g.offset.x),Do(f.y,g.offset.y))}return f}removeElementScroll(u){var d;const f=ht();if(Ln(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Ln(f,u),Do(f.x,_.offset.x),Do(f.y,_.offset.y))}return f}applyTransform(u,d=!1){const f=ht();Ln(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Vo(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ms(g.latestValues)&&Vo(f,g.latestValues)}return ms(this.latestValues)&&Vo(f,this.latestValues),f}removeTransform(u){const d=ht();Ln(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!ms(p.latestValues))continue;Yf(p.latestValues)&&p.updateSnapshot();const g=ht(),_=p.measurePageBox();Ln(g,_),c0(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return ms(this.latestValues)&&c0(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),cl(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ln(this.target,this.layout.layoutBox),rE(this.target,this.targetDelta)):Ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),cl(this.relativeTargetOrigin,this.target,x.target),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}rl&&gs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Yf(this.parent.latestValues)||nE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Ln(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,x=this.treeScale.y;qP(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ht());const{target:R}=d;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(a0(this.prevProjectionDelta.x,this.projectionDelta.x),a0(this.prevProjectionDelta.y,this.projectionDelta.y)),ul(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==x||!m0(this.projectionDelta.x,this.prevProjectionDelta.x)||!m0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R)),rl&&gs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ko(),this.projectionDelta=ko(),this.projectionDeltaWithTransform=ko()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=ht(),x=f?f.source:void 0,R=this.layout?this.layout.source:void 0,C=x!==R,P=this.getStack(),N=!P||P.members.length<=1,j=!!(C&&!N&&this.options.crossfade===!0&&!this.path.some(DC));this.animationProgress=0;let K;this.mixTargetDelta=re=>{const te=re/1e3;_0(_.x,u.x,te),_0(_.y,u.y,te),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kC(this.relativeTarget,this.relativeTargetOrigin,E,te),K&&uC(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=ht()),Ln(K,this.relativeTarget)),C&&(this.animationValues=g,rC(g,p,this.latestValues,te,j,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ii(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{_c.hasAnimatedSinceResize=!0,this.currentAnimation=gC(0,g0,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(g0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:g}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&mE(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ht();const _=xn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const E=xn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Ln(d,f),Vo(d,g),ul(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new cC),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&_f("z",u,p,this.animationValues);for(let g=0;g<vf.length;g++)_f(`rotate${vf[g]}`,u,p,this.animationValues),_f(`skew${vf[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yC;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=wc(u==null?void 0:u.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=wc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ms(this.latestValues)&&(C.transform=g?g({},""):"none",this.hasProjected=!1),C}const E=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=hC(this.projectionDeltaWithTransform,this.treeScale,E),g&&(p.transform=g(E,p.transform));const{x,y:R}=this.projectionDelta;p.transformOrigin=`${x.origin*100}% ${R.origin*100}% 0`,_.animationValues?p.opacity=_===this?(f=(d=E.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const C in Mc){if(E[C]===void 0)continue;const{correct:P,applyTo:N}=Mc[C],j=p.transform==="none"?E[C]:P(E[C],_);if(N){const K=N.length;for(let re=0;re<K;re++)p[N[re]]=j}else p[C]=j}return this.options.layoutId&&(p.pointerEvents=_===this?wc(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(y0),this.root.sharedNodes.clear()}}}function _C(t){t.updateLayout()}function wC(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:a}=t.options,u=n.source!==t.layout.source;a==="size"?Mn(_=>{const E=u?n.measuredBox[_]:n.layoutBox[_],x=xn(E);E.min=r[_].min,E.max=E.min+x}):mE(a,n.layoutBox,r)&&Mn(_=>{const E=u?n.measuredBox[_]:n.layoutBox[_],x=xn(r[_]);E.max=E.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+x)});const d=ko();ul(d,r,n.layoutBox);const f=ko();u?ul(f,t.applyTransform(o,!0),n.measuredBox):ul(f,r,n.layoutBox);const p=!hE(d);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:x}=_;if(E&&x){const R=ht();cl(R,n.layoutBox,E.layoutBox);const C=ht();cl(C,r,x.layoutBox),dE(R,C)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=R,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function EC(t){rl&&gs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TC(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SC(t){t.clearSnapshot()}function y0(t){t.clearMeasurements()}function xC(t){t.isLayoutDirty=!1}function AC(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function v0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function RC(t){t.resolveTargetDelta()}function PC(t){t.calcProjection()}function CC(t){t.resetSkewAndRotation()}function IC(t){t.removeLeadSnapshot()}function _0(t,e,n){t.translate=it(e.translate,0,n),t.scale=it(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function w0(t,e,n,r){t.min=it(e.min,n.min,r),t.max=it(e.max,n.max,r)}function kC(t,e,n,r){w0(t.x,e.x,n.x,r),w0(t.y,e.y,n.y,r)}function DC(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VC={duration:.45,ease:[.4,0,.1,1]},E0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),T0=E0("applewebkit/")&&!E0("chrome/")?Math.round:Yt;function S0(t){t.min=T0(t.min),t.max=T0(t.max)}function NC(t){S0(t.x),S0(t.y)}function mE(t,e,n){return t==="position"||t==="preserve-aspect"&&!bP(p0(e),p0(n),.2)}function bC(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const LC=pE({attachResizeListener:(t,e)=>Ur(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wf={current:void 0},gE=pE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wf.current){const t=new LC({});t.mount(window),t.setOptions({layoutScroll:!0}),wf.current=t}return wf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),MC={pan:{Feature:XP},drag:{Feature:QP,ProjectionNode:gE,MeasureLayout:lE}};function x0(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n);const o=r[n?"onHoverStart":"onHoverEnd"];o&&qe.postRender(()=>o(e,Ll(e)))}class OC extends Oi{mount(){const{current:e,props:n}=this.node;e&&(this.unmount=xP(e,r=>(x0(this.node,r,!0),o=>x0(this.node,o,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class FC extends Oi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Si(Ur(this.node.current,"focus",()=>this.onFocus()),Ur(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const yE=(t,e)=>e?t===e?!0:yE(t,e.parentElement):!1;function Ef(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ll(n))}class jC extends Oi{constructor(){super(...arguments),this.removeStartListeners=Yt,this.removeEndListeners=Yt,this.removeAccessibleListeners=Yt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=xi(window,"pointerup",(d,f)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:g,globalTapTarget:_}=this.node.getProps(),E=!_&&!yE(this.node.current,d.target)?g:p;E&&qe.update(()=>E(d,f))},{passive:!(r.onTap||r.onPointerUp)}),u=xi(window,"pointercancel",(d,f)=>this.cancelPress(d,f),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Si(a,u),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const u=d=>{d.key!=="Enter"||!this.checkPressEnd()||Ef("up",(f,p)=>{const{onTap:g}=this.node.getProps();g&&qe.postRender(()=>g(f,p))})};this.removeEndListeners(),this.removeEndListeners=Ur(this.node.current,"keyup",u),Ef("down",(d,f)=>{this.startPress(d,f)})},n=Ur(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ef("cancel",(a,u)=>this.cancelPress(a,u))},o=Ur(this.node.current,"blur",r);this.removeAccessibleListeners=Si(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&qe.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Qw()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&qe.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=xi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ur(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Si(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Zf=new WeakMap,Tf=new WeakMap,BC=t=>{const e=Zf.get(t.target);e&&e(t)},UC=t=>{t.forEach(BC)};function zC({root:t,...e}){const n=t||document;Tf.has(n)||Tf.set(n,{});const r=Tf.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(UC,{root:t,...e})),r[o]}function $C(t,e,n){const r=zC(e);return Zf.set(t,n),r.observe(t),()=>{Zf.delete(t),r.unobserve(t)}}const qC={some:0,all:1};class HC extends Oi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:qC[o]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=p?g:_;E&&E(f)};return $C(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(WC(e,n))&&this.startObserver()}unmount(){}}function WC({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const KC={inView:{Feature:HC},tap:{Feature:jC},focus:{Feature:FC},hover:{Feature:OC}},GC={layout:{ProjectionNode:gE,MeasureLayout:lE}},vE=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),sh=U.createContext({}),lm=typeof window<"u",QC=lm?U.useLayoutEffect:U.useEffect,_E=U.createContext({strict:!1});function XC(t,e,n,r,o){var a,u;const{visualElement:d}=U.useContext(sh),f=U.useContext(_E),p=U.useContext(om),g=U.useContext(vE).reducedMotion,_=U.useRef();r=r||f.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:d,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const E=_.current,x=U.useContext(aE);E&&!E.projection&&o&&(E.type==="html"||E.type==="svg")&&YC(_.current,n,o,x);const R=U.useRef(!1);U.useInsertionEffect(()=>{E&&R.current&&E.update(n,p)});const C=n[Hw],P=U.useRef(!!C&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,C))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,C)));return QC(()=>{E&&(R.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),am.render(E.render),P.current&&E.animationState&&E.animationState.animateChanges())}),U.useEffect(()=>{E&&(!P.current&&E.animationState&&E.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,C)}),P.current=!1))}),E}function YC(t,e,n,r){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wE(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&Io(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function wE(t){if(t)return t.options.allowProjection!==!1?t.projection:wE(t.parent)}function JC(t,e,n){return U.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Io(n)&&(n.current=r))},[e])}function oh(t){return nh(t.animate)||Bp.some(e=>gl(t[e]))}function EE(t){return!!(oh(t)||t.variants)}function ZC(t,e){if(oh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gl(n)?n:void 0,animate:gl(r)?r:void 0}}return t.inherit!==!1?e:{}}function eI(t){const{initial:e,animate:n}=ZC(t,U.useContext(sh));return U.useMemo(()=>({initial:e,animate:n}),[A0(e),A0(n)])}function A0(t){return Array.isArray(t)?t.join(" "):t}const R0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Oo={};for(const t in R0)Oo[t]={isEnabled:e=>R0[t].some(n=>!!e[n])};function tI(t){for(const e in t)Oo[e]={...Oo[e],...t[e]}}const nI=Symbol.for("motionComponentSymbol");function rI({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&tI(t);function a(d,f){let p;const g={...U.useContext(vE),...d,layoutId:iI(d)},{isStatic:_}=g,E=eI(d),x=r(d,_);if(!_&&lm){sI();const R=oI(g);p=R.MeasureLayout,E.visualElement=XC(o,x,g,e,R.ProjectionNode)}return F.jsxs(sh.Provider,{value:E,children:[p&&E.visualElement?F.jsx(p,{visualElement:E.visualElement,...g}):null,n(o,d,JC(x,E.visualElement,f),x,_,E.visualElement)]})}const u=U.forwardRef(a);return u[nI]=o,u}function iI({layoutId:t}){const e=U.useContext(oE).id;return e&&t!==void 0?e+"-"+t:t}function sI(t,e){U.useContext(_E).strict}function oI(t){const{drag:e,layout:n}=Oo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const aI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function um(t){return typeof t!="string"||t.includes("-")?!1:!!(aI.indexOf(t)>-1||/[A-Z]/u.test(t))}function TE(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const SE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xE(t,e,n,r){TE(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(SE.has(o)?o:sm(o),e.attrs[o])}function AE(t,{layout:e,layoutId:n}){return Cs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Mc[t]||t==="opacity")}function cm(t,e,n){var r;const{style:o}=t,a={};for(const u in o)(Xt(o[u])||e.style&&Xt(e.style[u])||AE(u,t)||((r=n==null?void 0:n.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[u]=o[u]);return a}function RE(t,e,n){const r=cm(t,e,n);for(const o in t)if(Xt(t[o])||Xt(e[o])){const a=Vl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=t[o]}return r}function lI(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}function uI({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,a){const u={latestValues:cI(r,o,a,t),renderState:e()};return n&&(u.mount=d=>n(r,d,u)),u}const PE=t=>(e,n)=>{const r=U.useContext(sh),o=U.useContext(om),a=()=>uI(t,e,r,o);return n?a():lI(a)};function cI(t,e,n,r){const o={},a=r(t,{});for(const E in a)o[E]=wc(a[E]);let{initial:u,animate:d}=t;const f=oh(t),p=EE(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const _=g?d:u;if(_&&typeof _!="boolean"&&!nh(_)){const E=Array.isArray(_)?_:[_];for(let x=0;x<E.length;x++){const R=Fp(t,E[x]);if(R){const{transitionEnd:C,transition:P,...N}=R;for(const j in N){let K=N[j];if(Array.isArray(K)){const re=g?K.length-1:0;K=K[re]}K!==null&&(o[j]=K)}for(const j in C)o[j]=C[j]}}}return o}const hm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),CE=()=>({...hm(),attrs:{}}),IE=(t,e)=>e&&typeof t=="number"?e.transform(t):t,hI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dI=Vl.length;function fI(t,e,n){let r="",o=!0;for(let a=0;a<dI;a++){const u=Vl[a],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=IE(d,Gp[u]);if(!f){o=!1;const g=hI[u]||u;r+=`${g}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function dm(t,e,n){const{style:r,vars:o,transformOrigin:a}=t;let u=!1,d=!1;for(const f in e){const p=e[f];if(Cs.has(f)){u=!0;continue}else if(ww(f)){o[f]=p;continue}else{const g=IE(p,Gp[f]);f.startsWith("origin")?(d=!0,a[f]=g):r[f]=g}}if(e.transform||(u||n?r.transform=fI(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}function P0(t,e,n){return typeof t=="string"?t:Ee.transform(e+n*t)}function pI(t,e,n){const r=P0(e,t.x,t.width),o=P0(n,t.y,t.height);return`${r} ${o}`}const mI={offset:"stroke-dashoffset",array:"stroke-dasharray"},gI={offset:"strokeDashoffset",array:"strokeDasharray"};function yI(t,e,n=1,r=0,o=!0){t.pathLength=1;const a=o?mI:gI;t[a.offset]=Ee.transform(-r);const u=Ee.transform(e),d=Ee.transform(n);t[a.array]=`${u} ${d}`}function fm(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:a,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...p},g,_){if(dm(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:x,dimensions:R}=t;E.transform&&(R&&(x.transform=E.transform),delete E.transform),R&&(o!==void 0||a!==void 0||x.transform)&&(x.transformOrigin=pI(R,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),u!==void 0&&yI(E,u,d,f,!1)}const pm=t=>typeof t=="string"&&t.toLowerCase()==="svg",vI={useVisualState:PE({scrapeMotionValuesFromProps:RE,createRenderState:CE,onMount:(t,e,{renderState:n,latestValues:r})=>{qe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),qe.render(()=>{fm(n,r,pm(e.tagName),t.transformTemplate),xE(e,n)})}})},_I={useVisualState:PE({scrapeMotionValuesFromProps:cm,createRenderState:hm})};function kE(t,e,n){for(const r in e)!Xt(e[r])&&!AE(r,n)&&(t[r]=e[r])}function wI({transformTemplate:t},e){return U.useMemo(()=>{const n=hm();return dm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function EI(t,e){const n=t.style||{},r={};return kE(r,n,t),Object.assign(r,wI(t,e)),r}function TI(t,e){const n={},r=EI(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const SI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||SI.has(t)}let DE=t=>!Oc(t);function xI(t){t&&(DE=e=>e.startsWith("on")?!Oc(e):t(e))}try{xI(require("@emotion/is-prop-valid").default)}catch{}function AI(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(DE(o)||n===!0&&Oc(o)||!e&&!Oc(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function RI(t,e,n,r){const o=U.useMemo(()=>{const a=CE();return fm(a,e,pm(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};kE(a,t.style,t),o.style={...a,...o.style}}return o}function PI(t=!1){return(n,r,o,{latestValues:a},u)=>{const f=(um(n)?RI:TI)(r,a,u,n),p=AI(r,typeof n=="string",t),g=n!==U.Fragment?{...p,...f,ref:o}:{},{children:_}=r,E=U.useMemo(()=>Xt(_)?_.get():_,[_]);return U.createElement(n,{...g,children:E})}}function CI(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...um(r)?vI:_I,preloadedFeatures:t,useRender:PI(o),createVisualElement:e,Component:r};return rI(u)}}const ep={current:null},VE={current:!1};function II(){if(VE.current=!0,!!lm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ep.current=t.matches;t.addListener(e),e()}else ep.current=!1}function kI(t,e,n){for(const r in e){const o=e[r],a=n[r];if(Xt(o))t.addValue(r,o);else if(Xt(a))t.addValue(r,_l(o,{owner:t}));else if(a!==o)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(r);t.addValue(r,_l(u!==void 0?u:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const C0=new WeakMap,DI=[...Sw,Wt,ki],VI=t=>DI.find(Tw(t)),I0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NI{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=gr.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,qe.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=oh(n),this.isVariantNode=EE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const x=_[E];f[E]!==void 0&&Xt(x)&&x.set(f[E],!1)}}mount(e){this.current=e,C0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),VE.current||II(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ep.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){C0.delete(this.current),this.projection&&this.projection.unmount(),Ii(this.notifyUpdate),Ii(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Cs.has(e),o=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Oo){const n=Oo[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<I0.length;r++){const o=I0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=kI(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_l(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(vw(o)||yw(o))?o=parseFloat(o):!VI(o)&&ki.test(n)&&(o=Dw(e,n)),this.setBaseTarget(e,Xt(o)?o.get():o)),Xt(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const u=Fp(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(o=u[e])}if(r&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Xt(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new im),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class NE extends NI{constructor(){super(...arguments),this.KeyframeResolver=Vw}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function bI(t){return window.getComputedStyle(t)}class LI extends NE{constructor(){super(...arguments),this.type="html",this.renderInstance=TE}readValueFromInstance(e,n){if(Cs.has(n)){const r=Qp(n);return r&&r.default||0}else{const r=bI(e),o=(ww(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return iE(e,n)}build(e,n,r){dm(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return cm(e,n,r)}}class MI extends NE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Cs.has(n)){const r=Qp(n);return r&&r.default||0}return n=SE.has(n)?n:sm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return RE(e,n,r)}build(e,n,r){fm(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){xE(e,n,r,o)}mount(e){this.isSVGTag=pm(e.tagName),super.mount(e)}}const OI=(t,e)=>um(t)?new MI(e):new LI(e,{allowProjection:t!==U.Fragment}),FI=CI({...TP,...KC,...MC,...GC},OI),lt=wA(FI);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:u,...d},f)=>U.createElement("svg",{ref:f,...BI,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:bE("lucide",o),...d},[...u.map(([p,g])=>U.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=(t,e)=>{const n=U.forwardRef(({className:r,...o},a)=>U.createElement(UI,{ref:a,iconNode:e,className:bE(`lucide-${jI(t)}`,r),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=Qr("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Qr("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Qr("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Qr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Qr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=Qr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Qr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Qr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=Qr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function GI({onRoleSelect:t}){const e={hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.2,staggerChildren:.1}}},n={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:10}}};return F.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-200 flex items-center justify-center p-4 overflow-hidden",children:F.jsxs(lt.div,{initial:"hidden",animate:"visible",variants:e,className:"bg-white/90 backdrop-blur-lg shadow-2xl rounded-3xl p-6 md:p-10 text-center max-w-2xl w-full space-y-6 md:space-y-8 border border-white/20",children:[F.jsxs(lt.div,{variants:n,className:"text-center space-y-4",children:[F.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600",children:"Claimburse"}),F.jsx("p",{className:"text-lg md:text-xl text-gray-600 font-medium",children:"Pilih Peran Anda"})]}),F.jsxs(lt.div,{variants:n,className:"flex flex-col md:flex-row justify-center gap-4 md:gap-8 w-full",children:[F.jsx(lt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("staff"),className:"flex-1 bg-gradient-to-br from-blue-500 to-blue-700 text-white px-4 md:px-8 py-4 md:py-6 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 group",children:F.jsxs("div",{className:"flex flex-col items-center space-y-2 md:space-y-3",children:[F.jsx(KI,{className:"h-10 w-10 md:h-16 md:w-16 text-white/80 group-hover:text-white transition-colors",strokeWidth:1.5}),F.jsx("span",{className:"text-xl md:text-2xl font-bold",children:"Staff"}),F.jsx("span",{className:"text-xs md:text-sm text-blue-100 opacity-80 group-hover:opacity-100 transition-opacity text-center",children:"Ajukan Penggantian Biaya"})]})}),F.jsx(lt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("accountant"),className:"flex-1 bg-gradient-to-br from-green-500 to-green-700 text-white px-4 md:px-8 py-4 md:py-6 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 group",children:F.jsxs("div",{className:"flex flex-col items-center space-y-2 md:space-y-3",children:[F.jsx(LE,{className:"h-10 w-10 md:h-16 md:w-16 text-white/80 group-hover:text-white transition-colors",strokeWidth:1.5}),F.jsx("span",{className:"text-xl md:text-2xl font-bold",children:"Accountant"}),F.jsx("span",{className:"text-xs md:text-sm text-green-100 opacity-80 group-hover:opacity-100 transition-opacity text-center",children:"Verifikasi & Setujui"})]})})]})]})})}var k0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},QI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],d=t[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},FE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,d=u?t[o+1]:0,f=o+2<t.length,p=f?t[o+2]:0,g=a>>2,_=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,x=p&63;f||(x=64,u||(E=64)),r.push(n[g],n[_],n[E],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const _=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||d==null||p==null||_==null)throw new XI;const E=a<<2|d>>4;if(r.push(E),p!==64){const x=d<<4&240|p>>2;if(r.push(x),_!==64){const R=p<<6&192|_;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YI=function(t){const e=OE(t);return FE.encodeByteArray(e,!0)},Fc=function(t){return YI(t).replace(/\./g,"")},JI=function(t){try{return FE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=()=>ZI().__FIREBASE_DEFAULTS__,tk=()=>{if(typeof process>"u"||typeof k0>"u")return;const t=k0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JI(t[1]);return e&&JSON.parse(e)},mm=()=>{try{return ek()||tk()||nk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rk=t=>{var e,n;return(n=(e=mm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ik=t=>{const e=rk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jE=()=>{var t;return(t=mm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fc(JSON.stringify(n)),Fc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lk(){var t;const e=(t=mm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uk(){return!lk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ck(){try{return typeof indexedDB=="object"}catch{return!1}}function hk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="FirebaseError";class Qo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dk,Object.setPrototypeOf(this,Qo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,BE.prototype.create)}}class BE{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?fk(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Qo(o,d,r)}}function fk(t,e){return t.replace(pk,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const pk=/\{\$([^}]+)}/g;function tp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],u=e[o];if(D0(a)&&D0(u)){if(!tp(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function D0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t){return t&&t._delegate?t._delegate:t}class wl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yk(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gk(t){return t===ys?void 0:t}function yk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const _k={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},wk=Oe.INFO,Ek={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Tk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=Ek[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class UE{constructor(e){this.name=e,this._logLevel=wk,this._logHandler=Tk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_k[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Sk=(t,e)=>e.some(n=>t instanceof n);let V0,N0;function xk(){return V0||(V0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ak(){return N0||(N0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zE=new WeakMap,np=new WeakMap,$E=new WeakMap,xf=new WeakMap,gm=new WeakMap;function Rk(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Ai(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&zE.set(n,t)}).catch(()=>{}),gm.set(e,t),e}function Pk(t){if(np.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});np.set(t,e)}let rp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return np.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$E.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ck(t){rp=t(rp)}function Ik(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Af(this),e,...n);return $E.set(r,e.sort?e.sort():[e]),Ai(r)}:Ak().includes(t)?function(...e){return t.apply(Af(this),e),Ai(zE.get(this))}:function(...e){return Ai(t.apply(Af(this),e))}}function kk(t){return typeof t=="function"?Ik(t):(t instanceof IDBTransaction&&Pk(t),Sk(t,xk())?new Proxy(t,rp):t)}function Ai(t){if(t instanceof IDBRequest)return Rk(t);if(xf.has(t))return xf.get(t);const e=kk(t);return e!==t&&(xf.set(t,e),gm.set(e,t)),e}const Af=t=>gm.get(t);function Dk(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),d=Ai(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ai(u.result),f.oldVersion,f.newVersion,Ai(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const Vk=["get","getKey","getAll","getAllKeys","count"],Nk=["put","add","delete","clear"],Rf=new Map;function b0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rf.get(e))return Rf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=Nk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Vk.includes(n)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&f.done]))[0]};return Rf.set(e,a),a}Ck(t=>({...t,get:(e,n,r)=>b0(e,n)||t.get(e,n,r),has:(e,n)=>!!b0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Lk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ip="@firebase/app",L0="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new UE("@firebase/app"),Mk="@firebase/app-compat",Ok="@firebase/analytics-compat",Fk="@firebase/analytics",jk="@firebase/app-check-compat",Bk="@firebase/app-check",Uk="@firebase/auth",zk="@firebase/auth-compat",$k="@firebase/database",qk="@firebase/data-connect",Hk="@firebase/database-compat",Wk="@firebase/functions",Kk="@firebase/functions-compat",Gk="@firebase/installations",Qk="@firebase/installations-compat",Xk="@firebase/messaging",Yk="@firebase/messaging-compat",Jk="@firebase/performance",Zk="@firebase/performance-compat",eD="@firebase/remote-config",tD="@firebase/remote-config-compat",nD="@firebase/storage",rD="@firebase/storage-compat",iD="@firebase/firestore",sD="@firebase/vertexai",oD="@firebase/firestore-compat",aD="firebase",lD="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="[DEFAULT]",uD={[ip]:"fire-core",[Mk]:"fire-core-compat",[Fk]:"fire-analytics",[Ok]:"fire-analytics-compat",[Bk]:"fire-app-check",[jk]:"fire-app-check-compat",[Uk]:"fire-auth",[zk]:"fire-auth-compat",[$k]:"fire-rtdb",[qk]:"fire-data-connect",[Hk]:"fire-rtdb-compat",[Wk]:"fire-fn",[Kk]:"fire-fn-compat",[Gk]:"fire-iid",[Qk]:"fire-iid-compat",[Xk]:"fire-fcm",[Yk]:"fire-fcm-compat",[Jk]:"fire-perf",[Zk]:"fire-perf-compat",[eD]:"fire-rc",[tD]:"fire-rc-compat",[nD]:"fire-gcs",[rD]:"fire-gcs-compat",[iD]:"fire-fst",[oD]:"fire-fst-compat",[sD]:"fire-vertex","fire-js":"fire-js",[aD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,cD=new Map,op=new Map;function M0(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bc(t){const e=t.name;if(op.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;op.set(e,t);for(const n of jc.values())M0(n,t);for(const n of cD.values())M0(n,t);return!0}function hD(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new BE("app","Firebase",dD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=lD;function qE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Ri.create("bad-app-name",{appName:String(o)});if(n||(n=jE()),!n)throw Ri.create("no-options");const a=jc.get(o);if(a){if(tp(n,a.options)&&tp(r,a.config))return a;throw Ri.create("duplicate-app",{appName:o})}const u=new vk(o);for(const f of op.values())u.addComponent(f);const d=new fD(n,r,u);return jc.set(o,d),d}function mD(t=sp){const e=jc.get(t);if(!e&&t===sp&&jE())return qE();if(!e)throw Ri.create("no-app",{appName:t});return e}function No(t,e,n){var r;let o=(r=uD[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(d.join(" "));return}Bc(new wl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="firebase-heartbeat-database",yD=1,El="firebase-heartbeat-store";let Pf=null;function HE(){return Pf||(Pf=Dk(gD,yD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(El)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),Pf}async function vD(t){try{const n=(await HE()).transaction(El),r=await n.objectStore(El).get(WE(t));return await n.done,r}catch(e){if(e instanceof Qo)Wr.warn(e.message);else{const n=Ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(n.message)}}}async function O0(t,e){try{const r=(await HE()).transaction(El,"readwrite");await r.objectStore(El).put(e,WE(t)),await r.done}catch(n){if(n instanceof Qo)Wr.warn(n.message);else{const r=Ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(r.message)}}}function WE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=1024,wD=30*24*60*60*1e3;class ED{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=F0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=wD}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Wr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=F0(),{heartbeatsToSend:r,unsentEntries:o}=TD(this._heartbeatsCache.heartbeats),a=Fc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Wr.warn(n),""}}}function F0(){return new Date().toISOString().substring(0,10)}function TD(t,e=_D){const n=[];let r=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),j0(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),j0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class SD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ck()?hk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return O0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return O0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function j0(t){return Fc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){Bc(new wl("platform-logger",e=>new bk(e),"PRIVATE")),Bc(new wl("heartbeat",e=>new ED(e),"PRIVATE")),No(ip,L0,t),No(ip,L0,"esm2017"),No("fire-js","")}xD("");var AD="firebase",RD="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */No(AD,RD,"app");var B0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,KE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,A){function I(){}I.prototype=A.prototype,V.D=A.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(b,O,z){for(var D=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)D[Je-2]=arguments[Je];return A.prototype[O].apply(b,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,A,I){I||(I=0);var b=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)b[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;16>O;++O)b[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=V.g[0],I=V.g[1],O=V.g[2];var z=V.g[3],D=A+(z^I&(O^z))+b[0]+3614090360&4294967295;A=I+(D<<7&4294967295|D>>>25),D=z+(O^A&(I^O))+b[1]+3905402710&4294967295,z=A+(D<<12&4294967295|D>>>20),D=O+(I^z&(A^I))+b[2]+606105819&4294967295,O=z+(D<<17&4294967295|D>>>15),D=I+(A^O&(z^A))+b[3]+3250441966&4294967295,I=O+(D<<22&4294967295|D>>>10),D=A+(z^I&(O^z))+b[4]+4118548399&4294967295,A=I+(D<<7&4294967295|D>>>25),D=z+(O^A&(I^O))+b[5]+1200080426&4294967295,z=A+(D<<12&4294967295|D>>>20),D=O+(I^z&(A^I))+b[6]+2821735955&4294967295,O=z+(D<<17&4294967295|D>>>15),D=I+(A^O&(z^A))+b[7]+4249261313&4294967295,I=O+(D<<22&4294967295|D>>>10),D=A+(z^I&(O^z))+b[8]+1770035416&4294967295,A=I+(D<<7&4294967295|D>>>25),D=z+(O^A&(I^O))+b[9]+2336552879&4294967295,z=A+(D<<12&4294967295|D>>>20),D=O+(I^z&(A^I))+b[10]+4294925233&4294967295,O=z+(D<<17&4294967295|D>>>15),D=I+(A^O&(z^A))+b[11]+2304563134&4294967295,I=O+(D<<22&4294967295|D>>>10),D=A+(z^I&(O^z))+b[12]+1804603682&4294967295,A=I+(D<<7&4294967295|D>>>25),D=z+(O^A&(I^O))+b[13]+4254626195&4294967295,z=A+(D<<12&4294967295|D>>>20),D=O+(I^z&(A^I))+b[14]+2792965006&4294967295,O=z+(D<<17&4294967295|D>>>15),D=I+(A^O&(z^A))+b[15]+1236535329&4294967295,I=O+(D<<22&4294967295|D>>>10),D=A+(O^z&(I^O))+b[1]+4129170786&4294967295,A=I+(D<<5&4294967295|D>>>27),D=z+(I^O&(A^I))+b[6]+3225465664&4294967295,z=A+(D<<9&4294967295|D>>>23),D=O+(A^I&(z^A))+b[11]+643717713&4294967295,O=z+(D<<14&4294967295|D>>>18),D=I+(z^A&(O^z))+b[0]+3921069994&4294967295,I=O+(D<<20&4294967295|D>>>12),D=A+(O^z&(I^O))+b[5]+3593408605&4294967295,A=I+(D<<5&4294967295|D>>>27),D=z+(I^O&(A^I))+b[10]+38016083&4294967295,z=A+(D<<9&4294967295|D>>>23),D=O+(A^I&(z^A))+b[15]+3634488961&4294967295,O=z+(D<<14&4294967295|D>>>18),D=I+(z^A&(O^z))+b[4]+3889429448&4294967295,I=O+(D<<20&4294967295|D>>>12),D=A+(O^z&(I^O))+b[9]+568446438&4294967295,A=I+(D<<5&4294967295|D>>>27),D=z+(I^O&(A^I))+b[14]+3275163606&4294967295,z=A+(D<<9&4294967295|D>>>23),D=O+(A^I&(z^A))+b[3]+4107603335&4294967295,O=z+(D<<14&4294967295|D>>>18),D=I+(z^A&(O^z))+b[8]+1163531501&4294967295,I=O+(D<<20&4294967295|D>>>12),D=A+(O^z&(I^O))+b[13]+2850285829&4294967295,A=I+(D<<5&4294967295|D>>>27),D=z+(I^O&(A^I))+b[2]+4243563512&4294967295,z=A+(D<<9&4294967295|D>>>23),D=O+(A^I&(z^A))+b[7]+1735328473&4294967295,O=z+(D<<14&4294967295|D>>>18),D=I+(z^A&(O^z))+b[12]+2368359562&4294967295,I=O+(D<<20&4294967295|D>>>12),D=A+(I^O^z)+b[5]+4294588738&4294967295,A=I+(D<<4&4294967295|D>>>28),D=z+(A^I^O)+b[8]+2272392833&4294967295,z=A+(D<<11&4294967295|D>>>21),D=O+(z^A^I)+b[11]+1839030562&4294967295,O=z+(D<<16&4294967295|D>>>16),D=I+(O^z^A)+b[14]+4259657740&4294967295,I=O+(D<<23&4294967295|D>>>9),D=A+(I^O^z)+b[1]+2763975236&4294967295,A=I+(D<<4&4294967295|D>>>28),D=z+(A^I^O)+b[4]+1272893353&4294967295,z=A+(D<<11&4294967295|D>>>21),D=O+(z^A^I)+b[7]+4139469664&4294967295,O=z+(D<<16&4294967295|D>>>16),D=I+(O^z^A)+b[10]+3200236656&4294967295,I=O+(D<<23&4294967295|D>>>9),D=A+(I^O^z)+b[13]+681279174&4294967295,A=I+(D<<4&4294967295|D>>>28),D=z+(A^I^O)+b[0]+3936430074&4294967295,z=A+(D<<11&4294967295|D>>>21),D=O+(z^A^I)+b[3]+3572445317&4294967295,O=z+(D<<16&4294967295|D>>>16),D=I+(O^z^A)+b[6]+76029189&4294967295,I=O+(D<<23&4294967295|D>>>9),D=A+(I^O^z)+b[9]+3654602809&4294967295,A=I+(D<<4&4294967295|D>>>28),D=z+(A^I^O)+b[12]+3873151461&4294967295,z=A+(D<<11&4294967295|D>>>21),D=O+(z^A^I)+b[15]+530742520&4294967295,O=z+(D<<16&4294967295|D>>>16),D=I+(O^z^A)+b[2]+3299628645&4294967295,I=O+(D<<23&4294967295|D>>>9),D=A+(O^(I|~z))+b[0]+4096336452&4294967295,A=I+(D<<6&4294967295|D>>>26),D=z+(I^(A|~O))+b[7]+1126891415&4294967295,z=A+(D<<10&4294967295|D>>>22),D=O+(A^(z|~I))+b[14]+2878612391&4294967295,O=z+(D<<15&4294967295|D>>>17),D=I+(z^(O|~A))+b[5]+4237533241&4294967295,I=O+(D<<21&4294967295|D>>>11),D=A+(O^(I|~z))+b[12]+1700485571&4294967295,A=I+(D<<6&4294967295|D>>>26),D=z+(I^(A|~O))+b[3]+2399980690&4294967295,z=A+(D<<10&4294967295|D>>>22),D=O+(A^(z|~I))+b[10]+4293915773&4294967295,O=z+(D<<15&4294967295|D>>>17),D=I+(z^(O|~A))+b[1]+2240044497&4294967295,I=O+(D<<21&4294967295|D>>>11),D=A+(O^(I|~z))+b[8]+1873313359&4294967295,A=I+(D<<6&4294967295|D>>>26),D=z+(I^(A|~O))+b[15]+4264355552&4294967295,z=A+(D<<10&4294967295|D>>>22),D=O+(A^(z|~I))+b[6]+2734768916&4294967295,O=z+(D<<15&4294967295|D>>>17),D=I+(z^(O|~A))+b[13]+1309151649&4294967295,I=O+(D<<21&4294967295|D>>>11),D=A+(O^(I|~z))+b[4]+4149444226&4294967295,A=I+(D<<6&4294967295|D>>>26),D=z+(I^(A|~O))+b[11]+3174756917&4294967295,z=A+(D<<10&4294967295|D>>>22),D=O+(A^(z|~I))+b[2]+718787259&4294967295,O=z+(D<<15&4294967295|D>>>17),D=I+(z^(O|~A))+b[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+z&4294967295}r.prototype.u=function(V,A){A===void 0&&(A=V.length);for(var I=A-this.blockSize,b=this.B,O=this.h,z=0;z<A;){if(O==0)for(;z<=I;)o(this,V,z),z+=this.blockSize;if(typeof V=="string"){for(;z<A;)if(b[O++]=V.charCodeAt(z++),O==this.blockSize){o(this,b),O=0;break}}else for(;z<A;)if(b[O++]=V[z++],O==this.blockSize){o(this,b),O=0;break}}this.h=O,this.o+=A},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;var I=8*this.o;for(A=V.length-8;A<V.length;++A)V[A]=I&255,I/=256;for(this.u(V),V=Array(16),A=I=0;4>A;++A)for(var b=0;32>b;b+=8)V[I++]=this.g[A]>>>b&255;return V};function a(V,A){var I=d;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=A(V)}function u(V,A){this.h=A;for(var I=[],b=!0,O=V.length-1;0<=O;O--){var z=V[O]|0;b&&z==A||(I[O]=z,b=!1)}this.g=I}var d={};function f(V){return-128<=V&&128>V?a(V,function(A){return new u([A|0],0>A?-1:0)}):new u([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return P(p(-V));for(var A=[],I=1,b=0;V>=I;b++)A[b]=V/I|0,I*=4294967296;return new u(A,0)}function g(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return P(g(V.substring(1),A));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(A,8)),b=_,O=0;O<V.length;O+=8){var z=Math.min(8,V.length-O),D=parseInt(V.substring(O,O+z),A);8>z?(z=p(Math.pow(A,z)),b=b.j(z).add(p(D))):(b=b.j(I),b=b.add(p(D)))}return b}var _=f(0),E=f(1),x=f(16777216);t=u.prototype,t.m=function(){if(C(this))return-P(this).m();for(var V=0,A=1,I=0;I<this.g.length;I++){var b=this.i(I);V+=(0<=b?b:4294967296+b)*A,A*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(R(this))return"0";if(C(this))return"-"+P(this).toString(V);for(var A=p(Math.pow(V,6)),I=this,b="";;){var O=re(I,A).g;I=N(I,O.j(A));var z=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=O,R(I))return z+b;for(;6>z.length;)z="0"+z;b=z+b}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function R(V){if(V.h!=0)return!1;for(var A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function C(V){return V.h==-1}t.l=function(V){return V=N(this,V),C(V)?-1:R(V)?0:1};function P(V){for(var A=V.g.length,I=[],b=0;b<A;b++)I[b]=~V.g[b];return new u(I,~V.h).add(E)}t.abs=function(){return C(this)?P(this):this},t.add=function(V){for(var A=Math.max(this.g.length,V.g.length),I=[],b=0,O=0;O<=A;O++){var z=b+(this.i(O)&65535)+(V.i(O)&65535),D=(z>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);b=D>>>16,z&=65535,D&=65535,I[O]=D<<16|z}return new u(I,I[I.length-1]&-2147483648?-1:0)};function N(V,A){return V.add(P(A))}t.j=function(V){if(R(this)||R(V))return _;if(C(this))return C(V)?P(this).j(P(V)):P(P(this).j(V));if(C(V))return P(this.j(P(V)));if(0>this.l(x)&&0>V.l(x))return p(this.m()*V.m());for(var A=this.g.length+V.g.length,I=[],b=0;b<2*A;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var O=0;O<V.g.length;O++){var z=this.i(b)>>>16,D=this.i(b)&65535,Je=V.i(O)>>>16,Dt=V.i(O)&65535;I[2*b+2*O]+=D*Dt,j(I,2*b+2*O),I[2*b+2*O+1]+=z*Dt,j(I,2*b+2*O+1),I[2*b+2*O+1]+=D*Je,j(I,2*b+2*O+1),I[2*b+2*O+2]+=z*Je,j(I,2*b+2*O+2)}for(b=0;b<A;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=A;b<2*A;b++)I[b]=0;return new u(I,0)};function j(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function K(V,A){this.g=V,this.h=A}function re(V,A){if(R(A))throw Error("division by zero");if(R(V))return new K(_,_);if(C(V))return A=re(P(V),A),new K(P(A.g),P(A.h));if(C(A))return A=re(V,P(A)),new K(P(A.g),A.h);if(30<V.g.length){if(C(V)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var I=E,b=A;0>=b.l(V);)I=te(I),b=te(b);var O=ae(I,1),z=ae(b,1);for(b=ae(b,2),I=ae(I,2);!R(b);){var D=z.add(b);0>=D.l(V)&&(O=O.add(I),z=D),b=ae(b,1),I=ae(I,1)}return A=N(V,O.j(A)),new K(O,A)}for(O=_;0<=V.l(A);){for(I=Math.max(1,Math.floor(V.m()/A.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),z=p(I),D=z.j(A);C(D)||0<D.l(V);)I-=b,z=p(I),D=z.j(A);R(z)&&(z=E),O=O.add(z),V=N(V,D)}return new K(O,V)}t.A=function(V){return re(this,V).h},t.and=function(V){for(var A=Math.max(this.g.length,V.g.length),I=[],b=0;b<A;b++)I[b]=this.i(b)&V.i(b);return new u(I,this.h&V.h)},t.or=function(V){for(var A=Math.max(this.g.length,V.g.length),I=[],b=0;b<A;b++)I[b]=this.i(b)|V.i(b);return new u(I,this.h|V.h)},t.xor=function(V){for(var A=Math.max(this.g.length,V.g.length),I=[],b=0;b<A;b++)I[b]=this.i(b)^V.i(b);return new u(I,this.h^V.h)};function te(V){for(var A=V.g.length+1,I=[],b=0;b<A;b++)I[b]=V.i(b)<<1|V.i(b-1)>>>31;return new u(I,V.h)}function ae(V,A){var I=A>>5;A%=32;for(var b=V.g.length-I,O=[],z=0;z<b;z++)O[z]=0<A?V.i(z+I)>>>A|V.i(z+I+1)<<32-A:V.i(z+I);return new u(O,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Ts=u}).apply(typeof B0<"u"?B0:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GE,il,QE,Ec,ap,XE,YE,JE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function o(c,y){if(y)e:{var w=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var $=c[S];if(!($ in w))break e;w=w[$]}c=c[c.length-1],S=w[c],y=y(S),y!=S&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,S=!1,$={next:function(){if(!S&&w<c.length){var G=w++;return{value:y(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,w){return c.call.apply(c.bind,arguments)}function _(c,y,w){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,S),c.apply(y,$)}}return function(){return c.apply(y,arguments)}}function E(c,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function x(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function R(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(S,$,G){for(var oe=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)oe[$e-2]=arguments[$e];return y.prototype[$].apply(S,oe)}}function C(c){const y=c.length;if(0<y){const w=Array(y);for(let S=0;S<y;S++)w[S]=c[S];return w}return[]}function P(c,y){for(let w=1;w<arguments.length;w++){const S=arguments[w];if(f(S)){const $=c.length||0,G=S.length||0;c.length=$+G;for(let oe=0;oe<G;oe++)c[$+oe]=S[oe]}else c.push(S)}}class N{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var te=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ae(c,y,w){for(const S in c)y.call(w,c[S],S,c)}function V(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function A(c){const y={};for(const w in c)y[w]=c[w];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,y){let w,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(w in S)c[w]=S[w];for(let G=0;G<I.length;G++)w=I[G],Object.prototype.hasOwnProperty.call(S,w)&&(c[w]=S[w])}}function O(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function z(c){d.setTimeout(()=>{throw c},0)}function D(){var c=ge;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Je{constructor(){this.h=this.g=null}add(y,w){const S=Dt.get();S.set(y,w),this.h?this.h.next=S:this.g=S,this.h=S}}var Dt=new N(()=>new Vt,c=>c.reset());class Vt{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,se=!1,ge=new Je,le=()=>{const c=d.Promise.resolve(void 0);Ae=()=>{c.then(B)}};var B=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(w){z(w)}var y=Dt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};d.addEventListener("test",w,y),d.removeEventListener("test",w,y)}catch{}return c}();function Ie(c,y){if(ye.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(te){e:{try{re(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}R(Ie,ye);var be={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function We(c,y,w,S,$){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!S,this.ha=$,this.key=++Ue,this.da=this.fa=!1}function At(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sr(c){this.src=c,this.g={},this.h=0}Sr.prototype.add=function(c,y,w,S,$){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var oe=Xr(c,y,S,$);return-1<oe?(y=c[oe],w||(y.fa=!1)):(y=new We(y,this.src,G,!!S,$),y.fa=w,c.push(y)),y};function Ds(c,y){var w=y.type;if(w in c.g){var S=c.g[w],$=Array.prototype.indexOf.call(S,y,void 0),G;(G=0<=$)&&Array.prototype.splice.call(S,$,1),G&&(At(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Xr(c,y,w,S){for(var $=0;$<c.length;++$){var G=c[$];if(!G.da&&G.listener==y&&G.capture==!!w&&G.ha==S)return $}return-1}var Bi="closure_lm_"+(1e6*Math.random()|0),Vs={};function ra(c,y,w,S,$){if(Array.isArray(y)){for(var G=0;G<y.length;G++)ra(c,y[G],w,S,$);return null}return w=oa(w),c&&c[Be]?c.K(y,w,p(S)?!!S.capture:!!S,$):ia(c,y,w,!1,S,$)}function ia(c,y,w,S,$,G){if(!y)throw Error("Invalid event type");var oe=p($)?!!$.capture:!!$,$e=bs(c);if($e||(c[Bi]=$e=new Sr(c)),w=$e.add(y,w,S,oe,G),w.proxy)return w;if(S=ql(),w.proxy=S,S.src=c,S.listener=w,c.addEventListener)Ce||($=oe),$===void 0&&($=!1),c.addEventListener(y.toString(),S,$);else if(c.attachEvent)c.attachEvent(Ar(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ql(){function c(w){return y.call(c.src,c.listener,w)}const y=sa;return c}function Ns(c,y,w,S,$){if(Array.isArray(y))for(var G=0;G<y.length;G++)Ns(c,y[G],w,S,$);else S=p(S)?!!S.capture:!!S,w=oa(w),c&&c[Be]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],w=Xr(G,w,S,$),-1<w&&(At(G[w]),Array.prototype.splice.call(G,w,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=bs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Xr(y,w,S,$)),(w=-1<c?y[c]:null)&&xr(w))}function xr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Be])Ds(y.i,c);else{var w=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(w,S,c.capture):y.detachEvent?y.detachEvent(Ar(w),S):y.addListener&&y.removeListener&&y.removeListener(S),(w=bs(y))?(Ds(w,c),w.h==0&&(w.src=null,y[Bi]=null)):At(c)}}}function Ar(c){return c in Vs?Vs[c]:Vs[c]="on"+c}function sa(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var w=c.listener,S=c.ha||c.src;c.fa&&xr(c),c=w.call(S,y)}return c}function bs(c){return c=c[Bi],c instanceof Sr?c:null}var Ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function oa(c){return typeof c=="function"?c:(c[Ls]||(c[Ls]=function(y){return c.handleEvent(y)}),c[Ls])}function vt(){Y.call(this),this.i=new Sr(this),this.M=this,this.F=null}R(vt,Y),vt.prototype[Be]=!0,vt.prototype.removeEventListener=function(c,y,w,S){Ns(this,c,y,w,S)};function _t(c,y){var w,S=c.F;if(S)for(w=[];S;S=S.F)w.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ye(y,c);else if(y instanceof ye)y.target=y.target||c;else{var $=y;y=new ye(S,c),b(y,$)}if($=!0,w)for(var G=w.length-1;0<=G;G--){var oe=y.g=w[G];$=Rr(oe,S,!0,y)&&$}if(oe=y.g=c,$=Rr(oe,S,!0,y)&&$,$=Rr(oe,S,!1,y)&&$,w)for(G=0;G<w.length;G++)oe=y.g=w[G],$=Rr(oe,S,!1,y)&&$}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],S=0;S<w.length;S++)At(w[S]);delete c.g[y],c.h--}}this.F=null},vt.prototype.K=function(c,y,w,S){return this.i.add(String(c),y,!1,w,S)},vt.prototype.L=function(c,y,w,S){return this.i.add(String(c),y,!0,w,S)};function Rr(c,y,w,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,G=0;G<y.length;++G){var oe=y[G];if(oe&&!oe.da&&oe.capture==w){var $e=oe.listener,wt=oe.ha||oe.src;oe.fa&&Ds(c.i,oe),$=$e.call(wt,S)!==!1&&$}}return $&&!S.defaultPrevented}function aa(c,y,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Yr(c){c.g=aa(()=>{c.g=null,c.i&&(c.i=!1,Yr(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ui extends Y{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Yr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zi(c){Y.call(this),this.h=c,this.g={}}R(zi,Y);var la=[];function ua(c){ae(c.g,function(y,w){this.g.hasOwnProperty(w)&&xr(y)},c),c.g={}}zi.prototype.N=function(){zi.aa.N.call(this),ua(this)},zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ca=d.JSON.stringify,ha=d.JSON.parse,da=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function $i(){}$i.prototype.h=null;function Ms(c){return c.h||(c.h=c.i())}function Os(){}var An={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){ye.call(this,"d")}R(rr,ye);function Fs(){ye.call(this,"c")}R(Fs,ye);var ir={},fa=null;function qi(){return fa=fa||new vt}ir.La="serverreachability";function pa(c){ye.call(this,ir.La,c)}R(pa,ye);function Pr(c){const y=qi();_t(y,new pa(y))}ir.STAT_EVENT="statevent";function ma(c,y){ye.call(this,ir.STAT_EVENT,c),this.stat=y}R(ma,ye);function ut(c){const y=qi();_t(y,new ma(y,c))}ir.Ma="timingevent";function js(c,y){ye.call(this,ir.Ma,c),this.size=y}R(js,ye);function On(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function Wi(c,y,w,S,$,G){c.info(function(){if(c.g)if(G)for(var oe="",$e=G.split("&"),wt=0;wt<$e.length;wt++){var Le=$e[wt].split("=");if(1<Le.length){var Rt=Le[0];Le=Le[1];var ft=Rt.split("_");oe=2<=ft.length&&ft[1]=="type"?oe+(Rt+"="+Le+"&"):oe+(Rt+"=redacted&")}}else oe=null;else oe=G;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+y+`
`+w+`
`+oe})}function Bs(c,y,w,S,$,G,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+y+`
`+w+`
`+G+" "+oe})}function Fn(c,y,w,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ih(c,w)+(S?" "+S:"")})}function ga(c,y){c.info(function(){return"TIMEOUT: "+y})}Hi.prototype.info=function(){};function Ih(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var S=w[c];if(!(2>S.length)){var $=S[1];if(Array.isArray($)&&!(1>$.length)){var G=$[0];if(G!="noop"&&G!="stop"&&G!="close")for(var oe=1;oe<$.length;oe++)$[oe]=""}}}}return ca(w)}catch{return y}}var Us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function Ki(){}R(Ki,$i),Ki.prototype.g=function(){return new XMLHttpRequest},Ki.prototype.i=function(){return{}},jn=new Ki;function Bn(c,y,w,S){this.j=c,this.i=y,this.l=w,this.R=S||1,this.U=new zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wl}function Wl(){this.i=null,this.g="",this.h=!1}var ya={},zs={};function $s(c,y,w){c.L=1,c.v=ni(gn(y)),c.m=w,c.P=!0,va(c,null)}function va(c,y){c.F=Date.now(),Ke(c),c.A=gn(c.v);var w=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ii(w.i,"t",S),c.C=0,w=c.j.J,c.h=new Wl,c.g=cu(c.j,w?y:null,!c.m),0<c.O&&(c.M=new Ui(E(c.Y,c,c.g),c.O)),y=c.U,w=c.g,S=c.ca;var $="readystatechange";Array.isArray($)||($&&(la[0]=$.toString()),$=la);for(var G=0;G<$.length;G++){var oe=ra(w,$[G],S||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Pr(),Wi(c.i,c.u,c.A,c.l,c.R,c.m)}Bn.prototype.ca=function(c){c=c.target;const y=this.M;y&&rn(c)==3?y.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)e:{const ft=rn(this.g);var y=this.g.Ba();const Cn=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||xa(this.g)))){this.J||ft!=4||y==7||(y==8||0>=Cn?Pr(3):Pr(2)),Gi(this);var w=this.g.Z();this.X=w;t:if(Kl(this)){var S=xa(this.g);c="";var $=S.length,G=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),Jr(this);var oe="";break t}this.h.i=new d.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(G&&y==$-1)});S.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=w==200,Bs(this.i,this.u,this.A,this.l,this.R,ft,w),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,wt=this.g;if(($e=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j($e)){var Le=$e;break t}}Le=null}if(w=Le)Fn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_a(this,w);else{this.o=!1,this.s=3,ut(12),Rn(this),Jr(this);break e}}if(this.P){w=!0;let vn;for(;!this.J&&this.C<oe.length;)if(vn=kh(this,oe),vn==zs){ft==4&&(this.s=4,ut(14),w=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==ya){this.s=4,ut(15),Fn(this.i,this.l,oe,"[Invalid Chunk]"),w=!1;break}else Fn(this.i,this.l,vn,null),_a(this,vn);if(Kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||oe.length!=0||this.h.h||(this.s=1,ut(16),w=!1),this.o=this.o&&w,!w)Fn(this.i,this.l,oe,"[Invalid Chunked Response]"),Rn(this),Jr(this);else if(0<oe.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ra(Rt),Rt.M=!0,ut(11))}}else Fn(this.i,this.l,oe,null),_a(this,oe);ft==4&&Rn(this),this.o&&!this.J&&(ft==4?eo(this.j,this):(this.o=!1,Ke(this)))}else Qs(this.g),w==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Rn(this),Jr(this)}}}catch{}finally{}};function Kl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function kh(c,y){var w=c.C,S=y.indexOf(`
`,w);return S==-1?zs:(w=Number(y.substring(w,S)),isNaN(w)?ya:(S+=1,S+w>y.length?zs:(y=y.slice(S,S+w),c.C=S+w,y)))}Bn.prototype.cancel=function(){this.J=!0,Rn(this)};function Ke(c){c.S=Date.now()+c.I,Gl(c,c.I)}function Gl(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=On(E(c.ba,c),y)}function Gi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Bn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ga(this.i,this.A),this.L!=2&&(Pr(),ut(17)),Rn(this),this.s=2,Jr(this)):Gl(this,this.S-c)};function Jr(c){c.j.G==0||c.J||eo(c.j,c)}function Rn(c){Gi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ua(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function _a(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||Jt(w.h,c))){if(!c.K&&Jt(w.h,c)&&w.G==3){try{var S=w.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Zs(w),Hn(w);else break e;Js(w),ut(18)}}else w.za=$[1],0<w.za-w.T&&37500>$[2]&&w.F&&w.v==0&&!w.C&&(w.C=On(E(w.Za,w),6e3));if(1>=Xl(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Vr(w,11)}else if((c.K||w.g==c)&&Zs(w),!j(y))for($=w.Da.g.parse(y),y=0;y<$.length;y++){let Le=$[y];if(w.T=Le[0],Le=Le[1],w.G==2)if(Le[0]=="c"){w.K=Le[1],w.ia=Le[2];const Rt=Le[3];Rt!=null&&(w.la=Rt,w.j.info("VER="+w.la));const ft=Le[4];ft!=null&&(w.Aa=ft,w.j.info("SVER="+w.Aa));const Cn=Le[5];Cn!=null&&typeof Cn=="number"&&0<Cn&&(S=1.5*Cn,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const vn=c.g;if(vn){const ts=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ts){var G=S.h;G.g||ts.indexOf("spdy")==-1&&ts.indexOf("quic")==-1&&ts.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(wa(G,G.h),G.h=null))}if(S.D){const no=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;no&&(S.ya=no,He(S.I,S.D,no))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var oe=c;if(S.qa=uu(S,S.J?S.ia:null,S.W),oe.K){Yl(S.h,oe);var $e=oe,wt=S.L;wt&&($e.I=wt),$e.B&&(Gi($e),Ke($e)),S.g=oe}else es(S);0<w.i.length&&lr(w)}else Le[0]!="stop"&&Le[0]!="close"||Vr(w,7);else w.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Vr(w,7):bt(w):Le[0]!="noop"&&w.l&&w.l.ta(Le),w.v=0)}}Pr(4)}catch{}}var Ql=class{constructor(c,y){this.g=c,this.map=y}};function Qi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xl(c){return c.h?1:c.g?c.g.size:0}function Jt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function wa(c,y){c.g?c.g.add(y):c.h=y}function Yl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Qi.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return C(c.i)}function qs(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],w=c.length,S=0;S<w;S++)y.push(c[S]);return y}y=[],w=0;for(S in c)y[w++]=c[S];return y}function Hs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const S in c)y[w++]=S;return y}}}function Zr(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=Hs(c),S=qs(c),$=S.length,G=0;G<$;G++)y.call(void 0,S[G],w&&w[G],c)}var Xi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dh(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var S=c[w].indexOf("="),$=null;if(0<=S){var G=c[w].substring(0,S);$=c[w].substring(S+1)}else G=c[w];y(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Cr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Cr){this.h=c.h,Yi(this,c.j),this.o=c.o,this.g=c.g,ei(this,c.s),this.l=c.l;var y=c.i,w=new sr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),ti(this,w),this.m=c.m}else c&&(y=String(c).match(Xi))?(this.h=!1,Yi(this,y[1]||"",!0),this.o=Ve(y[2]||""),this.g=Ve(y[3]||"",!0),ei(this,y[4]),this.l=Ve(y[5]||"",!0),ti(this,y[6]||"",!0),this.m=Ve(y[7]||"")):(this.h=!1,this.i=new sr(null,this.h))}Cr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ri(y,Ws,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ri(y,Ws,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(ri(w,w.charAt(0)=="/"?tu:eu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",ri(w,Ea)),c.join("")};function gn(c){return new Cr(c)}function Yi(c,y,w){c.j=w?Ve(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ei(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ti(c,y,w){y instanceof sr?(c.i=y,or(c.i,c.h)):(w||(y=ri(y,nu)),c.i=new sr(y,c.h))}function He(c,y,w){c.i.set(y,w)}function ni(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ri(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,Zl),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Zl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ws=/[#\/\?@]/g,eu=/[#\?:]/g,tu=/[#\?]/g,nu=/[#\?@]/g,Ea=/#/g;function sr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nt(c){c.g||(c.g=new Map,c.h=0,c.i&&Dh(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=sr.prototype,t.add=function(c,y){Nt(this),this.i=null,c=Pn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Un(c,y){Nt(c),y=Pn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function zn(c,y){return Nt(c),y=Pn(c,y),c.g.has(y)}t.forEach=function(c,y){Nt(this),this.g.forEach(function(w,S){w.forEach(function($){c.call(y,$,S,this)},this)},this)},t.na=function(){Nt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let S=0;S<y.length;S++){const $=c[S];for(let G=0;G<$.length;G++)w.push(y[S])}return w},t.V=function(c){Nt(this);let y=[];if(typeof c=="string")zn(this,c)&&(y=y.concat(this.g.get(Pn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},t.set=function(c,y){return Nt(this),this.i=null,c=Pn(this,c),zn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ii(c,y,w){Un(c,y),0<w.length&&(c.i=null,c.g.set(Pn(c,y),C(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var S=y[w];const G=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var $=G;oe[S]!==""&&($+="="+encodeURIComponent(String(oe[S]))),c.push($)}}return this.i=c.join("&")};function Pn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function or(c,y){y&&!c.j&&(Nt(c),c.i=null,c.g.forEach(function(w,S){var $=S.toLowerCase();S!=$&&(Un(this,S),ii(this,$,w))},c)),c.j=y}function Vh(c,y){const w=new Hi;if(d.Image){const S=new Image;S.onload=x(nn,w,"TestLoadImage: loaded",!0,y,S),S.onerror=x(nn,w,"TestLoadImage: error",!1,y,S),S.onabort=x(nn,w,"TestLoadImage: abort",!1,y,S),S.ontimeout=x(nn,w,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function ru(c,y){const w=new Hi,S=new AbortController,$=setTimeout(()=>{S.abort(),nn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout($),G.ok?nn(w,"TestPingServer: ok",!0,y):nn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),nn(w,"TestPingServer: error",!1,y)})}function nn(c,y,w,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(w)}catch{}}function Nh(){this.g=new da}function iu(c,y,w){const S=w||"";try{Zr(c,function($,G){let oe=$;p($)&&(oe=ca($)),y.push(S+G+"="+encodeURIComponent(oe))})}catch($){throw y.push(S+"type="+encodeURIComponent("_badmap")),$}}function Ir(c){this.l=c.Ub||null,this.j=c.eb||!1}R(Ir,$i),Ir.prototype.g=function(){return new Ji(this.l,this.j)},Ir.prototype.i=function(c){return function(){return c}}({});function Ji(c,y){vt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ji,vt),t=Ji.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,qn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;su(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function su(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?$n(this):qn(this),this.readyState==3&&su(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},t.Qa=function(c){this.g&&(this.response=c,$n(this))},t.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,qn(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kr(c){let y="";return ae(c,function(w,S){y+=S,y+=":",y+=w,y+=`\r
`}),y}function si(c,y,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=kr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):He(c,y,w))}function Ze(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ze,vt);var bh=/^https?$/i,Ta=["POST","PUT"];t=Ze.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?Ms(this.o):Ms(jn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Zi(this,G);return}if(c=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)w.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())w.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),$=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ta,y,void 0))||S||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of w)this.g.setRequestHeader(G,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gs(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Zi(this,G)}};function Zi(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ks(c),yn(c)}function Ks(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),yn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yn(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},t.bb=function(){Sa(this)};function Sa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||rn(c)!=4||c.Z()!=2)){if(c.u&&rn(c)==4)aa(c.Ea,0,c);else if(_t(c,"readystatechange"),rn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var S;if(S=oe===0){var $=String(c.D).match(Xi)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),S=!bh.test($?$.toLowerCase():"")}w=S}if(w)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var G=2<rn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Ks(c)}}finally{yn(c)}}}}function yn(c,y){if(c.g){Gs(c);const w=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||_t(c,"ready");try{w.onreadystatechange=S}catch{}}}function Gs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function rn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ha(y)}};function xa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qs(c){const y={};c=(c.g&&2<=rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(j(c[S]))continue;var w=O(c[S]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=y[$]||[];y[$]=G,G.push(w)}V(y,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function Aa(c){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ar("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ar("baseRetryDelayMs",5e3,c),this.cb=ar("retryDelaySeedMs",1e4,c),this.Wa=ar("forwardChannelMaxRetries",2,c),this.wa=ar("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qi(c&&c.concurrentRequestLimit),this.Da=new Nh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Aa.prototype,t.la=8,t.G=1,t.connect=function(c,y,w,S){ut(0),this.W=c,this.H=y||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=uu(this,null,this.W),lr(this)};function bt(c){if(Xs(c),c.G==3){var y=c.U++,w=gn(c.I);if(He(w,"SID",c.K),He(w,"RID",y),He(w,"TYPE","terminate"),Dr(c,w),y=new Bn(c,c.j,y),y.L=2,y.v=ni(gn(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=y.v,w=!0),w||(y.g=cu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ke(y)}lu(c)}function Hn(c){c.g&&(Ra(c),c.g.cancel(),c.g=null)}function Xs(c){Hn(c),c.u&&(d.clearTimeout(c.u),c.u=null),Zs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function lr(c){if(!mn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ae||le(),se||(Ae(),se=!0),ge.add(y,c),c.B=0}}function Lh(c,y){return Xl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=On(E(c.Ga,c,y),au(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new Bn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=A(G),b(G,this.S)):G=this.S),this.m!==null||this.O||($.H=G,G=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=oi(this,$,y),w=gn(this.I),He(w,"RID",c),He(w,"CVER",22),this.D&&He(w,"X-HTTP-Session-Id",this.D),Dr(this,w),G&&(this.O?y="headers="+encodeURIComponent(String(kr(G)))+"&"+y:this.m&&si(w,this.m,G)),wa(this.h,$),this.Ua&&He(w,"TYPE","init"),this.P?(He(w,"$req",y),He(w,"SID","null"),$.T=!0,$s($,w,null)):$s($,w,y),this.G=2}}else this.G==3&&(c?Ys(this,c):this.i.length==0||mn(this.h)||Ys(this))};function Ys(c,y){var w;y?w=y.l:w=c.U++;const S=gn(c.I);He(S,"SID",c.K),He(S,"RID",w),He(S,"AID",c.T),Dr(c,S),c.m&&c.o&&si(S,c.m,c.o),w=new Bn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=oi(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wa(c.h,w),$s(w,S,y)}function Dr(c,y){c.H&&ae(c.H,function(w,S){He(y,S,w)}),c.l&&Zr({},function(w,S){He(y,S,w)})}function oi(c,y,w){w=Math.min(c.i.length,w);var S=c.l?E(c.l.Na,c.l,c):null;e:{var $=c.i;let G=-1;for(;;){const oe=["count="+w];G==-1?0<w?(G=$[0].g,oe.push("ofs="+G)):G=0:oe.push("ofs="+G);let $e=!0;for(let wt=0;wt<w;wt++){let Le=$[wt].g;const Rt=$[wt].map;if(Le-=G,0>Le)G=Math.max(0,$[wt].g-100),$e=!1;else try{iu(Rt,oe,"req"+Le+"_")}catch{S&&S(Rt)}}if($e){S=oe.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,S}function es(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ae||le(),se||(Ae(),se=!0),ge.add(y,c),c.v=0}}function Js(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=On(E(c.Fa,c),au(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=On(E(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Hn(this),ou(this))};function Ra(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function ou(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=gn(c.qa);He(y,"RID","rpc"),He(y,"SID",c.K),He(y,"AID",c.T),He(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(y,"TO",c.ja),He(y,"TYPE","xmlhttp"),Dr(c,y),c.m&&c.o&&si(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=ni(gn(y)),w.m=null,w.P=!0,va(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Hn(this),Js(this),ut(19))};function Zs(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function eo(c,y){var w=null;if(c.g==y){Zs(c),Ra(c),c.g=null;var S=2}else if(Jt(c.h,y))w=y.D,Yl(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var $=c.B;S=qi(),_t(S,new js(S,w)),lr(c)}else es(c);else if($=y.s,$==3||$==0&&0<y.X||!(S==1&&Lh(c,y)||S==2&&Js(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),$){case 1:Vr(c,5);break;case 4:Vr(c,10);break;case 3:Vr(c,6);break;default:Vr(c,2)}}}function au(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function Vr(c,y){if(c.j.info("Error code "+y),y==2){var w=E(c.fb,c),S=c.Xa;const $=!S;S=new Cr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Yi(S,"https"),ni(S),$?Vh(S.toString(),w):ru(S.toString(),w)}else ut(2);c.G=0,c.l&&c.l.sa(y),lu(c),Xs(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function lu(c){if(c.G=0,c.ka=[],c.l){const y=Jl(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,C(c.i),c.i.length=0),c.l.ra()}}function uu(c,y,w){var S=w instanceof Cr?gn(w):new Cr(w);if(S.g!="")y&&(S.g=y+"."+S.g),ei(S,S.s);else{var $=d.location;S=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var G=new Cr(null);S&&Yi(G,S),y&&(G.g=y),$&&ei(G,$),w&&(G.l=w),S=G}return w=c.D,y=c.ya,w&&y&&He(S,w,y),He(S,"VER",c.la),Dr(c,S),S}function cu(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ze(new Ir({eb:w})):new Ze(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pa(){}t=Pa.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function to(){}to.prototype.g=function(c,y){return new Zt(c,y)};function Zt(c,y){vt.call(this),this.g=new Aa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!j(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!j(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ur(this)}R(Zt,vt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){bt(this.g)},Zt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=ca(c),c=w);y.i.push(new Ql(y.Ya++,c)),y.G==3&&lr(y)},Zt.prototype.N=function(){this.g.l=null,delete this.j,bt(this.g),delete this.g,Zt.aa.N.call(this)};function hu(c){rr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}R(hu,rr);function du(){Fs.call(this),this.status=1}R(du,Fs);function ur(c){this.g=c}R(ur,Pa),ur.prototype.ua=function(){_t(this.g,"a")},ur.prototype.ta=function(c){_t(this.g,new hu(c))},ur.prototype.sa=function(c){_t(this.g,new du)},ur.prototype.ra=function(){_t(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,JE=function(){return new to},YE=function(){return qi()},XE=ir,ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,Ec=Us,Hl.COMPLETE="complete",QE=Hl,Os.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",vt.prototype.listen=vt.prototype.K,il=Os,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,GE=Ze}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const U0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new UE("@firebase/firestore");function xo(){return Rs.logLevel}function ce(t,...e){if(Rs.logLevel<=Oe.DEBUG){const n=e.map(ym);Rs.debug(`Firestore (${Xo}): ${t}`,...n)}}function Kr(t,...e){if(Rs.logLevel<=Oe.ERROR){const n=e.map(ym);Rs.error(`Firestore (${Xo}): ${t}`,...n)}}function Fo(t,...e){if(Rs.logLevel<=Oe.WARN){const n=e.map(ym);Rs.warn(`Firestore (${Xo}): ${t}`,...n)}}function ym(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: `+t;throw Kr(e),new Error(e)}function ze(t,e){t||Se()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Qo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class CD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ID{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let r=this.i;const o=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ss,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ss)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new ZE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Kt(e)}}class kD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class DD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new kD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ND{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new VD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=bD(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function jo(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new St(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new St(0,0))}static max(){return new xe(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Tl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=e.get(o),u=n.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends Tl{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const LD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Tl{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return LD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Ye.fromString(e))}static fromName(e){return new ve(Ye.fromString(e).popFirst(5))}static empty(){return new ve(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Ye(e.slice()))}}function MD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(r===1e9?new St(n+1,0):new St(n,r));return new Di(o,ve.empty(),e)}function OD(t){return new Di(t.readTime,t.key,-1)}class Di{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Di(xe.min(),ve.empty(),-1)}static max(){return new Di(xe.max(),ve.empty(),-1)}}function FD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==jD)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let o=0,a=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++a,u&&a===o&&n()},f=>r(f))}),u=!0,a===o&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(o=>o?X.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,a)=>{r.push(n.call(this,o,a))}),this.waitFor(r)}static mapArray(e,n){return new X((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(g=>{u[p]=g,++d,d===a&&r(u)},g=>o(g))}})}static doWhile(e,n){return new X((r,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):r()};a()})}}function UD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ah.oe=-1;function lh(t){return t==null}function Uc(t){return t===0&&1/t==-1/0}function zD(t){return typeof t=="number"&&Number.isInteger(t)&&!Uc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=z0(e)),e=qD(t.get(n),e);return z0(e)}function qD(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function z0(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=o??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new Ft(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,o,a){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(e){return new q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new xt(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new nT("Invalid base64 string: "+a):a}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const HD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(t){if(ze(!!t),typeof t=="string"){let e=0;const n=HD.exec(t);if(ze(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ni(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uh(t){const e=t.mapValue.fields.__previous_value__;return vm(e)?uh(e):e}function Sl(t){const e=Vi(t.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n,r,o,a,u,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p}}class xl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vm(t)?4:GD(t)?9007199254740991:KD(t)?10:11:Se()}function Er(t,e){if(t===e)return!0;const n=bi(t);if(n!==bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sl(t).isEqual(Sl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Vi(o.timestampValue),d=Vi(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return Ni(o.bytesValue).isEqual(Ni(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return dt(o.geoPointValue.latitude)===dt(a.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return dt(o.integerValue)===dt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=dt(o.doubleValue),d=dt(a.doubleValue);return u===d?Uc(u)===Uc(d):isNaN(u)&&isNaN(d)}return!1}(t,e);case 9:return jo(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if($0(u)!==$0(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Er(u[f],d[f])))return!1;return!0}(t,e);default:return Se()}}function Al(t,e){return(t.values||[]).find(n=>Er(n,e))!==void 0}function Bo(t,e){if(t===e)return 0;const n=bi(t),r=bi(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(a,u){const d=dt(a.integerValue||a.doubleValue),f=dt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(t,e);case 3:return H0(t.timestampValue,e.timestampValue);case 4:return H0(Sl(t),Sl(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(a,u){const d=Ni(a),f=Ni(u);return d.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const g=Ne(d[p],f[p]);if(g!==0)return g}return Ne(d.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Ne(dt(a.latitude),dt(u.latitude));return d!==0?d:Ne(dt(a.longitude),dt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return W0(t.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,p,g;const _=a.fields||{},E=u.fields||{},x=(d=_.value)===null||d===void 0?void 0:d.arrayValue,R=(f=E.value)===null||f===void 0?void 0:f.arrayValue,C=Ne(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0);return C!==0?C:W0(x,R)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===dc.mapValue&&u===dc.mapValue)return 0;if(a===dc.mapValue)return 1;if(u===dc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const E=Ne(f[_],g[_]);if(E!==0)return E;const x=Bo(d[f[_]],p[g[_]]);if(x!==0)return x}return Ne(f.length,g.length)}(t.mapValue,e.mapValue);default:throw Se()}}function H0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Vi(t),r=Vi(e),o=Ne(n.seconds,r.seconds);return o!==0?o:Ne(n.nanos,r.nanos)}function W0(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=Bo(n[o],r[o]);if(a)return a}return Ne(n.length,r.length)}function Uo(t){return lp(t)}function lp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=lp(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${lp(n.fields[u])}`;return o+"}"}(t.mapValue):Se()}function Tc(t){switch(bi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uh(t);return e?16+Tc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ni(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Tc(a),0)}(t.arrayValue);case 10:case 11:return function(r){let o=0;return Fi(r.fields,(a,u)=>{o+=a.length+Tc(u)}),o}(t.mapValue);default:throw Se()}}function K0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function up(t){return!!t&&"integerValue"in t}function _m(t){return!!t&&"arrayValue"in t}function G0(t){return!!t&&"nullValue"in t}function Q0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sc(t){return!!t&&"mapValue"in t}function KD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function hl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hl(n)}setAll(e){let n=jt.emptyPath(),r={},o=[];e.forEach((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,o),r={},o=[],n=d.popLast()}u?r[d.lastSegment()]=hl(u):o.push(d.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());Sc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Sc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Fi(n,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new dn(hl(this.value))}}function rT(t){const e=[];return Fi(t.fields,(n,r)=>{const o=new jt([n]);if(Sc(r)){const a=rT(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,o,a,u,d){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Gt(e,0,xe.min(),xe.min(),xe.min(),dn.empty(),0)}static newFoundDocument(e,n,r,o){return new Gt(e,1,n,xe.min(),r,o,0)}static newNoDocument(e,n){return new Gt(e,2,n,xe.min(),xe.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,xe.min(),xe.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n){this.position=e,this.inclusive=n}}function X0(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?r=ve.comparator(ve.fromName(u.referenceValue),n.key):r=Bo(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n="asc"){this.field=e,this.dir=n}}function QD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{}class gt extends iT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YD(e,n,r):n==="array-contains"?new eV(e,r):n==="in"?new tV(e,r):n==="not-in"?new nV(e,r):n==="array-contains-any"?new rV(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new JD(e,r):new ZD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bo(n,this.value)):n!==null&&bi(this.value)===bi(n)&&this.matchesComparison(Bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends iT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new er(e,n)}matches(e){return sT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sT(t){return t.op==="and"}function oT(t){return XD(t)&&sT(t)}function XD(t){for(const e of t.filters)if(e instanceof er)return!1;return!0}function cp(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+Uo(t.value);if(oT(t))return t.filters.map(e=>cp(e)).join(",");{const e=t.filters.map(n=>cp(n)).join(",");return`${t.op}(${e})`}}function aT(t,e){return t instanceof gt?function(r,o){return o instanceof gt&&r.op===o.op&&r.field.isEqual(o.field)&&Er(r.value,o.value)}(t,e):t instanceof er?function(r,o){return o instanceof er&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,d)=>a&&aT(u,o.filters[d]),!0):!1}(t,e):void Se()}function lT(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Uo(n.value)}`}(t):t instanceof er?function(n){return n.op.toString()+" {"+n.getFilters().map(lT).join(" ,")+"}"}(t):"Filter"}class YD extends gt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class JD extends gt{constructor(e,n){super(e,"in",n),this.keys=uT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZD extends gt{constructor(e,n){super(e,"not-in",n),this.keys=uT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class eV extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _m(n)&&Al(n.arrayValue,this.value)}}class tV extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Al(this.value.arrayValue,n)}}class nV extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Al(this.value.arrayValue,n)}}class rV extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_m(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Al(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.ue=null}}function J0(t,e=null,n=[],r=[],o=null,a=null,u=null){return new iV(t,e,n,r,o,a,u)}function wm(t){const e=Re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uo(r)).join(",")),e.ue=n}return e.ue}function Em(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y0(t.startAt,e.startAt)&&Y0(t.endAt,e.endAt)}function hp(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n=null,r=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function sV(t,e,n,r,o,a,u,d){return new Ml(t,e,n,r,o,a,u,d)}function Tm(t){return new Ml(t)}function Z0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cT(t){return t.collectionGroup!==null}function dl(t){const e=Re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new xt(jt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new $c(a,r))}),n.has(jt.keyField().canonicalString())||e.ce.push(new $c(jt.keyField(),r))}return e.ce}function yr(t){const e=Re(t);return e.le||(e.le=oV(e,dl(t))),e.le}function oV(t,e){if(t.limitType==="F")return J0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new $c(o.field,a)});const n=t.endAt?new zc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zc(t.startAt.position,t.startAt.inclusive):null;return J0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dp(t,e){const n=t.filters.concat([e]);return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fp(t,e,n){return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ch(t,e){return Em(yr(t),yr(e))&&t.limitType===e.limitType}function hT(t){return`${wm(yr(t))}|lt:${t.limitType}`}function Ao(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>lT(o)).join(", ")}]`),lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>Uo(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>Uo(o)).join(",")),`Target(${r})`}(yr(t))}; limitType=${t.limitType})`}function hh(t,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,o){for(const a of dl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(u,d,f){const p=X0(u,d,f);return u.inclusive?p<=0:p<0}(r.startAt,dl(r),o)||r.endAt&&!function(u,d,f){const p=X0(u,d,f);return u.inclusive?p>=0:p>0}(r.endAt,dl(r),o))}(t,e)}function aV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dT(t){return(e,n)=>{let r=!1;for(const o of dl(t)){const a=lV(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function lV(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?Bo(f,p):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(n,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new st(ve.comparator);function Gr(){return uV}const fT=new st(ve.comparator);function sl(...t){let e=fT;for(const n of t)e=e.insert(n.key,n);return e}function pT(t){let e=fT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _s(){return fl()}function mT(){return fl()}function fl(){return new Is(t=>t.toString(),(t,e)=>t.isEqual(e))}const cV=new st(ve.comparator),hV=new xt(ve.comparator);function De(...t){let e=hV;for(const n of t)e=e.add(n);return e}const dV=new xt(Ne);function fV(){return dV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(e)?"-0":e}}function gT(t){return{integerValue:""+t}}function pV(t,e){return zD(e)?gT(e):Sm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function mV(t,e,n){return t instanceof qc?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&vm(a)&&(a=uh(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(n,e):t instanceof Rl?vT(t,e):t instanceof Pl?_T(t,e):function(o,a){const u=yT(o,a),d=e_(u)+e_(o.Pe);return up(u)&&up(o.Pe)?gT(d):Sm(o.serializer,d)}(t,e)}function gV(t,e,n){return t instanceof Rl?vT(t,e):t instanceof Pl?_T(t,e):n}function yT(t,e){return t instanceof Hc?function(r){return up(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class qc extends dh{}class Rl extends dh{constructor(e){super(),this.elements=e}}function vT(t,e){const n=wT(e);for(const r of t.elements)n.some(o=>Er(o,r))||n.push(r);return{arrayValue:{values:n}}}class Pl extends dh{constructor(e){super(),this.elements=e}}function _T(t,e){let n=wT(e);for(const r of t.elements)n=n.filter(o=>!Er(o,r));return{arrayValue:{values:n}}}class Hc extends dh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function e_(t){return dt(t.integerValue||t.doubleValue)}function wT(t){return _m(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function yV(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof Rl&&o instanceof Rl||r instanceof Pl&&o instanceof Pl?jo(r.elements,o.elements,Er):r instanceof Hc&&o instanceof Hc?Er(r.Pe,o.Pe):r instanceof qc&&o instanceof qc}(t.transform,e.transform)}class vV{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fh{}function ET(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ST(t.key,vr.none()):new Ol(t.key,t.data,vr.none());{const n=t.data,r=dn.empty();let o=new xt(jt.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new ji(t.key,r,new Tn(o.toArray()),vr.none())}}function _V(t,e,n){t instanceof Ol?function(o,a,u){const d=o.value.clone(),f=n_(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(o,a,u){if(!xc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=n_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(TT(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function pl(t,e,n,r){return t instanceof Ol?function(a,u,d,f){if(!xc(a.precondition,u))return d;const p=a.value.clone(),g=r_(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof ji?function(a,u,d,f){if(!xc(a.precondition,u))return d;const p=r_(a.fieldTransforms,f,u),g=u.data;return g.setAll(TT(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,u,d){return xc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(t,e,n)}function wV(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=yT(r.transform,o||null);a!=null&&(n===null&&(n=dn.empty()),n.set(r.field,a))}return n||null}function t_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&jo(r,o,(a,u)=>yV(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ol extends fh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ji extends fh{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function TT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function n_(t,e,n){const r=new Map;ze(t.length===n.length);for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,gV(u,d,n[o]))}return r}function r_(t,e,n){const r=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);r.set(o.field,mV(a,u,e))}return r}class ST extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EV extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&_V(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mT();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=n.has(o.key)?null:d;const f=ET(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(n,r)=>t_(n,r))&&jo(this.baseMutations,e.baseMutations,(n,r)=>t_(n,r))}}class xm{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){ze(e.mutations.length===r.length);let o=function(){return cV}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new xm(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Me;function AV(t){switch(t){default:return Se();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function xT(t){if(t===void 0)return Kr("GRPC error has no .code"),J.UNKNOWN;switch(t){case mt.OK:return J.OK;case mt.CANCELLED:return J.CANCELLED;case mt.UNKNOWN:return J.UNKNOWN;case mt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case mt.INTERNAL:return J.INTERNAL;case mt.UNAVAILABLE:return J.UNAVAILABLE;case mt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case mt.NOT_FOUND:return J.NOT_FOUND;case mt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case mt.ABORTED:return J.ABORTED;case mt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case mt.DATA_LOSS:return J.DATA_LOSS;default:return Se()}}(Me=mt||(mt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=new Ts([4294967295,4294967295],0);function i_(t){const e=RV().encode(t),n=new KE;return n.update(e),new Uint8Array(n.digest())}function s_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ts([n,r],0),new Ts([o,a],0)]}class Am{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ol(`Invalid padding: ${n}`);if(r<0)throw new ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ol(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Ts.fromNumber(this.Te)}Ee(e,n,r){let o=e.add(n.multiply(Ts.fromNumber(r)));return o.compare(PV)===1&&(o=new Ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=i_(e),[r,o]=s_(n);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,o,a);if(!this.de(u))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Am(a,o,n);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.Te===0)return;const n=i_(e),[r,o]=s_(n);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,o,a);this.Ae(u)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ph(xe.min(),o,new st(Ne),Gr(),De())}}class Fl{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fl(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class AT{constructor(e,n){this.targetId=e,this.me=n}}class RT{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class o_{constructor(){this.fe=0,this.ge=a_(),this.pe=Bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),n=De(),r=De();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Se()}}),new Fl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=a_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class CV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gr(),this.qe=fc(),this.Qe=fc(),this.Ke=new st(Ne)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,o)=>{this.je(o)&&n(o)})}Je(e){const n=e.targetId,r=e.me.count,o=this.Ye(n);if(o){const a=o.target;if(hp(a))if(r===0){const u=new ve(a.path);this.We(n,u,Gt.newNoDocument(u,xe.min()))}else ze(r===1);else{const u=this.Ze(n);if(u!==r){const d=this.Xe(e),f=d?this.et(d,e,u):1;if(f!==0){this.He(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let u,d;try{u=Ni(r).toUint8Array()}catch(f){if(f instanceof nT)return Fo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Am(u,o,a)}catch(f){return Fo(f instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Te===0?null:d}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach(a=>{const u=this.Le.nt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(n,a,null),o++)}),o}it(e){const n=new Map;this.Be.forEach((a,u)=>{const d=this.Ye(u);if(d){if(a.current&&hp(d.target)){const f=new ve(d.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,Gt.newNoDocument(f,e))}a.be&&(n.set(u,a.ve()),a.Ce())}});let r=De();this.Qe.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const p=this.Ye(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new ph(e,n,this.Ke,this.ke,r);return this.ke=Gr(),this.qe=fc(),this.Qe=fc(),this.Ke=new st(Ne),o}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const o=this.ze(e);this.ot(e,n)?o.Fe(n,1):o.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new o_,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new xt(Ne),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new xt(Ne),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new o_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function fc(){return new st(ve.comparator)}function a_(){return new st(ve.comparator)}const IV={asc:"ASCENDING",desc:"DESCENDING"},kV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DV={and:"AND",or:"OR"};class VV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pp(t,e){return t.useProto3Json||lh(e)?e:{value:e}}function Wc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NV(t,e){return Wc(t,e.toTimestamp())}function _r(t){return ze(!!t),xe.fromTimestamp(function(n){const r=Vi(n);return new St(r.seconds,r.nanos)}(t))}function Rm(t,e){return mp(t,e).canonicalString()}function mp(t,e){const n=function(o){return new Ye(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CT(t){const e=Ye.fromString(t);return ze(NT(e)),e}function gp(t,e){return Rm(t.databaseId,e.path)}function Cf(t,e){const n=CT(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(kT(n))}function IT(t,e){return Rm(t.databaseId,e)}function bV(t){const e=CT(t);return e.length===4?Ye.emptyPath():kT(e)}function yp(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kT(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function l_(t,e,n){return{name:gp(t,e),fields:n.value.mapValue.fields}}function LV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(ze(g===void 0||typeof g=="string"),Bt.fromBase64String(g||"")):(ze(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Bt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const g=p.code===void 0?J.UNKNOWN:xT(p.code);return new fe(g,p.message||"")}(u);n=new RT(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Cf(t,r.document.name),a=_r(r.document.updateTime),u=r.document.createTime?_r(r.document.createTime):xe.min(),d=new dn({mapValue:{fields:r.document.fields}}),f=Gt.newFoundDocument(o,a,u,d),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Ac(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Cf(t,r.document),a=r.readTime?_r(r.readTime):xe.min(),u=Gt.newNoDocument(o,a),d=r.removedTargetIds||[];n=new Ac([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Cf(t,r.document),a=r.removedTargetIds||[];n=new Ac([],a,o,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new xV(o,a),d=r.targetId;n=new AT(d,u)}}return n}function MV(t,e){let n;if(e instanceof Ol)n={update:l_(t,e.key,e.value)};else if(e instanceof ST)n={delete:gp(t,e.key)};else if(e instanceof ji)n={update:l_(t,e.key,e.data),updateMask:HV(e.fieldMask)};else{if(!(e instanceof EV))return Se();n={verify:gp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof qc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Rl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Pl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Hc)return{fieldPath:u.field.canonicalString(),increment:d.Pe};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:NV(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se()}(t,e.precondition)),n}function OV(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(o,a){let u=o.updateTime?_r(o.updateTime):_r(a);return u.isEqual(xe.min())&&(u=_r(a)),new vV(u,o.transformResults||[])}(n,e))):[]}function FV(t,e){return{documents:[IT(t,e.path)]}}function jV(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IT(t,o);const a=function(p){if(p.length!==0)return VT(er.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:Ro(E.field),direction:zV(E.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=pp(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:n,parent:o}}function BV(t){let e=bV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){ze(r===1);const g=n.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const E=DT(_);return E instanceof er&&oT(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(E=>function(R){return new $c(Po(R.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(n.orderBy));let d=null;n.limit&&(d=function(_){let E;return E=typeof _=="object"?_.value:_,lh(E)?null:E}(n.limit));let f=null;n.startAt&&(f=function(_){const E=!!_.before,x=_.values||[];return new zc(x,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,x=_.values||[];return new zc(x,E)}(n.endAt)),sV(e,o,u,a,d,"F",f,p)}function UV(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Po(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Po(n.unaryFilter.field);return gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Po(n.unaryFilter.field);return gt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Po(n.unaryFilter.field);return gt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(Po(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return er.create(n.compositeFilter.filters.map(r=>DT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function zV(t){return IV[t]}function $V(t){return kV[t]}function qV(t){return DV[t]}function Ro(t){return{fieldPath:t.canonicalString()}}function Po(t){return jt.fromServerFormat(t.fieldPath)}function VT(t){return t instanceof gt?function(n){if(n.op==="=="){if(Q0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(G0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(G0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:$V(n.op),value:n.value}}}(t):t instanceof er?function(n){const r=n.getFilters().map(o=>VT(o));return r.length===1?r[0]:{compositeFilter:{op:qV(n.op),filters:r}}}(t):Se()}function HV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n,r,o,a=xe.min(),u=xe.min(),d=Bt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.ht=e}}function KV(t){const e=BV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.ln=new QV}addToCollectionParentIndex(e,n){return this.ln.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Di.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class QV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new xt(Ye.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new xt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new zo(0)}static Qn(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_([t,e],[n,r]){const o=Ne(t,n);return o===0?Ne(e,r):o}class XV{constructor(e){this.Gn=e,this.buffer=new xt(c_),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();c_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jo(n)?ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Yn(3e5)})}}class JV{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return X.resolve(ah.oe);const r=new XV(n);return this.Zn.forEachTarget(e,o=>r.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>r.Hn(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(u_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u_):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,o,a,u,d,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,u=Date.now(),this.nthSequenceNumber(e,o))).next(_=>(r=_,d=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),xo()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:_})))}}function ZV(t,e){return new JV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.changes=new Is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&pl(r.mutation,o,Tn.empty(),St.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const o=_s();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(a=>{let u=sl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=_s();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const o=[];return r.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,d)=>{n.set(u,d)})})}computeViews(e,n,r,o){let a=Gr();const u=fl(),d=function(){return fl()}();return n.forEach((f,p)=>{const g=r.get(p.key);o.has(p.key)&&(g===void 0||g.mutation instanceof ji)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),pl(g.mutation,p,g.mutation.getFieldMask(),St.now())):u.set(p.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>u.set(p,g)),n.forEach((p,g)=>{var _;return d.set(p,new t2(g,(_=u.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,n){const r=fl();let o=new st((u,d)=>u-d),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const d of u)d.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||Tn.empty();g=d.applyToLocalView(p,g),r.set(f,g);const _=(o.get(d.batchId)||De()).add(f);o=o.insert(d.batchId,_)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,g=f.value,_=mT();g.forEach(E=>{if(!a.has(E)){const x=ET(n.get(E),r.get(E));x!==null&&_.set(E,x),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):X.resolve(_s());let d=-1,f=a;return u.next(p=>X.forEach(p,(g,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),a.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,De())).next(g=>({batchId:d,changes:pT(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let o=sl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let u=sl();return this.indexManager.getCollectionParents(e,a).next(d=>X.forEach(d,f=>{const p=function(_,E){return new Ml(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next(g=>{g.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o))).next(u=>{a.forEach((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Gt.newInvalidDocument(g)))});let d=sl();return u.forEach((f,p)=>{const g=a.get(f);g!==void 0&&pl(g.mutation,p,Tn.empty(),St.now()),hh(n,p)&&(d=d.insert(f,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return X.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(o){return{name:o.name,query:KV(o.bundledQuery),readTime:_r(o.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.overlays=new st(ve.comparator),this.Er=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_s();return X.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,a)=>{this.Tt(e,n,a)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Er.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const o=_s(),a=n.length+1,u=new ve(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return X.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new st((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=_s(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=_s(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>d.set(p,g)),!(d.size()>=o)););return X.resolve(d)}Tt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Er.get(o.largestBatchId).delete(r.key);this.Er.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new SV(n,r));let a=this.Er.get(n);a===void 0&&(a=De(),this.Er.set(n,a)),this.Er.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.dr=new xt(kt.Ar),this.Rr=new xt(kt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new kt(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new kt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new ve(new Ye([])),r=new kt(n,e),o=new kt(n,e+1),a=[];return this.Rr.forEachInRange([r,o],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ve(new Ye([])),r=new kt(n,e),o=new kt(n,e+1);let a=De();return this.Rr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new kt(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ve.comparator(e.key,n.key)||Ne(e.br,n.br)}static Vr(e,n){return Ne(e.br,n.br)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new xt(kt.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new TV(a,n,r,o);this.mutationQueue.push(u);for(const d of o)this.vr=this.vr.add(new kt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,n){return X.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Fr(r),a=o<0?0:o;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,o],u=>{const d=this.Cr(u.br);a.push(d)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(Ne);return n.forEach(o=>{const a=new kt(o,0),u=new kt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],d=>{r=r.add(d.br)})}),X.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;ve.isDocumentKey(a)||(a=a.child(""));const u=new kt(new ve(a),0);let d=new xt(Ne);return this.vr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(d=d.add(f.br)),!0)},u),X.resolve(this.Mr(d))}Mr(e){const n=[];return e.forEach(r=>{const o=this.Cr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ze(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return X.forEach(n.mutations,o=>{const a=new kt(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new kt(n,0),o=this.vr.firstAfterOrEqual(r);return X.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.Nr=e,this.docs=function(){return new st(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,u=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=Gr();return n.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Gt.newInvalidDocument(o))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=Gr();const u=n.path,d=new ve(u.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||FD(OD(g),r)<=0||(o.has(g.key)||hh(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,n,r,o){Se()}Lr(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new l2(this)}getSize(e){return X.resolve(this.size)}}class l2 extends e2{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.hr.addEntry(e,o)):this.hr.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.persistence=e,this.Br=new Is(n=>wm(n),Em),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Pm,this.targetCount=0,this.Qr=zo.qn()}forEachTarget(e,n){return this.Br.forEach((r,o)=>n(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),X.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Un(n),X.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.Br.forEach((u,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),X.waitFor(a).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n){this.Kr={},this.overlays={},this.$r=new ah(0),this.Ur=!1,this.Ur=!0,this.Wr=new s2,this.referenceDelegate=e(this),this.Gr=new u2(this),this.indexManager=new GV,this.remoteDocumentCache=function(o){return new a2(o)}(r=>this.referenceDelegate.zr(r)),this.serializer=new WV(n),this.jr=new r2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new i2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new o2(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const o=new c2(this.$r.next());return this.referenceDelegate.Hr(),r(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,n){return X.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class c2 extends BD{constructor(e){super(),this.currentSequenceNumber=e}}class Cm{constructor(e){this.persistence=e,this.Zr=new Pm,this.Xr=null}static ei(e){return new Cm(e)}get ti(){if(this.Xr)return this.Xr;throw Se()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),X.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(o=>this.ti.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,r=>{const o=ve.fromPath(r);return this.ni(e,o).next(a=>{a||n.removeEntry(o,xe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return X.or([()=>X.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Kc{constructor(e,n){this.persistence=e,this.ri=new Is(r=>$D(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=ZV(this,n)}static ei(e,n){return new Kc(e,n)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return X.forEach(this.ri,(r,o)=>this.ir(e,r,o).next(a=>a?X.resolve():n(o)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,u=>this.ir(e,u,n).next(d=>{d||(r++,a.removeEntry(u,xe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),X.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tc(e.data.value)),n}ir(e,n,r){return X.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.ri.get(n);return X.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=o}static zi(e,n){let r=De(),o=De();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Im(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return uk()?8:UD(ak())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.Xi(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,n,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new h2;return this.ts(e,n,u).next(d=>{if(a.result=d,this.Hi)return this.ns(e,n,u,d.size)})}).next(()=>a.result)}ns(e,n,r,o){return r.documentReadCount<this.Ji?(xo()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(xo()<=Oe.DEBUG&&ce("QueryEngine","Query:",Ao(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Yi*o?(xo()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):X.resolve())}Xi(e,n){if(Z0(n))return X.resolve(null);let r=yr(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=fp(n,null,"F"),r=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=De(...a);return this.Zi.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.rs(n,d);return this.ss(n,p,u,f.readTime)?this.Xi(e,fp(n,null,"F")):this.os(e,p,n,f)}))})))}es(e,n,r,o){return Z0(n)||o.isEqual(xe.min())?X.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(n,a);return this.ss(n,u,r,o)?X.resolve(null):(xo()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ao(n)),this.os(e,u,n,MD(o,-1)).next(d=>d))})}rs(e,n){let r=new xt(dT(e));return n.forEach((o,a)=>{hh(e,a)&&(r=r.add(a))}),r}ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,n,r){return xo()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ao(n)),this.Zi.getDocumentsMatchingQuery(e,n,Di.min(),r)}os(e,n,r,o){return this.Zi.getDocumentsMatchingQuery(e,r,o).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,o){this.persistence=e,this._s=n,this.serializer=o,this.us=new st(Ne),this.cs=new Is(a=>wm(a),Em),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n2(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function p2(t,e,n,r){return new f2(t,e,n,r)}async function LT(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=De();for(const p of o){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:d}))})})}function m2(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=n.hs.newChangeBuffer({trackRemovals:!0});return function(d,f,p,g){const _=p.batch,E=_.keys();let x=X.resolve();return E.forEach(R=>{x=x.next(()=>g.getEntry(f,R)).next(C=>{const P=p.docVersions.get(R);ze(P!==null),C.version.compareTo(P)<0&&(_.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),g.addEntry(C)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(f,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=De();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function MT(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function g2(t,e){const n=Re(t),r=e.snapshotVersion;let o=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.hs.newChangeBuffer({trackRemovals:!0});o=n.us;const d=[];e.targetChanges.forEach((g,_)=>{const E=o.get(_);if(!E)return;d.push(n.Gr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Gr.addMatchingKeys(a,g.addedDocuments,_)));let x=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(Bt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,r)),o=o.insert(_,x),function(C,P,N){return C.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(E,x,g)&&d.push(n.Gr.updateTargetData(a,x))});let f=Gr(),p=De();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),d.push(y2(a,u,e.documentUpdates).next(g=>{f=g.Is,p=g.Es})),!r.isEqual(xe.min())){const g=n.Gr.getLastRemoteSnapshotVersion(a).next(_=>n.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(g)}return X.waitFor(d).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.us=o,a))}function y2(t,e,n){let r=De(),o=De();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=Gr();return n.forEach((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(xe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ce("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)}),{Is:u,Es:o}})}function v2(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _2(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Gr.getTargetData(r,e).next(a=>a?(o=a,X.resolve(o)):n.Gr.allocateTargetId(r).next(u=>(o=new Ti(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.us.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function vp(t,e,n){const r=Re(t),o=r.us.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Jo(u))throw u;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(o.target)}function h_(t,e,n){const r=Re(t);let o=xe.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,g){const _=Re(f),E=_.cs.get(g);return E!==void 0?X.resolve(_.us.get(E)):_.Gr.getTargetData(p,g)}(r,u,yr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,n?o:xe.min(),n?a:De())).next(d=>(w2(r,aV(e),d),{documents:d,ds:a})))}function w2(t,e,n){let r=t.ls.get(e)||xe.min();n.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.ls.set(e,r)}class d_{constructor(){this.activeTargetIds=fV()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E2{constructor(){this._o=new d_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new d_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function If(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class A2 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(n,r,o,a,u){const d=If(),f=this.No(n,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${d}:`,f,o);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,a,u),this.Bo(n,f,p,o).then(g=>(ce("RestConnection",`Received RPC '${n}' ${d}: `,g),g),g=>{throw Fo("RestConnection",`RPC '${n}' ${d} failed with error: `,g,"url: ",f,"request:",o),g})}ko(n,r,o,a,u,d){return this.Oo(n,r,o,a,u)}Lo(n,r,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>n[u]=a),o&&o.headers.forEach((a,u)=>n[u]=a)}No(n,r){const o=S2[n];return`${this.Fo}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,o){const a=If();return new Promise((u,d)=>{const f=new GE;f.setWithCredentials(!0),f.listenOnce(QE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ec.NO_ERROR:const g=f.getResponseJson();ce(Ht,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Ec.TIMEOUT:ce(Ht,`RPC '${e}' ${a} timed out`),d(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const _=f.getStatus();if(ce(Ht,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E==null?void 0:E.error;if(x&&x.status&&x.message){const R=function(P){const N=P.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(N)>=0?N:J.UNKNOWN}(x.status);d(new fe(R,x.message))}else d(new fe(J.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new fe(J.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ce(Ht,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(o);ce(Ht,`RPC '${e}' ${a} sending request:`,o),f.send(n,"POST",p,r,15)})}qo(e,n,r){const o=If(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=JE(),d=YE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ce(Ht,`Creating RPC '${e}' stream ${o}: ${g}`,f);const _=u.createWebChannel(g,f);let E=!1,x=!1;const R=new x2({Eo:P=>{x?ce(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(E||(ce(Ht,`Opening RPC '${e}' stream ${o} transport.`),_.open(),E=!0),ce(Ht,`RPC '${e}' stream ${o} sending:`,P),_.send(P))},Ao:()=>_.close()}),C=(P,N,j)=>{P.listen(N,K=>{try{j(K)}catch(re){setTimeout(()=>{throw re},0)}})};return C(_,il.EventType.OPEN,()=>{x||(ce(Ht,`RPC '${e}' stream ${o} transport opened.`),R.So())}),C(_,il.EventType.CLOSE,()=>{x||(x=!0,ce(Ht,`RPC '${e}' stream ${o} transport closed`),R.Do())}),C(_,il.EventType.ERROR,P=>{x||(x=!0,Fo(Ht,`RPC '${e}' stream ${o} transport errored:`,P),R.Do(new fe(J.UNAVAILABLE,"The operation could not be completed")))}),C(_,il.EventType.MESSAGE,P=>{var N;if(!x){const j=P.data[0];ze(!!j);const K=j,re=(K==null?void 0:K.error)||((N=K[0])===null||N===void 0?void 0:N.error);if(re){ce(Ht,`RPC '${e}' stream ${o} received error:`,re);const te=re.status;let ae=function(I){const b=mt[I];if(b!==void 0)return xT(b)}(te),V=re.message;ae===void 0&&(ae=J.INTERNAL,V="Unknown error status: "+te+" with message "+re.message),x=!0,R.Do(new fe(ae,V)),_.close()}else ce(Ht,`RPC '${e}' stream ${o} received:`,j),R.vo(j)}}),C(d,XE.STAT_EVENT,P=>{P.stat===ap.PROXY?ce(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===ap.NOPROXY&&ce(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{R.bo()},0),R}}function kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){return new VV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,r=1e3,o=1.5,a=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),o=Math.max(0,n-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n,r,o,a,u,d,f){this.li=e,this.Yo=r,this.Zo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new OT(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Xo===n&&this.I_(r,o)},r=>{e(()=>{const o=new fe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(o)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{r(()=>this.E_(o))}),this.stream.onMessage(o=>{r(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R2 extends FT{constructor(e,n,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=LV(this.serializer,e),r=function(a){if(!("targetChange"in a))return xe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?_r(u.readTime):xe.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=yp(this.serializer),n.addTarget=function(a,u){let d;const f=u.target;if(d=hp(f)?{documents:FV(a,f)}:{query:jV(a,f).ct},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=PT(a,u.resumeToken);const p=pp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(xe.min())>0){d.readTime=Wc(a,u.snapshotVersion.toTimestamp());const p=pp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=UV(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=yp(this.serializer),n.removeTarget=e,this.c_(n)}}class P2 extends FT{constructor(e,n,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=OV(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=yp(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>MV(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2 extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,mp(n,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(J.UNKNOWN,a.toString())})}ko(e,n,r,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ko(e,mp(n,r),o,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(J.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class I2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Kr(n),this.C_=!1):ce("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{ks(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=Re(f);p.k_.add(4),await jl(p),p.K_.set("Unknown"),p.k_.delete(4),await gh(p)}(this))})}),this.K_=new I2(r,o)}}async function gh(t){if(ks(t))for(const e of t.q_)await e(!0)}async function jl(t){for(const e of t.q_)await e(!1)}function jT(t,e){const n=Re(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Nm(n)?Vm(n):Zo(n).s_()&&Dm(n,e))}function km(t,e){const n=Re(t),r=Zo(n);n.B_.delete(e),r.s_()&&BT(n,e),n.B_.size===0&&(r.s_()?r.a_():ks(n)&&n.K_.set("Unknown"))}function Dm(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zo(t).V_(e)}function BT(t,e){t.U_.xe(e),Zo(t).m_(e)}function Vm(t){t.U_=new CV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Zo(t).start(),t.K_.F_()}function Nm(t){return ks(t)&&!Zo(t).i_()&&t.B_.size>0}function ks(t){return Re(t).k_.size===0}function UT(t){t.U_=void 0}async function D2(t){t.K_.set("Online")}async function V2(t){t.B_.forEach((e,n)=>{Dm(t,e)})}async function N2(t,e){UT(t),Nm(t)?(t.K_.O_(e),Vm(t)):t.K_.set("Unknown")}async function b2(t,e,n){if(t.K_.set("Online"),e instanceof RT&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const d of a.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.B_.delete(d),o.U_.removeTarget(d))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gc(t,r)}else if(e instanceof Ac?t.U_.$e(e):e instanceof AT?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(xe.min()))try{const r=await MT(t.localStore);n.compareTo(r)>=0&&await function(a,u){const d=a.U_.it(u);return d.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.B_.get(p);g&&a.B_.set(p,g.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,p)=>{const g=a.B_.get(f);if(!g)return;a.B_.set(f,g.withResumeToken(Bt.EMPTY_BYTE_STRING,g.snapshotVersion)),BT(a,f);const _=new Ti(g.target,f,p,g.sequenceNumber);Dm(a,_)}),a.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await Gc(t,r)}}async function Gc(t,e,n){if(!Jo(e))throw e;t.k_.add(1),await jl(t),t.K_.set("Offline"),n||(n=()=>MT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await gh(t)})}function zT(t,e){return e().catch(n=>Gc(t,n,e))}async function yh(t){const e=Re(t),n=Li(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;L2(e);)try{const o=await v2(e.localStore,r);if(o===null){e.L_.length===0&&n.a_();break}r=o.batchId,M2(e,o)}catch(o){await Gc(e,o)}$T(e)&&qT(e)}function L2(t){return ks(t)&&t.L_.length<10}function M2(t,e){t.L_.push(e);const n=Li(t);n.s_()&&n.f_&&n.g_(e.mutations)}function $T(t){return ks(t)&&!Li(t).i_()&&t.L_.length>0}function qT(t){Li(t).start()}async function O2(t){Li(t).w_()}async function F2(t){const e=Li(t);for(const n of t.L_)e.g_(n.mutations)}async function j2(t,e,n){const r=t.L_.shift(),o=xm.from(r,e,n);await zT(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await yh(t)}async function B2(t,e){e&&Li(t).f_&&await async function(r,o){if(function(u){return AV(u)&&u!==J.ABORTED}(o.code)){const a=r.L_.shift();Li(r).__(),await zT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await yh(r)}}(t,e),$T(t)&&qT(t)}async function p_(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=ks(n);n.k_.add(3),await jl(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await gh(n)}async function U2(t,e){const n=Re(t);e?(n.k_.delete(2),await gh(n)):e||(n.k_.add(2),await jl(n),n.K_.set("Unknown"))}function Zo(t){return t.W_||(t.W_=function(n,r,o){const a=Re(n);return a.b_(),new R2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{Ro:D2.bind(null,t),mo:V2.bind(null,t),po:N2.bind(null,t),R_:b2.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Nm(t)?Vm(t):t.K_.set("Unknown")):(await t.W_.stop(),UT(t))})),t.W_}function Li(t){return t.G_||(t.G_=function(n,r,o){const a=Re(n);return a.b_(),new P2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:O2.bind(null,t),po:B2.bind(null,t),p_:F2.bind(null,t),y_:j2.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await yh(t)):(await t.G_.stop(),t.L_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const u=Date.now()+r,d=new bm(e,n,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lm(t,e){if(Kr("AsyncQueue",`${e}: ${t}`),Jo(t))return new fe(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=sl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.z_=new st(ve.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Se():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $o{constructor(e,n,r,o,a,u,d,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,a){const u=[];return n.forEach(d=>{u.push({type:0,doc:d})}),new $o(e,n,bo.emptySet(n),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class $2{constructor(){this.queries=g_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const o=Re(n),a=o.queries;o.queries=g_(),a.forEach((u,d)=>{for(const f of d.J_)f.onError(r)})})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function g_(){return new Is(t=>hT(t),ch)}async function q2(t,e){const n=Re(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.Y_()&&e.Z_()&&(r=2):(a=new z2,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await n.onListen(o,!0);break;case 1:a.H_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const d=Lm(u,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,a),a.J_.push(e),e.ea(n.onlineState),a.H_&&e.ta(a.H_)&&Mm(n)}async function H2(t,e){const n=Re(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function W2(t,e){const n=Re(t);let r=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const d of u.J_)d.ta(o)&&(r=!0);u.H_=o}}r&&Mm(n)}function K2(t,e,n){const r=Re(t),o=r.queries.get(e);if(o)for(const a of o.J_)a.onError(n);r.queries.delete(e)}function Mm(t){t.X_.forEach(e=>{e.next()})}var _p,y_;(y_=_p||(_p={})).na="default",y_.Cache="cache";class G2{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new $o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==_p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.key=e}}class WT{constructor(e){this.key=e}}class Q2{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=De(),this.mutatedKeys=De(),this.Va=dT(e),this.ma=new bo(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new m_,o=n?n.ma:this.ma;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((g,_)=>{const E=o.get(g),x=hh(this.query,_)?_:null,R=!!E&&this.mutatedKeys.has(E.key),C=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let P=!1;E&&x?E.data.isEqual(x.data)?R!==C&&(r.track({type:3,doc:x}),P=!0):this.ya(E,x)||(r.track({type:2,doc:x}),P=!0,(f&&this.Va(x,f)>0||p&&this.Va(x,p)<0)&&(d=!0)):!E&&x?(r.track({type:0,doc:x}),P=!0):E&&!x&&(r.track({type:1,doc:E}),P=!0,(f||p)&&(d=!0)),P&&(x?(u=u.add(x),a=C?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{ma:u,pa:r,ss:d,mutatedKeys:a}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((g,_)=>function(x,R){const C=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return C(x)-C(R)}(g.type,_.type)||this.Va(g.doc,_.doc)),this.wa(r),o=o!=null&&o;const d=n&&!o?this.Sa():[],f=this.Ra.size===0&&this.current&&!o?1:0,p=f!==this.Aa;return this.Aa=f,u.length!==0||p?{snapshot:new $o(this.query,e.ma,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new m_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=De(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new WT(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new HT(r))}),n}va(e){this.da=e.ds,this.Ra=De();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return $o.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class X2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Y2{constructor(e){this.key=e,this.Fa=!1}}class J2{constructor(e,n,r,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Is(d=>hT(d),ch),this.Oa=new Map,this.Na=new Set,this.La=new st(ve.comparator),this.Ba=new Map,this.ka=new Pm,this.qa={},this.Qa=new Map,this.Ka=zo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Z2(t,e,n=!0){const r=JT(t);let o;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await KT(r,e,n,!0),o}async function eN(t,e){const n=JT(t);await KT(n,e,!0,!1)}async function KT(t,e,n,r){const o=await _2(t.localStore,yr(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await tN(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&jT(t.remoteStore,o),d}async function tN(t,e,n,r,o){t.Ua=(_,E,x)=>async function(C,P,N,j){let K=P.view.ga(N);K.ss&&(K=await h_(C.localStore,P.query,!1).then(({documents:V})=>P.view.ga(V,K)));const re=j&&j.targetChanges.get(P.targetId),te=j&&j.targetMismatches.get(P.targetId)!=null,ae=P.view.applyChanges(K,C.isPrimaryClient,re,te);return __(C,P.targetId,ae.ba),ae.snapshot}(t,_,E,x);const a=await h_(t.localStore,e,!0),u=new Q2(e,a.ds),d=u.ga(a.documents),f=Fl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),p=u.applyChanges(d,t.isPrimaryClient,f);__(t,n,p.ba);const g=new X2(e,n,u);return t.xa.set(e,g),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),p.snapshot}async function nN(t,e,n){const r=Re(t),o=r.xa.get(e),a=r.Oa.get(o.targetId);if(a.length>1)return r.Oa.set(o.targetId,a.filter(u=>!ch(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await vp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&km(r.remoteStore,o.targetId),wp(r,o.targetId)}).catch(Yo)):(wp(r,o.targetId),await vp(r.localStore,o.targetId,!0))}async function rN(t,e){const n=Re(t),r=n.xa.get(e),o=n.Oa.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),km(n.remoteStore,r.targetId))}async function iN(t,e,n){const r=hN(t);try{const o=await function(u,d){const f=Re(u),p=St.now(),g=d.reduce((x,R)=>x.add(R.key),De());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let R=Gr(),C=De();return f.hs.getEntries(x,g).next(P=>{R=P,R.forEach((N,j)=>{j.isValidDocument()||(C=C.add(N))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,R)).next(P=>{_=P;const N=[];for(const j of d){const K=wV(j,_.get(j.key).overlayedDocument);K!=null&&N.push(new ji(j.key,K,rT(K.value.mapValue),vr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,p,N,d)}).next(P=>{E=P;const N=P.applyToLocalDocumentSet(_,C);return f.documentOverlayCache.saveOverlays(x,P.batchId,N)})}).then(()=>({batchId:E.batchId,changes:pT(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,f){let p=u.qa[u.currentUser.toKey()];p||(p=new st(Ne)),p=p.insert(d,f),u.qa[u.currentUser.toKey()]=p}(r,o.batchId,n),await Bl(r,o.changes),await yh(r.remoteStore)}catch(o){const a=Lm(o,"Failed to persist write");n.reject(a)}}async function GT(t,e){const n=Re(t);try{const r=await g2(n.localStore,e);e.targetChanges.forEach((o,a)=>{const u=n.Ba.get(a);u&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?ze(u.Fa):o.removedDocuments.size>0&&(ze(u.Fa),u.Fa=!1))}),await Bl(n,r,e)}catch(r){await Yo(r)}}function v_(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.xa.forEach((a,u)=>{const d=u.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const f=Re(u);f.onlineState=d;let p=!1;f.queries.forEach((g,_)=>{for(const E of _.J_)E.ea(d)&&(p=!0)}),p&&Mm(f)}(r.eventManager,e),o.length&&r.Ma.R_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sN(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Ba.get(e),a=o&&o.key;if(a){let u=new st(ve.comparator);u=u.insert(a,Gt.newNoDocument(a,xe.min()));const d=De().add(a),f=new ph(xe.min(),new Map,new st(Ne),u,d);await GT(r,f),r.La=r.La.remove(a),r.Ba.delete(e),Om(r)}else await vp(r.localStore,e,!1).then(()=>wp(r,e,n)).catch(Yo)}async function oN(t,e){const n=Re(t),r=e.batch.batchId;try{const o=await m2(n.localStore,e);XT(n,r,null),QT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bl(n,o)}catch(o){await Yo(o)}}async function aN(t,e,n){const r=Re(t);try{const o=await function(u,d){const f=Re(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,d).next(_=>(ze(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);XT(r,e,n),QT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bl(r,o)}catch(o){await Yo(o)}}function QT(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function XT(t,e,n){const r=Re(t);let o=r.qa[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.qa[r.currentUser.toKey()]=o}}function wp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||YT(t,r)})}function YT(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(km(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),Om(t))}function __(t,e,n){for(const r of n)r instanceof HT?(t.ka.addReference(r.key,e),lN(t,r)):r instanceof WT?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||YT(t,r.key)):Se()}function lN(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.Na.add(r),Om(t))}function Om(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new ve(Ye.fromString(e)),r=t.Ka.next();t.Ba.set(r,new Y2(n)),t.La=t.La.insert(n,r),jT(t.remoteStore,new Ti(yr(Tm(n.path)),r,"TargetPurposeLimboResolution",ah.oe))}}async function Bl(t,e,n){const r=Re(t),o=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((d,f)=>{u.push(r.Ua(f,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){o.push(p);const _=Im.zi(f.targetId,p);a.push(_)}}))}),await Promise.all(u),r.Ma.R_(o),await async function(f,p){const g=Re(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(p,E=>X.forEach(E.Wi,x=>g.persistence.referenceDelegate.addReference(_,E.targetId,x)).next(()=>X.forEach(E.Gi,x=>g.persistence.referenceDelegate.removeReference(_,E.targetId,x)))))}catch(_){if(!Jo(_))throw _;ce("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const x=g.us.get(E),R=x.snapshotVersion,C=x.withLastLimboFreeSnapshotVersion(R);g.us=g.us.insert(E,C)}}}(r.localStore,a))}async function uN(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await LT(n.localStore,e);n.currentUser=e,function(a,u){a.Qa.forEach(d=>{d.forEach(f=>{f.reject(new fe(J.CANCELLED,u))})}),a.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bl(n,r.Ts)}}function cN(t,e){const n=Re(t),r=n.Ba.get(e);if(r&&r.Fa)return De().add(r.key);{let o=De();const a=n.Oa.get(e);if(!a)return o;for(const u of a){const d=n.xa.get(u);o=o.unionWith(d.view.fa)}return o}}function JT(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sN.bind(null,e),e.Ma.R_=W2.bind(null,e.eventManager),e.Ma.Wa=K2.bind(null,e.eventManager),e}function hN(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aN.bind(null,e),e}class Qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return p2(this.persistence,new d2,e.initialUser,this.serializer)}ja(e){return new bT(Cm.ei,this.serializer)}za(e){return new E2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qc.provider={build:()=>new Qc};class dN extends Qc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ze(this.persistence.referenceDelegate instanceof Kc);const r=this.persistence.referenceDelegate.garbageCollector;return new YV(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new bT(r=>Kc.ei(r,n),this.serializer)}}class Ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uN.bind(null,this.syncEngine),await U2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $2}()}createDatastore(e){const n=mh(e.databaseInfo.databaseId),r=function(a){return new A2(a)}(e.databaseInfo);return function(a,u,d,f){return new C2(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,a,u,d){return new k2(r,o,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,n=>v_(this.syncEngine,n,0),function(){return f_.p()?new f_:new T2}())}createSyncEngine(e,n){return function(o,a,u,d,f,p,g){const _=new J2(o,a,u,d,f,p);return g&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const a=Re(o);ce("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await jl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ep.provider={build:()=>new Ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=eT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ce("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ce("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Lm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Df(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await LT(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function w_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mN(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>p_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>p_(e.remoteStore,o)),t._onlineComponents=e}async function mN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Df(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Fo("Error using user provided cache. Falling back to memory cache: "+n),await Df(t,new Qc)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Df(t,new dN(void 0));return t._offlineComponents}async function ZT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await w_(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await w_(t,new Ep))),t._onlineComponents}function gN(t){return ZT(t).then(e=>e.syncEngine)}async function E_(t){const e=await ZT(t),n=e.eventManager;return n.onListen=Z2.bind(null,e.syncEngine),n.onUnlisten=nN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rN.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t,e,n){if(!n)throw new fe(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yN(t,e,n,r){if(e===!0&&r===!0)throw new fe(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function S_(t){if(!ve.isDocumentKey(t))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function x_(t){if(ve.isDocumentKey(t))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function xs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vh(t);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _h{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PD;switch(r.type){case"firstParty":return new DD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=T_.get(n);r&&(ce("ComponentProvider","Removing Datastore"),T_.delete(n),r.terminate())}(this),Promise.resolve()}}function vN(t,e,n,r={}){var o;const a=(t=xs(t,_h))._getSettings(),u=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Kt.MOCK_USER;else{d=ok(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Kt(p)}t._authCredentials=new CD(new ZE(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Pi extends ea{constructor(e,n,r){super(e,n,Tm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ve(e))}withConverter(e){return new Pi(this.firestore,e,this._path)}}function Tp(t,e,...n){if(t=wr(t),t1("collection","path",e),t instanceof _h){const r=Ye.fromString(e,...n);return x_(r),new Pi(t,null,r)}{if(!(t instanceof fn||t instanceof Pi))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return x_(r),new Pi(t.firestore,null,r)}}function n1(t,e,...n){if(t=wr(t),arguments.length===1&&(e=eT.newId()),t1("doc","path",e),t instanceof _h){const r=Ye.fromString(e,...n);return S_(r),new fn(t,null,new ve(r))}{if(!(t instanceof fn||t instanceof Pi))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return S_(r),new fn(t.firestore,t instanceof Pi?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new OT(this,"async_queue_retry"),this.fu=()=>{const r=kf();r&&ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=kf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=kf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Ss;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Jo(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const o=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(r);throw Kr("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const o=bm.createAndSchedule(this,e,n,r,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Se()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function P_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Cl extends _h{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new R_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R_(e),this._firestoreClient=void 0,await e}}}function _N(t,e){const n=typeof t=="object"?t:mD(),r=typeof t=="string"?t:"(default)",o=hD(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=ik("firestore");a&&vN(o,...a)}return o}function r1(t){if(t._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wN(t),t._firestoreClient}function wN(t){var e,n,r;const o=t._freezeSettings(),a=function(d,f,p,g){return new WD(d,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,e1(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new pN(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(Bt.fromBase64String(e))}catch(n){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qo(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=/^__.*__$/;class TN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ol(e,this.data,n,this.fieldTransforms)}}class i1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function s1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Um{constructor(e,n,r,o,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xu({path:r,Nu:!1});return o.Lu(e),o}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xu({path:r,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Xc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(s1(this.Mu)&&EN.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class SN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mh(e)}$u(e,n,r,o=!1){return new Um({Mu:e,methodName:n,Ku:r,path:jt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zm(t){const e=t._freezeSettings(),n=mh(t._databaseId);return new SN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xN(t,e,n,r,o,a={}){const u=t.$u(a.merge||a.mergeFields?2:0,e,n,o);$m("Data must be an object, but it was:",u,r);const d=o1(r,u);let f,p;if(a.merge)f=new Tn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=Sp(e,_,n);if(!u.contains(E))throw new fe(J.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);l1(g,E)||g.push(E)}f=new Tn(g),p=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=u.fieldTransforms;return new TN(new dn(d),f,p)}class Eh extends Fm{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eh}}function AN(t,e,n,r){const o=t.$u(1,e,n);$m("Data must be an object, but it was:",o,r);const a=[],u=dn.empty();Fi(r,(f,p)=>{const g=qm(e,f,n);p=wr(p);const _=o.Bu(g);if(p instanceof Eh)a.push(g);else{const E=Ul(p,_);E!=null&&(a.push(g),u.set(g,E))}});const d=new Tn(a);return new i1(u,d,o.fieldTransforms)}function RN(t,e,n,r,o,a){const u=t.$u(1,e,n),d=[Sp(e,r,n)],f=[o];if(a.length%2!=0)throw new fe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(Sp(e,a[E])),f.push(a[E+1]);const p=[],g=dn.empty();for(let E=d.length-1;E>=0;--E)if(!l1(p,d[E])){const x=d[E];let R=f[E];R=wr(R);const C=u.Bu(x);if(R instanceof Eh)p.push(x);else{const P=Ul(R,C);P!=null&&(p.push(x),g.set(x,P))}}const _=new Tn(p);return new i1(g,_,u.fieldTransforms)}function PN(t,e,n,r=!1){return Ul(n,t.$u(r?4:3,e))}function Ul(t,e){if(a1(t=wr(t)))return $m("Unsupported field value:",e,t),o1(t,e);if(t instanceof Fm)return function(r,o){if(!s1(o.Mu))throw o.qu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const d of r){let f=Ul(d,o.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,o){if((r=wr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pV(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=St.fromDate(r);return{timestampValue:Wc(o.serializer,a)}}if(r instanceof St){const a=new St(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wc(o.serializer,a)}}if(r instanceof jm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qo)return{bytesValue:PT(o.serializer,r._byteString)};if(r instanceof fn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Rm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Bm)return function(u,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw d.qu("VectorValues must only contain numeric values.");return Sm(d.serializer,f)})}}}}}}(r,o);throw o.qu(`Unsupported field value: ${vh(r)}`)}(t,e)}function o1(t,e){const n={};return tT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(t,(r,o)=>{const a=Ul(o,e.Ou(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function a1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof jm||t instanceof qo||t instanceof fn||t instanceof Fm||t instanceof Bm)}function $m(t,e,n){if(!a1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=vh(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Sp(t,e,n){if((e=wr(e))instanceof wh)return e._internalPath;if(typeof e=="string")return qm(t,e);throw Xc("Field path arguments must be of type string or ",t,!1,void 0,n)}const CN=new RegExp("[~\\*/\\[\\]]");function qm(t,e,n){if(e.search(CN)>=0)throw Xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wh(...e.split("."))._internalPath}catch{throw Xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xc(t,e,n,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new fe(J.INVALID_ARGUMENT,d+t+f)}function l1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IN extends u1{data(){return super.data()}}function Hm(t,e){return typeof e=="string"?qm(t,e):e instanceof wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class DN extends Wm{}function VN(t,e,...n){let r=[];e instanceof Wm&&r.push(e),r=r.concat(n),function(a){const u=a.filter(f=>f instanceof Km).length,d=a.filter(f=>f instanceof Th).length;if(u>1||u>0&&d>0)throw new fe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)t=o._apply(t);return t}class Th extends DN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Th(e,n,r)}_apply(e){const n=this._parse(e);return c1(e._query,n),new ea(e.firestore,e.converter,dp(e._query,n))}_parse(e){const n=zm(e.firestore);return function(a,u,d,f,p,g,_){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new fe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){I_(_,g);const x=[];for(const R of _)x.push(C_(f,a,R));E={arrayValue:{values:x}}}else E=C_(f,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||I_(_,g),E=PN(d,u,_,g==="in"||g==="not-in");return gt.create(p,g,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function NN(t,e,n){const r=e,o=Hm("where",t);return Th._create(o,r,n)}class Km extends Wm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Km(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,a){let u=o;const d=a.getFlattenedFilters();for(const f of d)c1(u,f),u=dp(u,f)}(e._query,n),new ea(e.firestore,e.converter,dp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function C_(t,e,n){if(typeof(n=wr(n))=="string"){if(n==="")throw new fe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(e)&&n.indexOf("/")!==-1)throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ye.fromString(n));if(!ve.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return K0(t,new ve(r))}if(n instanceof fn)return K0(t,n._key);throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(n)}.`)}function I_(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c1(t,e){const n=function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bN{convertValue(e,n="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fi(e,(o,a)=>{r[o]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,o;const a=(o=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>dt(u.doubleValue));return new Bm(a)}convertGeoPoint(e){return new jm(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const n=Vi(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);ze(NT(r));const o=new xl(r.get(1),r.get(3)),a=new ve(r.popFirst(5));return o.isEqual(n)||Kr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class h1 extends u1{constructor(e,n,r,o,a,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rc extends h1{data(e={}){return super.data(e)}}class MN{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new al(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rc(this._firestore,this._userDataWriter,r.key,r,new al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const f=new Rc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new al(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new Rc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new al(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,g=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:ON(d.type),doc:f,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ON(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class d1 extends bN{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function FN(t,e,n,...r){t=xs(t,fn);const o=xs(t.firestore,Cl),a=zm(o);let u;return u=typeof(e=wr(e))=="string"||e instanceof wh?RN(a,"updateDoc",t._key,e,n,r):AN(a,"updateDoc",t._key,e),p1(o,[u.toMutation(t._key,vr.exists(!0))])}function jN(t,e){const n=xs(t.firestore,Cl),r=n1(t),o=LN(t.converter,e);return p1(n,[xN(zm(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}function f1(t,...e){var n,r,o;t=wr(t);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||P_(e[u])||(a=e[u],u++);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(P_(e[u])){const _=e[u];e[u]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(o=_.complete)===null||o===void 0?void 0:o.bind(_)}let f,p,g;if(t instanceof fn)p=xs(t.firestore,Cl),g=Tm(t._key.path),f={next:_=>{e[u]&&e[u](BN(p,t,_))},error:e[u+1],complete:e[u+2]};else{const _=xs(t,ea);p=xs(_.firestore,Cl),g=_._query;const E=new d1(p);f={next:x=>{e[u]&&e[u](new MN(p,E,_,x))},error:e[u+1],complete:e[u+2]},kN(t._query)}return function(E,x,R,C){const P=new fN(C),N=new G2(x,P,R);return E.asyncQueue.enqueueAndForget(async()=>q2(await E_(E),N)),()=>{P.eu(),E.asyncQueue.enqueueAndForget(async()=>H2(await E_(E),N))}}(r1(p),g,d,f)}function p1(t,e){return function(r,o){const a=new Ss;return r.asyncQueue.enqueueAndForget(async()=>iN(await gN(r),o,a)),a.promise}(r1(t),e)}function BN(t,e,n){const r=n.docs.get(e._key),o=new d1(t);return new h1(t,o,e._key,r,new al(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Xo=o})(pD),Bc(new wl("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Cl(new ID(r.getProvider("auth-internal")),new ND(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(p.options.projectId,g)}(u,o),u);return a=Object.assign({useFetchStreams:n},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),No(U0,"4.7.5",e),No(U0,"4.7.5","esm2017")})();const UN={apiKey:"AIzaSyCndbq6Nd_UPGLj5IO4aAsUDi6kUuEyja8",authDomain:"claimburse-15df0.firebaseapp.com",projectId:"claimburse-15df0",storageBucket:"claimburse-15df0.firebasestorage.app",messagingSenderId:"685575996831",appId:"1:685575996831:web:2f6122f592285b375129aa",measurementId:"G-0V9M5B83MD"},zN=qE(UN),Yc=_N(zN);function m1(t,e){return function(){return t.apply(e,arguments)}}const{toString:$N}=Object.prototype,{getPrototypeOf:Gm}=Object,Sh=(t=>e=>{const n=$N.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nr=t=>(t=t.toLowerCase(),e=>Sh(e)===t),xh=t=>e=>typeof e===t,{isArray:ta}=Array,Il=xh("undefined");function qN(t){return t!==null&&!Il(t)&&t.constructor!==null&&!Il(t.constructor)&&Sn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const g1=nr("ArrayBuffer");function HN(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&g1(t.buffer),e}const WN=xh("string"),Sn=xh("function"),y1=xh("number"),Ah=t=>t!==null&&typeof t=="object",KN=t=>t===!0||t===!1,Pc=t=>{if(Sh(t)!=="object")return!1;const e=Gm(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},GN=nr("Date"),QN=nr("File"),XN=nr("Blob"),YN=nr("FileList"),JN=t=>Ah(t)&&Sn(t.pipe),ZN=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Sn(t.append)&&((e=Sh(t))==="formdata"||e==="object"&&Sn(t.toString)&&t.toString()==="[object FormData]"))},eb=nr("URLSearchParams"),[tb,nb,rb,ib]=["ReadableStream","Request","Response","Headers"].map(nr),sb=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),ta(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),u=a.length;let d;for(r=0;r<u;r++)d=a[r],e.call(null,t[d],d,t)}}function v1(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const ws=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_1=t=>!Il(t)&&t!==ws;function xp(){const{caseless:t}=_1(this)&&this||{},e={},n=(r,o)=>{const a=t&&v1(e,o)||o;Pc(e[a])&&Pc(r)?e[a]=xp(e[a],r):Pc(r)?e[a]=xp({},r):ta(r)?e[a]=r.slice():e[a]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&zl(arguments[r],n);return e}const ob=(t,e,n,{allOwnKeys:r}={})=>(zl(e,(o,a)=>{n&&Sn(o)?t[a]=m1(o,n):t[a]=o},{allOwnKeys:r}),t),ab=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),lb=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},ub=(t,e,n,r)=>{let o,a,u;const d={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)u=o[a],(!r||r(u,t,e))&&!d[u]&&(e[u]=t[u],d[u]=!0);t=n!==!1&&Gm(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},cb=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},hb=t=>{if(!t)return null;if(ta(t))return t;let e=t.length;if(!y1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},db=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Gm(Uint8Array)),fb=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=r.next())&&!o.done;){const a=o.value;e.call(t,a[0],a[1])}},pb=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},mb=nr("HTMLFormElement"),gb=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),k_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),yb=nr("RegExp"),w1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};zl(n,(o,a)=>{let u;(u=e(o,a,t))!==!1&&(r[a]=u||o)}),Object.defineProperties(t,r)},vb=t=>{w1(t,(e,n)=>{if(Sn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Sn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},_b=(t,e)=>{const n={},r=o=>{o.forEach(a=>{n[a]=!0})};return ta(t)?r(t):r(String(t).split(e)),n},wb=()=>{},Eb=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Vf="abcdefghijklmnopqrstuvwxyz",D_="0123456789",E1={DIGIT:D_,ALPHA:Vf,ALPHA_DIGIT:Vf+Vf.toUpperCase()+D_},Tb=(t=16,e=E1.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Sb(t){return!!(t&&Sn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const xb=t=>{const e=new Array(10),n=(r,o)=>{if(Ah(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const a=ta(r)?[]:{};return zl(r,(u,d)=>{const f=n(u,o+1);!Il(f)&&(a[d]=f)}),e[o]=void 0,a}}return r};return n(t,0)},Ab=nr("AsyncFunction"),Rb=t=>t&&(Ah(t)||Sn(t))&&Sn(t.then)&&Sn(t.catch),T1=((t,e)=>t?setImmediate:e?((n,r)=>(ws.addEventListener("message",({source:o,data:a})=>{o===ws&&a===n&&r.length&&r.shift()()},!1),o=>{r.push(o),ws.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Sn(ws.postMessage)),Pb=typeof queueMicrotask<"u"?queueMicrotask.bind(ws):typeof process<"u"&&process.nextTick||T1,Q={isArray:ta,isArrayBuffer:g1,isBuffer:qN,isFormData:ZN,isArrayBufferView:HN,isString:WN,isNumber:y1,isBoolean:KN,isObject:Ah,isPlainObject:Pc,isReadableStream:tb,isRequest:nb,isResponse:rb,isHeaders:ib,isUndefined:Il,isDate:GN,isFile:QN,isBlob:XN,isRegExp:yb,isFunction:Sn,isStream:JN,isURLSearchParams:eb,isTypedArray:db,isFileList:YN,forEach:zl,merge:xp,extend:ob,trim:sb,stripBOM:ab,inherits:lb,toFlatObject:ub,kindOf:Sh,kindOfTest:nr,endsWith:cb,toArray:hb,forEachEntry:fb,matchAll:pb,isHTMLForm:mb,hasOwnProperty:k_,hasOwnProp:k_,reduceDescriptors:w1,freezeMethods:vb,toObjectSet:_b,toCamelCase:gb,noop:wb,toFiniteNumber:Eb,findKey:v1,global:ws,isContextDefined:_1,ALPHABET:E1,generateString:Tb,isSpecCompliantForm:Sb,toJSONObject:xb,isAsyncFn:Ab,isThenable:Rb,setImmediate:T1,asap:Pb};function Pe(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Q.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const S1=Pe.prototype,x1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{x1[t]={value:t}});Object.defineProperties(Pe,x1);Object.defineProperty(S1,"isAxiosError",{value:!0});Pe.from=(t,e,n,r,o,a)=>{const u=Object.create(S1);return Q.toFlatObject(t,u,function(f){return f!==Error.prototype},d=>d!=="isAxiosError"),Pe.call(u,t.message,e,n,r,o),u.cause=t,u.name=t.name,a&&Object.assign(u,a),u};const Cb=null;function Ap(t){return Q.isPlainObject(t)||Q.isArray(t)}function A1(t){return Q.endsWith(t,"[]")?t.slice(0,-2):t}function V_(t,e,n){return t?t.concat(e).map(function(o,a){return o=A1(o),!n&&a?"["+o+"]":o}).join(n?".":""):e}function Ib(t){return Q.isArray(t)&&!t.some(Ap)}const kb=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function Rh(t,e,n){if(!Q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,P){return!Q.isUndefined(P[C])});const r=n.metaTokens,o=n.visitor||g,a=n.dots,u=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function p(R){if(R===null)return"";if(Q.isDate(R))return R.toISOString();if(!f&&Q.isBlob(R))throw new Pe("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(R)||Q.isTypedArray(R)?f&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function g(R,C,P){let N=R;if(R&&!P&&typeof R=="object"){if(Q.endsWith(C,"{}"))C=r?C:C.slice(0,-2),R=JSON.stringify(R);else if(Q.isArray(R)&&Ib(R)||(Q.isFileList(R)||Q.endsWith(C,"[]"))&&(N=Q.toArray(R)))return C=A1(C),N.forEach(function(K,re){!(Q.isUndefined(K)||K===null)&&e.append(u===!0?V_([C],re,a):u===null?C:C+"[]",p(K))}),!1}return Ap(R)?!0:(e.append(V_(P,C,a),p(R)),!1)}const _=[],E=Object.assign(kb,{defaultVisitor:g,convertValue:p,isVisitable:Ap});function x(R,C){if(!Q.isUndefined(R)){if(_.indexOf(R)!==-1)throw Error("Circular reference detected in "+C.join("."));_.push(R),Q.forEach(R,function(N,j){(!(Q.isUndefined(N)||N===null)&&o.call(e,N,Q.isString(j)?j.trim():j,C,E))===!0&&x(N,C?C.concat(j):[j])}),_.pop()}}if(!Q.isObject(t))throw new TypeError("data must be an object");return x(t),e}function N_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Qm(t,e){this._pairs=[],t&&Rh(t,this,e)}const R1=Qm.prototype;R1.append=function(e,n){this._pairs.push([e,n])};R1.toString=function(e){const n=e?function(r){return e.call(this,r,N_)}:N_;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Db(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function P1(t,e,n){if(!e)return t;const r=n&&n.encode||Db;Q.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(o?a=o(e,n):a=Q.isURLSearchParams(e)?e.toString():new Qm(e,n).toString(r),a){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class b_{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(r){r!==null&&e(r)})}}const C1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vb=typeof URLSearchParams<"u"?URLSearchParams:Qm,Nb=typeof FormData<"u"?FormData:null,bb=typeof Blob<"u"?Blob:null,Lb={isBrowser:!0,classes:{URLSearchParams:Vb,FormData:Nb,Blob:bb},protocols:["http","https","file","blob","url","data"]},Xm=typeof window<"u"&&typeof document<"u",Rp=typeof navigator=="object"&&navigator||void 0,Mb=Xm&&(!Rp||["ReactNative","NativeScript","NS"].indexOf(Rp.product)<0),Ob=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fb=Xm&&window.location.href||"http://localhost",jb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xm,hasStandardBrowserEnv:Mb,hasStandardBrowserWebWorkerEnv:Ob,navigator:Rp,origin:Fb},Symbol.toStringTag,{value:"Module"})),Qt={...jb,...Lb};function Bb(t,e){return Rh(t,new Qt.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,a){return Qt.isNode&&Q.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Ub(t){return Q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function zb(t){const e={},n=Object.keys(t);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],e[a]=t[a];return e}function I1(t){function e(n,r,o,a){let u=n[a++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),f=a>=n.length;return u=!u&&Q.isArray(o)?o.length:u,f?(Q.hasOwnProp(o,u)?o[u]=[o[u],r]:o[u]=r,!d):((!o[u]||!Q.isObject(o[u]))&&(o[u]=[]),e(n,r,o[u],a)&&Q.isArray(o[u])&&(o[u]=zb(o[u])),!d)}if(Q.isFormData(t)&&Q.isFunction(t.entries)){const n={};return Q.forEachEntry(t,(r,o)=>{e(Ub(r),o,n,0)}),n}return null}function $b(t,e,n){if(Q.isString(t))try{return(e||JSON.parse)(t),Q.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const $l={transitional:C1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,a=Q.isObject(e);if(a&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return o?JSON.stringify(I1(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Bb(e,this.formSerializer).toString();if((d=Q.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Rh(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||o?(n.setContentType("application/json",!1),$b(e)):e}],transformResponse:[function(e){const n=this.transitional||$l.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(r&&!this.responseType||o)){const u=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(u)throw d.name==="SyntaxError"?Pe.from(d,Pe.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qt.classes.FormData,Blob:Qt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],t=>{$l.headers[t]={}});const qb=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hb=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(u){o=u.indexOf(":"),n=u.substring(0,o).trim().toLowerCase(),r=u.substring(o+1).trim(),!(!n||e[n]&&qb[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},L_=Symbol("internals");function tl(t){return t&&String(t).trim().toLowerCase()}function Cc(t){return t===!1||t==null?t:Q.isArray(t)?t.map(Cc):String(t)}function Wb(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Kb=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Nf(t,e,n,r,o){if(Q.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!Q.isString(e)){if(Q.isString(r))return e.indexOf(r)!==-1;if(Q.isRegExp(r))return r.test(e)}}function Gb(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Qb(t,e){const n=Q.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,a,u){return this[r].call(this,e,o,a,u)},configurable:!0})})}class pn{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function a(d,f,p){const g=tl(f);if(!g)throw new Error("header name must be a non-empty string");const _=Q.findKey(o,g);(!_||o[_]===void 0||p===!0||p===void 0&&o[_]!==!1)&&(o[_||f]=Cc(d))}const u=(d,f)=>Q.forEach(d,(p,g)=>a(p,g,f));if(Q.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(Q.isString(e)&&(e=e.trim())&&!Kb(e))u(Hb(e),n);else if(Q.isHeaders(e))for(const[d,f]of e.entries())a(f,d,r);else e!=null&&a(n,e,r);return this}get(e,n){if(e=tl(e),e){const r=Q.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return Wb(o);if(Q.isFunction(n))return n.call(this,o,r);if(Q.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=tl(e),e){const r=Q.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Nf(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function a(u){if(u=tl(u),u){const d=Q.findKey(r,u);d&&(!n||Nf(r,r[d],d,n))&&(delete r[d],o=!0)}}return Q.isArray(e)?e.forEach(a):a(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const a=n[r];(!e||Nf(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const n=this,r={};return Q.forEach(this,(o,a)=>{const u=Q.findKey(r,a);if(u){n[u]=Cc(o),delete n[a];return}const d=e?Gb(a):String(a).trim();d!==a&&delete n[a],n[d]=Cc(o),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Q.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&Q.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[L_]=this[L_]={accessors:{}}).accessors,o=this.prototype;function a(u){const d=tl(u);r[d]||(Qb(o,u),r[d]=!0)}return Q.isArray(e)?e.forEach(a):a(e),this}}pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(pn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Q.freezeMethods(pn);function bf(t,e){const n=this||$l,r=e||n,o=pn.from(r.headers);let a=r.data;return Q.forEach(t,function(d){a=d.call(n,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function k1(t){return!!(t&&t.__CANCEL__)}function na(t,e,n){Pe.call(this,t??"canceled",Pe.ERR_CANCELED,e,n),this.name="CanceledError"}Q.inherits(na,Pe,{__CANCEL__:!0});function D1(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Pe("Request failed with status code "+n.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Xb(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Yb(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,a=0,u;return e=e!==void 0?e:1e3,function(f){const p=Date.now(),g=r[a];u||(u=p),n[o]=f,r[o]=p;let _=a,E=0;for(;_!==o;)E+=n[_++],_=_%t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),p-u<e)return;const x=g&&p-g;return x?Math.round(E*1e3/x):void 0}}function Jb(t,e){let n=0,r=1e3/e,o,a;const u=(p,g=Date.now())=>{n=g,o=null,a&&(clearTimeout(a),a=null),t.apply(null,p)};return[(...p)=>{const g=Date.now(),_=g-n;_>=r?u(p,g):(o=p,a||(a=setTimeout(()=>{a=null,u(o)},r-_)))},()=>o&&u(o)]}const Jc=(t,e,n=3)=>{let r=0;const o=Yb(50,250);return Jb(a=>{const u=a.loaded,d=a.lengthComputable?a.total:void 0,f=u-r,p=o(f),g=u<=d;r=u;const _={loaded:u,total:d,progress:d?u/d:void 0,bytes:f,rate:p||void 0,estimated:p&&d&&g?(d-u)/p:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(_)},n)},M_=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},O_=t=>(...e)=>Q.asap(()=>t(...e)),Zb=Qt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Qt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Qt.origin),Qt.navigator&&/(msie|trident)/i.test(Qt.navigator.userAgent)):()=>!0,eL=Qt.hasStandardBrowserEnv?{write(t,e,n,r,o,a){const u=[t+"="+encodeURIComponent(e)];Q.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),Q.isString(r)&&u.push("path="+r),Q.isString(o)&&u.push("domain="+o),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function nL(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function V1(t,e){return t&&!tL(e)?nL(t,e):e}const F_=t=>t instanceof pn?{...t}:t;function Ps(t,e){e=e||{};const n={};function r(p,g,_,E){return Q.isPlainObject(p)&&Q.isPlainObject(g)?Q.merge.call({caseless:E},p,g):Q.isPlainObject(g)?Q.merge({},g):Q.isArray(g)?g.slice():g}function o(p,g,_,E){if(Q.isUndefined(g)){if(!Q.isUndefined(p))return r(void 0,p,_,E)}else return r(p,g,_,E)}function a(p,g){if(!Q.isUndefined(g))return r(void 0,g)}function u(p,g){if(Q.isUndefined(g)){if(!Q.isUndefined(p))return r(void 0,p)}else return r(void 0,g)}function d(p,g,_){if(_ in e)return r(p,g);if(_ in t)return r(void 0,p)}const f={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(p,g,_)=>o(F_(p),F_(g),_,!0)};return Q.forEach(Object.keys(Object.assign({},t,e)),function(g){const _=f[g]||o,E=_(t[g],e[g],g);Q.isUndefined(E)&&_!==d||(n[g]=E)}),n}const N1=t=>{const e=Ps({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:u,auth:d}=e;e.headers=u=pn.from(u),e.url=P1(V1(e.baseURL,e.url),t.params,t.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let f;if(Q.isFormData(n)){if(Qt.hasStandardBrowserEnv||Qt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[p,...g]=f?f.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([p||"multipart/form-data",...g].join("; "))}}if(Qt.hasStandardBrowserEnv&&(r&&Q.isFunction(r)&&(r=r(e)),r||r!==!1&&Zb(e.url))){const p=o&&a&&eL.read(a);p&&u.set(o,p)}return e},rL=typeof XMLHttpRequest<"u",iL=rL&&function(t){return new Promise(function(n,r){const o=N1(t);let a=o.data;const u=pn.from(o.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:p}=o,g,_,E,x,R;function C(){x&&x(),R&&R(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let P=new XMLHttpRequest;P.open(o.method.toUpperCase(),o.url,!0),P.timeout=o.timeout;function N(){if(!P)return;const K=pn.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),te={data:!d||d==="text"||d==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:K,config:t,request:P};D1(function(V){n(V),C()},function(V){r(V),C()},te),P=null}"onloadend"in P?P.onloadend=N:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(N)},P.onabort=function(){P&&(r(new Pe("Request aborted",Pe.ECONNABORTED,t,P)),P=null)},P.onerror=function(){r(new Pe("Network Error",Pe.ERR_NETWORK,t,P)),P=null},P.ontimeout=function(){let re=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const te=o.transitional||C1;o.timeoutErrorMessage&&(re=o.timeoutErrorMessage),r(new Pe(re,te.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,t,P)),P=null},a===void 0&&u.setContentType(null),"setRequestHeader"in P&&Q.forEach(u.toJSON(),function(re,te){P.setRequestHeader(te,re)}),Q.isUndefined(o.withCredentials)||(P.withCredentials=!!o.withCredentials),d&&d!=="json"&&(P.responseType=o.responseType),p&&([E,R]=Jc(p,!0),P.addEventListener("progress",E)),f&&P.upload&&([_,x]=Jc(f),P.upload.addEventListener("progress",_),P.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(g=K=>{P&&(r(!K||K.type?new na(null,t,P):K),P.abort(),P=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const j=Xb(o.url);if(j&&Qt.protocols.indexOf(j)===-1){r(new Pe("Unsupported protocol "+j+":",Pe.ERR_BAD_REQUEST,t));return}P.send(a||null)})},sL=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,o;const a=function(p){if(!o){o=!0,d();const g=p instanceof Error?p:this.reason;r.abort(g instanceof Pe?g:new na(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,a(new Pe(`timeout ${e} of ms exceeded`,Pe.ETIMEDOUT))},e);const d=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),t=null)};t.forEach(p=>p.addEventListener("abort",a));const{signal:f}=r;return f.unsubscribe=()=>Q.asap(d),f}},oL=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,o;for(;r<n;)o=r+e,yield t.slice(r,o),r=o},aL=async function*(t,e){for await(const n of lL(t))yield*oL(n,e)},lL=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},j_=(t,e,n,r)=>{const o=aL(t,e);let a=0,u,d=f=>{u||(u=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:p,value:g}=await o.next();if(p){d(),f.close();return}let _=g.byteLength;if(n){let E=a+=_;n(E)}f.enqueue(new Uint8Array(g))}catch(p){throw d(p),p}},cancel(f){return d(f),o.return()}},{highWaterMark:2})},Ph=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",b1=Ph&&typeof ReadableStream=="function",uL=Ph&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),L1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},cL=b1&&L1(()=>{let t=!1;const e=new Request(Qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),B_=64*1024,Pp=b1&&L1(()=>Q.isReadableStream(new Response("").body)),Zc={stream:Pp&&(t=>t.body)};Ph&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Zc[e]&&(Zc[e]=Q.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Pe(`Response type '${e}' is not supported`,Pe.ERR_NOT_SUPPORT,r)})})})(new Response);const hL=async t=>{if(t==null)return 0;if(Q.isBlob(t))return t.size;if(Q.isSpecCompliantForm(t))return(await new Request(Qt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(t)||Q.isArrayBuffer(t))return t.byteLength;if(Q.isURLSearchParams(t)&&(t=t+""),Q.isString(t))return(await uL(t)).byteLength},dL=async(t,e)=>{const n=Q.toFiniteNumber(t.getContentLength());return n??hL(e)},fL=Ph&&(async t=>{let{url:e,method:n,data:r,signal:o,cancelToken:a,timeout:u,onDownloadProgress:d,onUploadProgress:f,responseType:p,headers:g,withCredentials:_="same-origin",fetchOptions:E}=N1(t);p=p?(p+"").toLowerCase():"text";let x=sL([o,a&&a.toAbortSignal()],u),R;const C=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let P;try{if(f&&cL&&n!=="get"&&n!=="head"&&(P=await dL(g,r))!==0){let te=new Request(e,{method:"POST",body:r,duplex:"half"}),ae;if(Q.isFormData(r)&&(ae=te.headers.get("content-type"))&&g.setContentType(ae),te.body){const[V,A]=M_(P,Jc(O_(f)));r=j_(te.body,B_,V,A)}}Q.isString(_)||(_=_?"include":"omit");const N="credentials"in Request.prototype;R=new Request(e,{...E,signal:x,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:N?_:void 0});let j=await fetch(R);const K=Pp&&(p==="stream"||p==="response");if(Pp&&(d||K&&C)){const te={};["status","statusText","headers"].forEach(I=>{te[I]=j[I]});const ae=Q.toFiniteNumber(j.headers.get("content-length")),[V,A]=d&&M_(ae,Jc(O_(d),!0))||[];j=new Response(j_(j.body,B_,V,()=>{A&&A(),C&&C()}),te)}p=p||"text";let re=await Zc[Q.findKey(Zc,p)||"text"](j,t);return!K&&C&&C(),await new Promise((te,ae)=>{D1(te,ae,{data:re,headers:pn.from(j.headers),status:j.status,statusText:j.statusText,config:t,request:R})})}catch(N){throw C&&C(),N&&N.name==="TypeError"&&/fetch/i.test(N.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,t,R),{cause:N.cause||N}):Pe.from(N,N&&N.code,t,R)}}),Cp={http:Cb,xhr:iL,fetch:fL};Q.forEach(Cp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const U_=t=>`- ${t}`,pL=t=>Q.isFunction(t)||t===null||t===!1,M1={getAdapter:t=>{t=Q.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let a=0;a<e;a++){n=t[a];let u;if(r=n,!pL(n)&&(r=Cp[(u=String(n)).toLowerCase()],r===void 0))throw new Pe(`Unknown adapter '${u}'`);if(r)break;o[u||"#"+a]=r}if(!r){const a=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?a.length>1?`since :
`+a.map(U_).join(`
`):" "+U_(a[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:Cp};function Lf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new na(null,t)}function z_(t){return Lf(t),t.headers=pn.from(t.headers),t.data=bf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),M1.getAdapter(t.adapter||$l.adapter)(t).then(function(r){return Lf(t),r.data=bf.call(t,t.transformResponse,r),r.headers=pn.from(r.headers),r},function(r){return k1(r)||(Lf(t),r&&r.response&&(r.response.data=bf.call(t,t.transformResponse,r.response),r.response.headers=pn.from(r.response.headers))),Promise.reject(r)})}const O1="1.7.9",Ch={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ch[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const $_={};Ch.transitional=function(e,n,r){function o(a,u){return"[Axios v"+O1+"] Transitional option '"+a+"'"+u+(r?". "+r:"")}return(a,u,d)=>{if(e===!1)throw new Pe(o(u," has been removed"+(n?" in "+n:"")),Pe.ERR_DEPRECATED);return n&&!$_[u]&&($_[u]=!0,console.warn(o(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,u,d):!0}};Ch.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function mL(t,e,n){if(typeof t!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const a=r[o],u=e[a];if(u){const d=t[a],f=d===void 0||u(d,a,t);if(f!==!0)throw new Pe("option "+a+" must be "+f,Pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pe("Unknown option "+a,Pe.ERR_BAD_OPTION)}}const Ic={assertOptions:mL,validators:Ch},pr=Ic.validators;class As{constructor(e){this.defaults=e,this.interceptors={request:new b_,response:new b_}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ps(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:a}=n;r!==void 0&&Ic.assertOptions(r,{silentJSONParsing:pr.transitional(pr.boolean),forcedJSONParsing:pr.transitional(pr.boolean),clarifyTimeoutError:pr.transitional(pr.boolean)},!1),o!=null&&(Q.isFunction(o)?n.paramsSerializer={serialize:o}:Ic.assertOptions(o,{encode:pr.function,serialize:pr.function},!0)),Ic.assertOptions(n,{baseUrl:pr.spelling("baseURL"),withXsrfToken:pr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=a&&Q.merge(a.common,a[n.method]);a&&Q.forEach(["delete","get","head","post","put","patch","common"],R=>{delete a[R]}),n.headers=pn.concat(u,a);const d=[];let f=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(f=f&&C.synchronous,d.unshift(C.fulfilled,C.rejected))});const p=[];this.interceptors.response.forEach(function(C){p.push(C.fulfilled,C.rejected)});let g,_=0,E;if(!f){const R=[z_.bind(this),void 0];for(R.unshift.apply(R,d),R.push.apply(R,p),E=R.length,g=Promise.resolve(n);_<E;)g=g.then(R[_++],R[_++]);return g}E=d.length;let x=n;for(_=0;_<E;){const R=d[_++],C=d[_++];try{x=R(x)}catch(P){C.call(this,P);break}}try{g=z_.call(this,x)}catch(R){return Promise.reject(R)}for(_=0,E=p.length;_<E;)g=g.then(p[_++],p[_++]);return g}getUri(e){e=Ps(this.defaults,e);const n=V1(e.baseURL,e.url);return P1(n,e.params,e.paramsSerializer)}}Q.forEach(["delete","get","head","options"],function(e){As.prototype[e]=function(n,r){return this.request(Ps(r||{},{method:e,url:n,data:(r||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function n(r){return function(a,u,d){return this.request(Ps(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}As.prototype[e]=n(),As.prototype[e+"Form"]=n(!0)});class Ym{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const u=new Promise(d=>{r.subscribe(d),a=d}).then(o);return u.cancel=function(){r.unsubscribe(a)},u},e(function(a,u,d){r.reason||(r.reason=new na(a,u,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Ym(function(o){e=o}),cancel:e}}}function gL(t){return function(n){return t.apply(null,n)}}function yL(t){return Q.isObject(t)&&t.isAxiosError===!0}const Ip={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ip).forEach(([t,e])=>{Ip[e]=t});function F1(t){const e=new As(t),n=m1(As.prototype.request,e);return Q.extend(n,As.prototype,e,{allOwnKeys:!0}),Q.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return F1(Ps(t,o))},n}const yt=F1($l);yt.Axios=As;yt.CanceledError=na;yt.CancelToken=Ym;yt.isCancel=k1;yt.VERSION=O1;yt.toFormData=Rh;yt.AxiosError=Pe;yt.Cancel=yt.CanceledError;yt.all=function(e){return Promise.all(e)};yt.spread=gL;yt.isAxiosError=yL;yt.mergeConfig=Ps;yt.AxiosHeaders=pn;yt.formToJSON=t=>I1(Q.isHTMLForm(t)?new FormData(t):t);yt.getAdapter=M1.getAdapter;yt.HttpStatusCode=Ip;yt.default=yt;const vL="dq1bcrrwe",_L="claimburse",wL=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",_L);try{return(await yt.post(`https://api.cloudinary.com/v1_1/${vL}/upload`,e,{headers:{"Content-Type":"multipart/form-data"}})).data.secure_url}catch(n){throw console.error("Cloudinary Upload Error:",n),n}};function EL(){const[t,e]=U.useState(""),[n,r]=U.useState(null),[o,a]=U.useState([]),[u,d]=U.useState(!1),[f,p]=U.useState(null),[g,_]=U.useState(null);U.useEffect(()=>{const C=VN(Tp(Yc,"reimbursements"),NN("nama_staff","==","Nama Staff Saat Ini")),P=f1(C,N=>{const j=N.docs.map(K=>({id:K.id,...K.data()}));a(j)});return()=>P()},[]);const E=C=>{const P=C.target.files[0];r(P);const N=new FileReader;N.onloadend=()=>{p(N.result)},N.readAsDataURL(P)},x=async C=>{if(C.preventDefault(),!n){alert("Silakan unggah kuitansi");return}d(!0);try{const P=await wL(n);await jN(Tp(Yc,"reimbursements"),{nama_staff:"Nama Staff Saat Ini",jumlah_uang:parseFloat(t),file_url:P,status:"Menunggu Persetujuan",timestamp:new Date}),e(""),r(null),p(null)}catch(P){console.error("Kesalahan saat mengirim penggantian biaya:",P),alert("Gagal mengirim penggantian biaya. Silakan coba lagi.")}finally{d(!1)}},R={"Menunggu Persetujuan":{bg:"bg-amber-50",text:"text-amber-600",icon:"text-amber-500"},Disetujui:{bg:"bg-emerald-50",text:"text-emerald-600",icon:"text-emerald-500"},Ditolak:{bg:"bg-rose-50",text:"text-rose-600",icon:"text-rose-500"},"Sudah Dikembalikan":{bg:"bg-blue-50",text:"text-blue-600",icon:"text-blue-500"}};return F.jsxs("div",{className:"min-h-screen bg-gray-100 p-2 sm:p-6",children:[F.jsxs(lt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"max-w-6xl mx-auto bg-white rounded-xl sm:rounded-2xl shadow-xl overflow-hidden",children:[F.jsx("div",{className:"bg-blue-600 text-white p-4 sm:p-6",children:F.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:F.jsxs("div",{children:[F.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Permintaan Penggantian Biaya"}),F.jsx("p",{className:"text-blue-100 text-sm",children:"Kirim dan lacak permintaan penggantian biaya Anda"})]})})}),F.jsx("div",{className:"p-4 sm:p-6",children:F.jsxs("form",{onSubmit:x,className:"space-y-4 sm:space-y-6",children:[F.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[F.jsxs(lt.div,{whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300},className:"space-y-2",children:[F.jsxs("label",{className:"block text-gray-700 font-semibold flex items-center",children:[F.jsx(qI,{size:16,className:"mr-2 text-blue-500"}),"Jumlah Penggantian Biaya"]}),F.jsx("input",{type:"number",value:t,onChange:C=>e(C.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan jumlah",required:!0})]}),F.jsxs(lt.div,{whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300},className:"space-y-2",children:[F.jsxs("label",{className:"block text-gray-700 font-semibold flex items-center",children:[F.jsx($I,{size:16,className:"mr-2 text-blue-500"}),"Unggah Kuitansi"]}),F.jsx("input",{type:"file",onChange:E,className:"w-full px-4 py-3 border border-gray-300 rounded-lg file:mr-4 file:rounded-lg file:border-0 file:bg-blue-50 file:px-4 file:py-2 file:text-blue-700",accept:".pdf,.jpg,.jpeg,.png",required:!0}),f&&F.jsx(lt.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-4",children:F.jsx("img",{src:f,alt:"Pratinjau Kuitansi",className:"max-h-40 rounded-lg object-cover shadow-md"})})]})]}),F.jsx(lt.button,{whileTap:{scale:.95},type:"submit",disabled:u,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:u?"Mengirim...":"Kirim Penggantian Biaya"})]})}),F.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50",children:[F.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-4 flex items-center",children:[F.jsx(Sf,{size:24,className:"mr-3 text-blue-500"}),"Riwayat Penggantian Biaya"]}),F.jsx("div",{className:"hidden sm:block overflow-x-auto",children:F.jsxs("table",{className:"w-full",children:[F.jsx("thead",{children:F.jsxs("tr",{className:"bg-gray-100 text-gray-600 uppercase text-xs",children:[F.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Jumlah"}),F.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Status"}),F.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Tanggal"}),F.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Kuitansi"})]})}),F.jsx("tbody",{children:o.map(C=>{const P=R[C.status]||R["Menunggu Persetujuan"];return F.jsxs(lt.tr,{initial:{opacity:0},animate:{opacity:1},className:"border-b hover:bg-gray-50",children:[F.jsxs("td",{className:"px-4 py-4 font-medium text-gray-900",children:["Rp ",C.jumlah_uang.toLocaleString()]}),F.jsx("td",{className:"px-4 py-4",children:F.jsxs("span",{className:`inline-flex items-center space-x-2 px-3 py-1 rounded-full text-xs font-medium ${P.bg} ${P.text}`,children:[F.jsx("span",{className:P.icon,children:""}),F.jsx("span",{children:C.status})]})}),F.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:C.timestamp.toDate().toLocaleDateString()}),F.jsx("td",{className:"px-4 py-4",children:F.jsxs("button",{onClick:()=>_(C.file_url),className:"text-blue-600 hover:text-blue-900 hover:underline flex items-center",children:[F.jsx(Sf,{size:16,className:"mr-2"}),"Lihat Kuitansi"]})})]},C.id)})})]})}),F.jsx("div",{className:"sm:hidden space-y-4",children:o.map(C=>{const P=R[C.status]||R["Menunggu Persetujuan"];return F.jsxs(lt.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-lg shadow-md p-4 space-y-3",children:[F.jsxs("div",{className:"flex justify-between items-start",children:[F.jsxs("div",{className:"font-medium text-gray-900",children:["Rp ",C.jumlah_uang.toLocaleString()]}),F.jsxs("span",{className:`inline-flex items-center space-x-2 px-3 py-1 rounded-full text-xs font-medium ${P.bg} ${P.text}`,children:[F.jsx("span",{className:P.icon,children:""}),F.jsx("span",{children:C.status})]})]}),F.jsx("div",{className:"text-sm text-gray-500",children:C.timestamp.toDate().toLocaleDateString()}),F.jsxs("button",{onClick:()=>_(C.file_url),className:"w-full mt-2 text-blue-600 hover:text-blue-900 hover:underline flex items-center justify-center py-2 border border-blue-200 rounded-lg",children:[F.jsx(Sf,{size:16,className:"mr-2"}),"Lihat Kuitansi"]})]},C.id)})})]})]}),g&&F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:F.jsxs(lt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[F.jsx("div",{className:"flex justify-end p-4",children:F.jsx("button",{onClick:()=>_(null),className:"text-gray-600 hover:text-gray-900",children:F.jsx(ME,{size:24})})}),F.jsx("div",{className:"p-4 pt-0",children:F.jsx("img",{src:g,alt:"Kuitansi",className:"w-full h-auto max-h-[75vh] object-contain"})})]})})]})}function TL(){const[t,e]=U.useState([]),[n,r]=U.useState("Semua"),[o,a]=U.useState(null);U.useState(!1),U.useEffect(()=>{const g=f1(Tp(Yc,"reimbursements"),_=>{const E=_.docs.map(x=>({id:x.id,...x.data()}));e(E)});return()=>g()},[]);const u=async(g,_)=>{try{const E=n1(Yc,"reimbursements",g);await FN(E,{status:_})}catch(E){console.error("Kesalahan memperbarui status:",E)}},d=g=>{a(g)},f={"Menunggu Persetujuan":{bg:"bg-amber-100",text:"text-amber-800",icon:"text-amber-600"},Disetujui:{bg:"bg-emerald-100",text:"text-emerald-800",icon:"text-emerald-600"},Ditolak:{bg:"bg-rose-100",text:"text-rose-800",icon:"text-rose-600"},"Sudah Dikembalikan":{bg:"bg-blue-100",text:"text-blue-800",icon:"text-blue-600"}},p=n==="Semua"?t:t.filter(g=>g.status===n);return F.jsxs("div",{className:"min-h-screen bg-gray-100 p-2 sm:p-6",children:[F.jsxs(lt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"max-w-6xl mx-auto bg-white rounded-xl shadow-xl overflow-hidden",children:[F.jsx("div",{className:"bg-emerald-600 text-white p-4 sm:p-6",children:F.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[F.jsxs("div",{children:[F.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Dasbor Penggantian Biaya"}),F.jsx("p",{className:"text-emerald-100 text-sm",children:"Tinjauan komprehensif permintaan penggantian biaya"})]}),F.jsx("div",{className:"w-full sm:w-auto",children:F.jsxs("div",{className:"relative",children:[F.jsxs("select",{value:n,onChange:g=>r(g.target.value),className:"w-full sm:w-auto appearance-none bg-white/20 border border-white/30 text-white px-4 py-2 rounded-lg pr-8 focus:outline-none focus:ring-2 focus:ring-white/30",children:[F.jsx("option",{value:"Semua",className:"text-gray-800",children:"Semua Permintaan"}),F.jsx("option",{value:"Menunggu Persetujuan",className:"text-gray-800",children:"Menunggu"}),F.jsx("option",{value:"Disetujui",className:"text-gray-800",children:"Disetujui"}),F.jsx("option",{value:"Ditolak",className:"text-gray-800",children:"Ditolak"}),F.jsx("option",{value:"Sudah Dikembalikan",className:"text-gray-800",children:"Dikembalikan"})]}),F.jsx(WI,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-white pointer-events-none",size:18})]})})]})}),F.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 p-4 sm:p-6 bg-gray-50",children:[{label:"Total Permintaan",value:t.length,color:"text-blue-600"},{label:"Menunggu",value:t.filter(g=>g.status==="Menunggu Persetujuan").length,color:"text-amber-600"},{label:"Disetujui",value:t.filter(g=>g.status==="Disetujui").length,color:"text-emerald-600"},{label:"Total Jumlah",value:`Rp ${t.reduce((g,_)=>g+_.jumlah_uang,0).toLocaleString()}`,color:"text-purple-600"}].map((g,_)=>F.jsxs(lt.div,{whileHover:{scale:1.02},className:"bg-white rounded-lg shadow-md p-3 sm:p-4 text-center",children:[F.jsx("h3",{className:"text-gray-500 text-xs uppercase mb-1",children:g.label}),F.jsx("p",{className:`text-lg sm:text-2xl font-bold ${g.color} truncate`,children:g.value})]},_))}),F.jsxs("div",{className:"p-4 sm:p-6",children:[F.jsx("div",{className:"hidden sm:block overflow-x-auto",children:F.jsxs("table",{className:"w-full",children:[F.jsx("thead",{children:F.jsxs("tr",{className:"bg-gray-100 text-gray-600 uppercase text-xs",children:[F.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Nama Staff"}),F.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Jumlah"}),F.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Status"}),F.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Tanggal"}),F.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Aksi"})]})}),F.jsx("tbody",{children:p.map(g=>{const _=f[g.status]||f["Menunggu Persetujuan"];return F.jsxs(lt.tr,{initial:{opacity:0},animate:{opacity:1},className:"border-b hover:bg-gray-50",children:[F.jsx("td",{className:"px-4 py-4 font-medium text-gray-900",children:g.nama_staff}),F.jsxs("td",{className:"px-4 py-4 text-gray-600",children:["Rp ",g.jumlah_uang.toLocaleString()]}),F.jsx("td",{className:"px-4 py-4",children:F.jsxs("span",{className:`inline-flex items-center space-x-2 px-3 py-1 rounded-full text-xs font-medium ${_.bg} ${_.text}`,children:[F.jsx("span",{className:_.icon,children:""}),F.jsx("span",{children:g.status})]})}),F.jsx("td",{className:"px-4 py-4 text-sm text-gray-500",children:g.timestamp.toDate().toLocaleDateString()}),F.jsx("td",{className:"px-4 py-4",children:F.jsx("div",{className:"flex space-x-2",children:F.jsx(q_,{reimburse:g,updateStatus:u,openPreview:d})})})]},g.id)})})]})}),F.jsx("div",{className:"sm:hidden space-y-4",children:p.map(g=>{const _=f[g.status]||f["Menunggu Persetujuan"];return F.jsxs(lt.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-lg shadow-md p-4 space-y-3",children:[F.jsxs("div",{className:"flex justify-between items-start",children:[F.jsxs("div",{children:[F.jsx("h3",{className:"font-medium text-gray-900",children:g.nama_staff}),F.jsx("p",{className:"text-sm text-gray-500",children:g.timestamp.toDate().toLocaleDateString()})]}),F.jsxs("span",{className:`inline-flex items-center space-x-2 px-3 py-1 rounded-full text-xs font-medium ${_.bg} ${_.text}`,children:[F.jsx("span",{className:_.icon,children:""}),F.jsx("span",{children:g.status})]})]}),F.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Rp ",g.jumlah_uang.toLocaleString()]}),F.jsx("div",{className:"flex flex-wrap gap-2",children:F.jsx(q_,{reimburse:g,updateStatus:u,openPreview:d,isMobile:!0})})]},g.id)})})]})]}),o&&F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:F.jsxs(lt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[F.jsx("div",{className:"flex justify-end p-4",children:F.jsx("button",{onClick:()=>a(null),className:"text-gray-600 hover:text-gray-900",children:F.jsx(ME,{size:24})})}),F.jsx("div",{className:"p-4 pt-0",children:F.jsx("img",{src:o,alt:"Kuitansi",className:"w-full h-auto max-h-[75vh] object-contain"})})]})})]})}const q_=({reimburse:t,updateStatus:e,openPreview:n,isMobile:r=!1})=>F.jsxs(F.Fragment,{children:[F.jsxs(lt.button,{whileHover:{scale:1.05},onClick:()=>e(t.id,"Disetujui"),className:`bg-emerald-100 text-emerald-800 p-2 rounded-lg hover:bg-emerald-200 transition-colors flex items-center space-x-1 ${r?"flex-1 justify-center":""}`,children:[F.jsx(LE,{size:16}),F.jsx("span",{className:"text-xs",children:"Setujui"})]}),F.jsxs(lt.button,{whileHover:{scale:1.05},onClick:()=>e(t.id,"Ditolak"),className:`bg-rose-100 text-rose-800 p-2 rounded-lg hover:bg-rose-200 transition-colors flex items-center space-x-1 ${r?"flex-1 justify-center":""}`,children:[F.jsx(zI,{size:16}),F.jsx("span",{className:"text-xs",children:"Tolak"})]}),F.jsxs(lt.button,{whileHover:{scale:1.05},onClick:()=>n(t.file_url),className:`bg-blue-100 text-blue-800 p-2 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 ${r?"flex-1 justify-center":""}`,children:[F.jsx(HI,{size:16}),F.jsx("span",{className:"text-xs",children:"Lihat"})]})]});function H_({children:t,role:e,onLogout:n}){return F.jsxs("div",{className:"min-h-screen bg-gray-50",children:[F.jsx("nav",{className:"bg-white shadow-md",children:F.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:F.jsxs("div",{className:"flex items-center justify-between h-16",children:[F.jsxs("div",{className:"flex items-center",children:[F.jsx("div",{className:"flex-shrink-0",children:F.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"Claimburse"})}),F.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:F.jsxs("span",{className:"text-gray-600 capitalize",children:[e," Dashboard"]})})]}),F.jsx("div",{children:F.jsx(lt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"Logout"})})]})})}),F.jsx("main",{children:t})]})}function SL(){const[t,e]=U.useState(null),n=o=>{e(o)},r=()=>{e(null)};return F.jsx(cA,{children:F.jsxs(Bx,{children:[F.jsx(mc,{path:"/",element:t?F.jsx(lf,{to:t==="staff"?"/staff":"/accountant"}):F.jsx(GI,{onRoleSelect:n})}),F.jsx(mc,{path:"/staff",element:t==="staff"?F.jsx(H_,{role:"staff",onLogout:r,children:F.jsx(EL,{})}):F.jsx(lf,{to:"/"})}),F.jsx(mc,{path:"/accountant",element:t==="accountant"?F.jsx(H_,{role:"accountant",onLogout:r,children:F.jsx(TL,{})}):F.jsx(lf,{to:"/"})})]})})}XS.createRoot(document.getElementById("root")).render(F.jsx(U.StrictMode,{children:F.jsx(SL,{})}));
